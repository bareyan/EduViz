{"timestamp": "2026-02-08T22:19:22.003201Z", "level": "INFO", "logger": "app.main", "message": "Starting MathViz Backend API", "module": "main", "function": "<module>", "line": 67, "extra": {"log_level": "INFO", "json_logs": false, "service": "api"}}
{"timestamp": "2026-02-08T22:19:22.003745Z", "level": "INFO", "logger": "app.main", "message": "Authentication mode", "module": "main", "function": "<module>", "line": 72, "extra": {"auth_enabled": true, "public_paths": {"exact": ["/", "/auth/login", "/auth/logout", "/auth/session", "/docs", "/health", "/openapi.json", "/redoc"], "prefixes": ["/docs/", "/redoc/", "/static/", "/outputs/"]}, "service": "api"}}
{"timestamp": "2026-02-08T22:19:33.763206Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "extra": {"component": "video_processor"}}
{"timestamp": "2026-02-08T22:19:33.763206Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:19:33.775577Z", "level": "INFO", "logger": "app.main", "message": "Startup runtime checks complete", "module": "main", "function": "_run_startup", "line": 107, "extra": {"runtime_report": {"directories": {"output": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "writable": true}, "upload": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads", "writable": true}}, "tools": {"required": ["ffmpeg", "ffprobe", "manim"], "missing": []}, "ok": true}, "service": "api"}}
{"timestamp": "2026-02-08T22:19:33.814290Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-08T22:19:33.824139Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-08T22:19:52.139295Z", "level": "INFO", "logger": "app.main", "message": "POST /upload", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7b30305c-28f9-4325-af03-908f47c1a3e0", "extra": {"method": "POST", "path": "/upload", "client": "127.0.0.1", "request_id": "7b30305c-28f9-4325-af03-908f47c1a3e0", "service": "api"}}
{"timestamp": "2026-02-08T22:19:52.144963Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload initiated", "module": "upload", "function": "upload_file", "line": 48, "request_id": "7b30305c-28f9-4325-af03-908f47c1a3e0", "extra": {"upload_filename": "adjoint-1.pdf", "content_type": "application/pdf", "request_id": "7b30305c-28f9-4325-af03-908f47c1a3e0", "component": "upload_routes"}}
{"timestamp": "2026-02-08T22:19:52.145964Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload completed", "module": "upload", "function": "upload_file", "line": 58, "request_id": "7b30305c-28f9-4325-af03-908f47c1a3e0", "extra": {"file_id": "95c8871a-8689-4d7a-a48c-2173b57cab6c", "upload_filename": "adjoint-1.pdf", "request_id": "7b30305c-28f9-4325-af03-908f47c1a3e0", "component": "upload_routes"}}
{"timestamp": "2026-02-08T22:19:52.146962Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7b30305c-28f9-4325-af03-908f47c1a3e0", "extra": {"status_code": 200, "method": "POST", "path": "/upload", "request_id": "7b30305c-28f9-4325-af03-908f47c1a3e0", "service": "api"}}
{"timestamp": "2026-02-08T22:19:52.465472Z", "level": "INFO", "logger": "app.main", "message": "POST /analyze", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "extra": {"method": "POST", "path": "/analyze", "client": "127.0.0.1", "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "service": "api"}}
{"timestamp": "2026-02-08T22:19:52.489551Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Read PDF bytes for analysis", "module": "pdf", "function": "_build_pdf_part", "line": 76, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\95c8871a-8689-4d7a-a48c-2173b57cab6c.pdf", "byte_count": 188376, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:19:52.491059Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Using full PDF for analysis", "module": "pdf", "function": "analyze", "line": 52, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "extra": {"total_pages": 4, "file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\95c8871a-8689-4d7a-a48c-2173b57cab6c.pdf", "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:19:52.491059Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Built list payload for PDF analysis", "module": "pdf", "function": "_build_prompt_contents", "line": 102, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:19:52.495584Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-flash-lite-latest | Prompt: 2691 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "extra": {"event": "llm_request", "request_id": "c4b35e85-6dc9-401a-8c59-8b7497c8913b", "timestamp": "2026-02-08T22:19:52.494583Z", "model": "gemini-flash-lite-latest", "prompt": "You are an expert educator preparing comprehensive educational video content with animated visuals.\n\nAnalyze this content and determine the best video structure.\nIMPORTANT: Detect the SUBJECT AREA (math, computer science, physics, economics, biology, engineering, general) from the content.\n\nDOCUMENT INFO:\n- Total pages: 4\n- This is a standard-sized document - create ONE comprehensive video\n\nCONTEN... [truncated, total: 2691 chars]", "prompt_length": 2691, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"summary": {"type": "string"}, "main_subject": {"type": "string"}, "subject_area": {"type": "string", "enum": ["math", "cs", "physics", "economics", "biology", "engineering", "general"]}, "key_concepts": {"type": "array", "items": {"type": "string"}}, "detected_math_elements": {"type": "integer"}, "document_structure": {"type": "string"}, "suggested_topics": {"type": "array", "items": {"type": "object", "properties": {"index": {"type": "integer"}, "title": {"type": "string"}, "description": {"type": "string"}, "estimated_duration": {"type": "integer"}, "complexity": {"type": "string"}, "subject_area": {"type": "string"}, "subtopics": {"type": "array", "items": {"type": "string"}}, "prerequisites": {"type": "array", "items": {"type": "string"}}, "visual_ideas": {"type": "array", "items": {"type": "string"}}}, "required": ["index", "title", "description", "estimated_duration", "complexity"]}}, "estimated_total_videos": {"type": "integer"}}, "required": ["summary", "main_subject", "subject_area", "key_concepts", "suggested_topics", "estimated_total_videos"]}}, "system_instruction": null, "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:19:52.497583Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73"}
{"timestamp": "2026-02-08T22:19:57.827164Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 5.33s | Length: 5751 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "extra": {"event": "llm_response", "request_id": "c4b35e85-6dc9-401a-8c59-8b7497c8913b", "timestamp": "2026-02-08T22:19:57.826164Z", "response_text": "{\n  \"summary\": \"This document introduces the 'Adjoint Trick,' a highly efficient method for computing gradients of complex functions, known variously as reverse/back-forward mode automatic differentiation, backpropagation, or the adjoint method. It contrasts this method with finite differences and forward-mode AD, highlighting the efficiency gain, especially when the output dimension (Nout) is sma... [truncated, total: 5751 chars]", "duration_seconds": 5.332, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:19:57.829164Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "PDF analysis LLM call succeeded", "module": "pdf", "function": "_gemini_analyze", "line": 278, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "extra": {"response_length": 5751, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:19:57.831669Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "extra": {"status_code": 200, "method": "POST", "path": "/analyze", "request_id": "c0260078-0c36-41ae-a78d-6919b6d7ff73", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.618013Z", "level": "INFO", "logger": "app.main", "message": "GET /voices", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d753cc10-d376-4908-9c3b-8a31fb1106ef", "extra": {"method": "GET", "path": "/voices", "client": "127.0.0.1", "request_id": "d753cc10-d376-4908-9c3b-8a31fb1106ef", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.622037Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/3b1b.png", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bd0afade-2c2f-4613-bc91-61719796616f", "extra": {"method": "GET", "path": "/static/style_previews/3b1b.png", "client": "127.0.0.1", "request_id": "bd0afade-2c2f-4613-bc91-61719796616f", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.622037Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d753cc10-d376-4908-9c3b-8a31fb1106ef", "extra": {"status_code": 200, "method": "GET", "path": "/voices", "request_id": "d753cc10-d376-4908-9c3b-8a31fb1106ef", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.625750Z", "level": "INFO", "logger": "app.main", "message": "GET /voices", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9daf2332-884e-456a-a93b-2b3dcf1b3fb2", "extra": {"method": "GET", "path": "/voices", "client": "127.0.0.1", "request_id": "9daf2332-884e-456a-a93b-2b3dcf1b3fb2", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.729653Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9daf2332-884e-456a-a93b-2b3dcf1b3fb2", "extra": {"status_code": 200, "method": "GET", "path": "/voices", "request_id": "9daf2332-884e-456a-a93b-2b3dcf1b3fb2", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.729653Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bd0afade-2c2f-4613-bc91-61719796616f", "extra": {"status_code": 304, "method": "GET", "path": "/static/style_previews/3b1b.png", "request_id": "bd0afade-2c2f-4613-bc91-61719796616f", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.733018Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/clean.png", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2a9edb95-e7db-497e-ab3e-e54ed32e24a5", "extra": {"method": "GET", "path": "/static/style_previews/clean.png", "client": "127.0.0.1", "request_id": "2a9edb95-e7db-497e-ab3e-e54ed32e24a5", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.734025Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/dracula.png", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1de53cdf-83ba-402d-9392-334df0d98595", "extra": {"method": "GET", "path": "/static/style_previews/dracula.png", "client": "127.0.0.1", "request_id": "1de53cdf-83ba-402d-9392-334df0d98595", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.737077Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2a9edb95-e7db-497e-ab3e-e54ed32e24a5", "extra": {"status_code": 304, "method": "GET", "path": "/static/style_previews/clean.png", "request_id": "2a9edb95-e7db-497e-ab3e-e54ed32e24a5", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.738075Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1de53cdf-83ba-402d-9392-334df0d98595", "extra": {"status_code": 304, "method": "GET", "path": "/static/style_previews/dracula.png", "request_id": "1de53cdf-83ba-402d-9392-334df0d98595", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.739078Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/nord.png", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "605d0c10-e61f-4bdf-bd74-d7fc9a90bb99", "extra": {"method": "GET", "path": "/static/style_previews/nord.png", "client": "127.0.0.1", "request_id": "605d0c10-e61f-4bdf-bd74-d7fc9a90bb99", "service": "api"}}
{"timestamp": "2026-02-08T22:19:59.741077Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "605d0c10-e61f-4bdf-bd74-d7fc9a90bb99", "extra": {"status_code": 304, "method": "GET", "path": "/static/style_previews/nord.png", "request_id": "605d0c10-e61f-4bdf-bd74-d7fc9a90bb99", "service": "api"}}
{"timestamp": "2026-02-08T22:20:10.192471Z", "level": "INFO", "logger": "app.main", "message": "POST /generate", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "extra": {"method": "POST", "path": "/generate", "client": "127.0.0.1", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "service": "api"}}
{"timestamp": "2026-02-08T22:20:19.176773Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "video_processor"}}
{"timestamp": "2026-02-08T22:20:19.176773Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:20:19.177772Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "extra": {"status_code": 200, "method": "POST", "path": "/generate", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "service": "api"}}
{"timestamp": "2026-02-08T22:20:19.179775Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Starting: generate_video (job: ce990073)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:20:19.180776Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "Initialized ProgressTracker for job ce990073", "module": "progress", "function": "__init__", "line": 114, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "job_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:20:19.180776Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Starting video generation", "module": "video_generator", "function": "generate_video", "line": 195, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "resume": false, "voice": "en-US-EmmaMultilingualNeural", "style": "dracula", "language": "auto", "video_mode": "overview", "content_focus": "practice", "document_context": "auto", "max_concurrent": 3, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:20:19.181777Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "Found 0 completed sections", "module": "progress", "function": "check_existing_progress", "line": 184, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"completed_count": 0, "total_sections": 0, "completed_indices": [], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:20:19.181777Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Generating new script (video_mode: overview)", "module": "video_generator", "function": "generate_video", "line": 227, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:20:19.182791Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[script] Generating script...", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "script", "progress": 0, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:20:19.182791Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Generating script from material", "module": "video_generator", "function": "_generate_script", "line": 391, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"material_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\95c8871a-8689-4d7a-a48c-2173b57cab6c.pdf", "video_mode": "overview", "content_focus": "practice", "document_context": "auto", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:20:19.184802Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Building PDF Part for attachment", "module": "base", "function": "build_pdf_part", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\95c8871a-8689-4d7a-a48c-2173b57cab6c.pdf", "byte_count": 188376, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:20:19.184802Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Falling back to Part.from_bytes for PDF attachment", "module": "base", "function": "build_pdf_part", "line": 139, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\95c8871a-8689-4d7a-a48c-2173b57cab6c.pdf", "byte_count": 188376, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:20:19.184802Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-flash-lite-latest | Prompt: 191 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "request_id": "cac707ee-bd99-4fb0-bee3-911e8a29f2bf", "timestamp": "2026-02-08T22:20:19.184802Z", "model": "gemini-flash-lite-latest", "prompt": "Detect the primary language of this text. Respond with ONLY the ISO 639-1 code (e.g., \"en\", \"fr\", \"es\").\n\nText:\nAnalyze the attached PDF and return its 2-letter language code.\n\nLanguage code:", "prompt_length": 191, "config": {"temperature": 0.1, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***"}, "system_instruction": null, "tools": null, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:20:19.185803Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:20:19.193181Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "93f9b78e-f72b-414c-bdc3-0d5bb983237e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "93f9b78e-f72b-414c-bdc3-0d5bb983237e", "service": "api"}}
{"timestamp": "2026-02-08T22:20:19.195189Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "629e1937-97e5-48d0-97a5-5e3b6351ccbd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "629e1937-97e5-48d0-97a5-5e3b6351ccbd", "service": "api"}}
{"timestamp": "2026-02-08T22:20:19.197189Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "93f9b78e-f72b-414c-bdc3-0d5bb983237e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "93f9b78e-f72b-414c-bdc3-0d5bb983237e", "service": "api"}}
{"timestamp": "2026-02-08T22:20:19.198188Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "629e1937-97e5-48d0-97a5-5e3b6351ccbd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "629e1937-97e5-48d0-97a5-5e3b6351ccbd", "service": "api"}}
{"timestamp": "2026-02-08T22:20:19.199189Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "602dee1c-b481-46e8-bb5a-e75475864f55", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "602dee1c-b481-46e8-bb5a-e75475864f55", "service": "api"}}
{"timestamp": "2026-02-08T22:20:19.200191Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "602dee1c-b481-46e8-bb5a-e75475864f55", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "602dee1c-b481-46e8-bb5a-e75475864f55", "service": "api"}}
{"timestamp": "2026-02-08T22:20:19.200191Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e95f396b-121e-46c4-825d-4409afbf35c1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e95f396b-121e-46c4-825d-4409afbf35c1", "service": "api"}}
{"timestamp": "2026-02-08T22:20:19.201697Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e95f396b-121e-46c4-825d-4409afbf35c1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e95f396b-121e-46c4-825d-4409afbf35c1", "service": "api"}}
{"timestamp": "2026-02-08T22:20:20.996522Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 1.81s | Length: 2 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "request_id": "cac707ee-bd99-4fb0-bee3-911e8a29f2bf", "timestamp": "2026-02-08T22:20:20.995522Z", "response_text": "en", "duration_seconds": 1.811, "success": true, "error": null, "metadata": null, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:20:20.997524Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.generator", "message": "Using OVERVIEW mode", "module": "generator", "function": "generate_script", "line": 91, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"video_mode": "overview", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "script_generator"}}
{"timestamp": "2026-02-08T22:20:20.997524Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview generation constraints", "module": "overview_generator", "function": "generate_overview_script", "line": 135, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"overview_constraints": {"min_duration_seconds": 180, "max_duration_seconds": 420, "min_sections": 5, "max_sections": 8, "section_min_words": 80, "section_max_words": 170, "constraint_retry_count": 1}, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:20:20.998526Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Building PDF Part for attachment", "module": "base", "function": "build_pdf_part", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\95c8871a-8689-4d7a-a48c-2173b57cab6c.pdf", "byte_count": 188376, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:20:20.998526Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Falling back to Part.from_bytes for PDF attachment", "module": "base", "function": "build_pdf_part", "line": 139, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\95c8871a-8689-4d7a-a48c-2173b57cab6c.pdf", "byte_count": 188376, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:20:20.998526Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview planning profile", "module": "overview_generator", "function": "_build_planning_profile", "line": 537, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"material_score": 2, "total_pages": 4, "content_length": 0, "estimated_duration_hint": 22, "effective_min_sections": 6, "preferred_sections": 7, "preferred_duration_seconds": 384, "target_section_words": 153, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:20:20.999522Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Built list payload for prompt + attachment", "module": "base", "function": "build_prompt_contents", "line": 163, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:20:20.999522Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "LLM contents payload prepared", "module": "base", "function": "generate_with_engine", "line": 242, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"contents_type": "list", "contents_len": 2, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:20:20.999522Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 4069 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "request_id": "868e525b-b901-4969-8bd5-857d1cd1f925", "timestamp": "2026-02-08T22:20:20.999522Z", "model": "gemini-3-flash-preview", "prompt": "You are an expert educator creating a SHORT, ENGAGING overview video script.\nGenerate ALL content in English.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n                         OVERVIEW VIDEO REQUIREMENTS\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nGOAL: Create a 3-7 MINUTE overview video that introduces the key concepts.\n... [truncated, total: 4069 chars]", "prompt_length": 4069, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"title": {"type": "string", "description": "Engaging video title"}, "subject_area": {"type": "string", "description": "Subject area (math, cs, physics, etc.)"}, "overview": {"type": "string", "description": "2-3 sentence description of what viewers will learn"}, "learning_objectives": {"type": "array", "items": {"type": "string"}, "description": "2-4 key learning objectives"}, "sections": {"type": "array", "minItems": 5, "maxItems": 8, "items": {"type": "object", "properties": {"id": {"type": "string", "description": "Unique section identifier (e.g., intro, concept_1, conclusion)"}, "title": {"type": "string", "description": "Section title"}, "narration": {"type": "string", "description": "Complete spoken narration for this section (80-170 words)"}, "tts_narration": {"type": "string", "description": "TTS-ready narration with math spelled out"}, "supporting_data": {"type": "array", "items": {"type": "object", "properties": {"type": {"type": "string"}, "label": {"type": "string"}, "value": {}, "notes": {"type": "string"}}, "required": ["type", "value"]}}}, "required": ["id", "title", "narration", "tts_narration"]}, "description": "5-8 sections for the video"}}, "required": ["title", "overview", "sections"]}}, "system_instruction": null, "tools": null, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:20:21.000522Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:20:22.229944Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f6f19659-1aea-49a7-8bbb-15a2434485dd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f6f19659-1aea-49a7-8bbb-15a2434485dd", "service": "api"}}
{"timestamp": "2026-02-08T22:20:22.230908Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dd57a0fa-194a-4eb4-9b4d-930bece0e157", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "dd57a0fa-194a-4eb4-9b4d-930bece0e157", "service": "api"}}
{"timestamp": "2026-02-08T22:20:22.231907Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f6f19659-1aea-49a7-8bbb-15a2434485dd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f6f19659-1aea-49a7-8bbb-15a2434485dd", "service": "api"}}
{"timestamp": "2026-02-08T22:20:22.231907Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dd57a0fa-194a-4eb4-9b4d-930bece0e157", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "dd57a0fa-194a-4eb4-9b4d-930bece0e157", "service": "api"}}
{"timestamp": "2026-02-08T22:20:25.235748Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a1385040-b97b-4811-a556-e4712ee7a182", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "a1385040-b97b-4811-a556-e4712ee7a182", "service": "api"}}
{"timestamp": "2026-02-08T22:20:25.236742Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e3fe326a-3eaa-465a-9d08-bf0a4056328d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e3fe326a-3eaa-465a-9d08-bf0a4056328d", "service": "api"}}
{"timestamp": "2026-02-08T22:20:25.236742Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a1385040-b97b-4811-a556-e4712ee7a182", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "a1385040-b97b-4811-a556-e4712ee7a182", "service": "api"}}
{"timestamp": "2026-02-08T22:20:25.238029Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e3fe326a-3eaa-465a-9d08-bf0a4056328d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e3fe326a-3eaa-465a-9d08-bf0a4056328d", "service": "api"}}
{"timestamp": "2026-02-08T22:20:28.232861Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "14203258-7fca-4778-b7f4-68fda4974d5b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "14203258-7fca-4778-b7f4-68fda4974d5b", "service": "api"}}
{"timestamp": "2026-02-08T22:20:28.233869Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7294de69-7775-43db-86a4-15e5fddd1520", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7294de69-7775-43db-86a4-15e5fddd1520", "service": "api"}}
{"timestamp": "2026-02-08T22:20:28.234867Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "14203258-7fca-4778-b7f4-68fda4974d5b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "14203258-7fca-4778-b7f4-68fda4974d5b", "service": "api"}}
{"timestamp": "2026-02-08T22:20:28.235866Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7294de69-7775-43db-86a4-15e5fddd1520", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7294de69-7775-43db-86a4-15e5fddd1520", "service": "api"}}
{"timestamp": "2026-02-08T22:20:31.231348Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "36f0304e-68c4-4539-b36f-d8277f6898b1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "36f0304e-68c4-4539-b36f-d8277f6898b1", "service": "api"}}
{"timestamp": "2026-02-08T22:20:31.232882Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a5810ec8-aec2-4dfa-881a-2c17ca068f1a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a5810ec8-aec2-4dfa-881a-2c17ca068f1a", "service": "api"}}
{"timestamp": "2026-02-08T22:20:31.232882Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "36f0304e-68c4-4539-b36f-d8277f6898b1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "36f0304e-68c4-4539-b36f-d8277f6898b1", "service": "api"}}
{"timestamp": "2026-02-08T22:20:31.233887Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a5810ec8-aec2-4dfa-881a-2c17ca068f1a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a5810ec8-aec2-4dfa-881a-2c17ca068f1a", "service": "api"}}
{"timestamp": "2026-02-08T22:20:34.234564Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f7e557e1-d946-40f9-b8d2-c9035072a0a0", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f7e557e1-d946-40f9-b8d2-c9035072a0a0", "service": "api"}}
{"timestamp": "2026-02-08T22:20:34.235659Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1026088a-9bae-4d85-844e-6867698120b7", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "1026088a-9bae-4d85-844e-6867698120b7", "service": "api"}}
{"timestamp": "2026-02-08T22:20:34.235659Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f7e557e1-d946-40f9-b8d2-c9035072a0a0", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f7e557e1-d946-40f9-b8d2-c9035072a0a0", "service": "api"}}
{"timestamp": "2026-02-08T22:20:34.236861Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1026088a-9bae-4d85-844e-6867698120b7", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "1026088a-9bae-4d85-844e-6867698120b7", "service": "api"}}
{"timestamp": "2026-02-08T22:20:37.232505Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b6d45873-1315-40cc-bedf-a9f95740e45b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b6d45873-1315-40cc-bedf-a9f95740e45b", "service": "api"}}
{"timestamp": "2026-02-08T22:20:37.232505Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "34aa2e8b-8435-4c50-9836-72ee52c1eb7e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "34aa2e8b-8435-4c50-9836-72ee52c1eb7e", "service": "api"}}
{"timestamp": "2026-02-08T22:20:37.233586Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b6d45873-1315-40cc-bedf-a9f95740e45b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b6d45873-1315-40cc-bedf-a9f95740e45b", "service": "api"}}
{"timestamp": "2026-02-08T22:20:37.233586Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "34aa2e8b-8435-4c50-9836-72ee52c1eb7e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "34aa2e8b-8435-4c50-9836-72ee52c1eb7e", "service": "api"}}
{"timestamp": "2026-02-08T22:20:40.231095Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f48ad79f-3989-438c-b37a-3438a2e0db80", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f48ad79f-3989-438c-b37a-3438a2e0db80", "service": "api"}}
{"timestamp": "2026-02-08T22:20:40.232701Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "17ac4345-661a-4cf6-be0e-6dc4c7b34926", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "17ac4345-661a-4cf6-be0e-6dc4c7b34926", "service": "api"}}
{"timestamp": "2026-02-08T22:20:40.232701Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f48ad79f-3989-438c-b37a-3438a2e0db80", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f48ad79f-3989-438c-b37a-3438a2e0db80", "service": "api"}}
{"timestamp": "2026-02-08T22:20:40.233216Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "17ac4345-661a-4cf6-be0e-6dc4c7b34926", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "17ac4345-661a-4cf6-be0e-6dc4c7b34926", "service": "api"}}
{"timestamp": "2026-02-08T22:20:43.234027Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "14f38eaa-c8cb-41e7-aa7e-f8f8661f3f55", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "14f38eaa-c8cb-41e7-aa7e-f8f8661f3f55", "service": "api"}}
{"timestamp": "2026-02-08T22:20:43.235441Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "95571885-2269-4bc4-a44e-2a446b60a207", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "95571885-2269-4bc4-a44e-2a446b60a207", "service": "api"}}
{"timestamp": "2026-02-08T22:20:43.236453Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "14f38eaa-c8cb-41e7-aa7e-f8f8661f3f55", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "14f38eaa-c8cb-41e7-aa7e-f8f8661f3f55", "service": "api"}}
{"timestamp": "2026-02-08T22:20:43.236453Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "95571885-2269-4bc4-a44e-2a446b60a207", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "95571885-2269-4bc4-a44e-2a446b60a207", "service": "api"}}
{"timestamp": "2026-02-08T22:20:46.234942Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1d2ded51-7185-4487-aeab-19140c58513e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "1d2ded51-7185-4487-aeab-19140c58513e", "service": "api"}}
{"timestamp": "2026-02-08T22:20:46.235946Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a6324537-bec7-4b5c-8797-c005993112e7", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a6324537-bec7-4b5c-8797-c005993112e7", "service": "api"}}
{"timestamp": "2026-02-08T22:20:46.235946Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1d2ded51-7185-4487-aeab-19140c58513e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "1d2ded51-7185-4487-aeab-19140c58513e", "service": "api"}}
{"timestamp": "2026-02-08T22:20:46.237205Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a6324537-bec7-4b5c-8797-c005993112e7", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a6324537-bec7-4b5c-8797-c005993112e7", "service": "api"}}
{"timestamp": "2026-02-08T22:20:49.232870Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3f6dae6b-91be-463c-bc0f-20e82a5ebf57", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "3f6dae6b-91be-463c-bc0f-20e82a5ebf57", "service": "api"}}
{"timestamp": "2026-02-08T22:20:49.233909Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "259ccc82-680c-46f9-b1c7-0203ee2444de", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "259ccc82-680c-46f9-b1c7-0203ee2444de", "service": "api"}}
{"timestamp": "2026-02-08T22:20:49.234619Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3f6dae6b-91be-463c-bc0f-20e82a5ebf57", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "3f6dae6b-91be-463c-bc0f-20e82a5ebf57", "service": "api"}}
{"timestamp": "2026-02-08T22:20:49.234619Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "259ccc82-680c-46f9-b1c7-0203ee2444de", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "259ccc82-680c-46f9-b1c7-0203ee2444de", "service": "api"}}
{"timestamp": "2026-02-08T22:20:52.228933Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c4eb27ab-0530-4c0f-b6b1-490e3a071a7b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c4eb27ab-0530-4c0f-b6b1-490e3a071a7b", "service": "api"}}
{"timestamp": "2026-02-08T22:20:52.229935Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "492cc67f-213f-445b-85bc-52ad9539c5b7", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "492cc67f-213f-445b-85bc-52ad9539c5b7", "service": "api"}}
{"timestamp": "2026-02-08T22:20:52.229935Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c4eb27ab-0530-4c0f-b6b1-490e3a071a7b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c4eb27ab-0530-4c0f-b6b1-490e3a071a7b", "service": "api"}}
{"timestamp": "2026-02-08T22:20:52.231399Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "492cc67f-213f-445b-85bc-52ad9539c5b7", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "492cc67f-213f-445b-85bc-52ad9539c5b7", "service": "api"}}
{"timestamp": "2026-02-08T22:20:52.311088Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 31.31s | Length: 16208 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "request_id": "868e525b-b901-4969-8bd5-857d1cd1f925", "timestamp": "2026-02-08T22:20:52.307999Z", "response_text": "{\n  \"title\": \"The Adjoint Trick: Mastering Automatic Differentiation\",\n  \"subject_area\": \"cs\",\n  \"overview\": \"Discover the mathematical magic behind reverse-mode automatic differentiation, from the limitations of finite differences to the 'adjoint trick' that powers modern machine learning and physics simulations.\",\n  \"learning_objectives\": [\n    \"Understand why finite differences are imprecise an... [truncated, total: 16208 chars]", "duration_seconds": 31.308, "success": true, "error": null, "metadata": null, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:20:52.314605Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script metrics", "module": "overview_generator", "function": "_log_script_metrics", "line": 638, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempt": 1, "metrics": {"section_count": 7, "total_words": 956, "estimated_duration_seconds": 472, "section_word_counts": [149, 140, 139, 138, 140, 122, 128]}, "violations": ["duration_too_high"], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:20:52.314605Z", "level": "WARNING", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script constraints missed; retrying generation", "module": "overview_generator", "function": "generate_overview_script", "line": 224, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempt": 1, "max_attempts": 2, "violations": ["duration_too_high"], "metrics": {"section_count": 7, "section_word_counts": [149, 140, 139, 138, 140, 122, 128], "total_words": 956, "estimated_duration_seconds": 472}, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:20:52.314605Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Built list payload for prompt + attachment", "module": "base", "function": "build_prompt_contents", "line": 163, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:20:52.314605Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "LLM contents payload prepared", "module": "base", "function": "generate_with_engine", "line": 242, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"contents_type": "list", "contents_len": 2, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:20:52.316110Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 4571 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "request_id": "da281429-09b6-45ca-8b4c-79f566a5d94f", "timestamp": "2026-02-08T22:20:52.315605Z", "model": "gemini-3-flash-preview", "prompt": "You are an expert educator creating a SHORT, ENGAGING overview video script.\nGenerate ALL content in English.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n                         OVERVIEW VIDEO REQUIREMENTS\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nGOAL: Create a 3-7 MINUTE overview video that introduces the key concepts.\n... [truncated, total: 4571 chars]", "prompt_length": 4571, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"title": {"type": "string", "description": "Engaging video title"}, "subject_area": {"type": "string", "description": "Subject area (math, cs, physics, etc.)"}, "overview": {"type": "string", "description": "2-3 sentence description of what viewers will learn"}, "learning_objectives": {"type": "array", "items": {"type": "string"}, "description": "2-4 key learning objectives"}, "sections": {"type": "array", "minItems": 5, "maxItems": 8, "items": {"type": "object", "properties": {"id": {"type": "string", "description": "Unique section identifier (e.g., intro, concept_1, conclusion)"}, "title": {"type": "string", "description": "Section title"}, "narration": {"type": "string", "description": "Complete spoken narration for this section (80-170 words)"}, "tts_narration": {"type": "string", "description": "TTS-ready narration with math spelled out"}, "supporting_data": {"type": "array", "items": {"type": "object", "properties": {"type": {"type": "string"}, "label": {"type": "string"}, "value": {}, "notes": {"type": "string"}}, "required": ["type", "value"], "property_ordering": ["type", "label", "value", "notes"]}}}, "required": ["id", "title", "narration", "tts_narration"], "property_ordering": ["id", "title", "narration", "tts_narration", "supporting_data"]}, "description": "5-8 sections for the video"}}, "required": ["title", "overview", "sections"]}}, "system_instruction": null, "tools": null, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:20:52.317112Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:20:55.224409Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "33dd98b3-a24f-41d2-8f38-5783c0303f4e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "33dd98b3-a24f-41d2-8f38-5783c0303f4e", "service": "api"}}
{"timestamp": "2026-02-08T22:20:55.225449Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "015acca0-debf-44be-961c-c28910da2880", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "015acca0-debf-44be-961c-c28910da2880", "service": "api"}}
{"timestamp": "2026-02-08T22:20:55.225449Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "33dd98b3-a24f-41d2-8f38-5783c0303f4e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "33dd98b3-a24f-41d2-8f38-5783c0303f4e", "service": "api"}}
{"timestamp": "2026-02-08T22:20:55.226447Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "015acca0-debf-44be-961c-c28910da2880", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "015acca0-debf-44be-961c-c28910da2880", "service": "api"}}
{"timestamp": "2026-02-08T22:20:58.225167Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d56c3cdc-ed79-4cb4-a224-fe0da37e3b76", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "d56c3cdc-ed79-4cb4-a224-fe0da37e3b76", "service": "api"}}
{"timestamp": "2026-02-08T22:20:58.226162Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "069fd9c7-e1cf-4b60-bd0c-6f81b62409c3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "069fd9c7-e1cf-4b60-bd0c-6f81b62409c3", "service": "api"}}
{"timestamp": "2026-02-08T22:20:58.227163Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d56c3cdc-ed79-4cb4-a224-fe0da37e3b76", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "d56c3cdc-ed79-4cb4-a224-fe0da37e3b76", "service": "api"}}
{"timestamp": "2026-02-08T22:20:58.228163Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "069fd9c7-e1cf-4b60-bd0c-6f81b62409c3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "069fd9c7-e1cf-4b60-bd0c-6f81b62409c3", "service": "api"}}
{"timestamp": "2026-02-08T22:21:01.194014Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a6673bfb-4290-45a2-b1d4-d705ba8f87e6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "a6673bfb-4290-45a2-b1d4-d705ba8f87e6", "service": "api"}}
{"timestamp": "2026-02-08T22:21:01.195020Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "33d663a9-d274-4851-ac2e-d880da131899", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "33d663a9-d274-4851-ac2e-d880da131899", "service": "api"}}
{"timestamp": "2026-02-08T22:21:01.196022Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a6673bfb-4290-45a2-b1d4-d705ba8f87e6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "a6673bfb-4290-45a2-b1d4-d705ba8f87e6", "service": "api"}}
{"timestamp": "2026-02-08T22:21:01.197022Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "33d663a9-d274-4851-ac2e-d880da131899", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "33d663a9-d274-4851-ac2e-d880da131899", "service": "api"}}
{"timestamp": "2026-02-08T22:21:04.235420Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9796cdd8-02e4-47ee-92b7-eeed651e3ac3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "9796cdd8-02e4-47ee-92b7-eeed651e3ac3", "service": "api"}}
{"timestamp": "2026-02-08T22:21:04.236424Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ade81aff-423f-443e-b0bc-b5a7bad633b3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "ade81aff-423f-443e-b0bc-b5a7bad633b3", "service": "api"}}
{"timestamp": "2026-02-08T22:21:04.238422Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9796cdd8-02e4-47ee-92b7-eeed651e3ac3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "9796cdd8-02e4-47ee-92b7-eeed651e3ac3", "service": "api"}}
{"timestamp": "2026-02-08T22:21:04.239498Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ade81aff-423f-443e-b0bc-b5a7bad633b3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "ade81aff-423f-443e-b0bc-b5a7bad633b3", "service": "api"}}
{"timestamp": "2026-02-08T22:21:07.233750Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7dfb619a-4b96-40c5-b40d-e2538cdcba16", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "7dfb619a-4b96-40c5-b40d-e2538cdcba16", "service": "api"}}
{"timestamp": "2026-02-08T22:21:07.234263Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7ce9d9ff-495e-435e-ae6a-b4d9c17cf276", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7ce9d9ff-495e-435e-ae6a-b4d9c17cf276", "service": "api"}}
{"timestamp": "2026-02-08T22:21:07.234908Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7dfb619a-4b96-40c5-b40d-e2538cdcba16", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "7dfb619a-4b96-40c5-b40d-e2538cdcba16", "service": "api"}}
{"timestamp": "2026-02-08T22:21:07.236373Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7ce9d9ff-495e-435e-ae6a-b4d9c17cf276", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7ce9d9ff-495e-435e-ae6a-b4d9c17cf276", "service": "api"}}
{"timestamp": "2026-02-08T22:21:10.237142Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "044ef399-985d-464e-aecf-a069818fa9db", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "044ef399-985d-464e-aecf-a069818fa9db", "service": "api"}}
{"timestamp": "2026-02-08T22:21:10.238140Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0f988f60-d2ed-4c63-989f-92258e182918", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "0f988f60-d2ed-4c63-989f-92258e182918", "service": "api"}}
{"timestamp": "2026-02-08T22:21:10.241142Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "044ef399-985d-464e-aecf-a069818fa9db", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "044ef399-985d-464e-aecf-a069818fa9db", "service": "api"}}
{"timestamp": "2026-02-08T22:21:10.242142Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0f988f60-d2ed-4c63-989f-92258e182918", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "0f988f60-d2ed-4c63-989f-92258e182918", "service": "api"}}
{"timestamp": "2026-02-08T22:21:13.223794Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c7b11ad1-b0b0-405f-87ec-a85595307f44", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c7b11ad1-b0b0-405f-87ec-a85595307f44", "service": "api"}}
{"timestamp": "2026-02-08T22:21:13.224803Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "74fed127-b177-4733-b8fc-76f01960cced", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "74fed127-b177-4733-b8fc-76f01960cced", "service": "api"}}
{"timestamp": "2026-02-08T22:21:13.225315Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c7b11ad1-b0b0-405f-87ec-a85595307f44", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c7b11ad1-b0b0-405f-87ec-a85595307f44", "service": "api"}}
{"timestamp": "2026-02-08T22:21:13.226315Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "74fed127-b177-4733-b8fc-76f01960cced", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "74fed127-b177-4733-b8fc-76f01960cced", "service": "api"}}
{"timestamp": "2026-02-08T22:21:16.227048Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fc3b5a67-5376-4395-92dc-42d6193cb164", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "fc3b5a67-5376-4395-92dc-42d6193cb164", "service": "api"}}
{"timestamp": "2026-02-08T22:21:16.227048Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8795ef73-ef74-45ba-aa04-f0b43f7dee0e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "8795ef73-ef74-45ba-aa04-f0b43f7dee0e", "service": "api"}}
{"timestamp": "2026-02-08T22:21:16.228048Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fc3b5a67-5376-4395-92dc-42d6193cb164", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "fc3b5a67-5376-4395-92dc-42d6193cb164", "service": "api"}}
{"timestamp": "2026-02-08T22:21:16.229048Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8795ef73-ef74-45ba-aa04-f0b43f7dee0e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "8795ef73-ef74-45ba-aa04-f0b43f7dee0e", "service": "api"}}
{"timestamp": "2026-02-08T22:21:19.230309Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ebdf5e13-21a5-43ae-ba57-b33bbca081f0", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "ebdf5e13-21a5-43ae-ba57-b33bbca081f0", "service": "api"}}
{"timestamp": "2026-02-08T22:21:19.231314Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5c8a146e-47ba-4963-8be8-d55eae7265bf", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5c8a146e-47ba-4963-8be8-d55eae7265bf", "service": "api"}}
{"timestamp": "2026-02-08T22:21:19.232315Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ebdf5e13-21a5-43ae-ba57-b33bbca081f0", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "ebdf5e13-21a5-43ae-ba57-b33bbca081f0", "service": "api"}}
{"timestamp": "2026-02-08T22:21:19.232315Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5c8a146e-47ba-4963-8be8-d55eae7265bf", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5c8a146e-47ba-4963-8be8-d55eae7265bf", "service": "api"}}
{"timestamp": "2026-02-08T22:21:22.223766Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c2385c5d-ed59-4347-bea0-af75ae3378e2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c2385c5d-ed59-4347-bea0-af75ae3378e2", "service": "api"}}
{"timestamp": "2026-02-08T22:21:22.224774Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a40bf48e-e946-45b7-81c4-798f0b7826c6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a40bf48e-e946-45b7-81c4-798f0b7826c6", "service": "api"}}
{"timestamp": "2026-02-08T22:21:22.225936Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c2385c5d-ed59-4347-bea0-af75ae3378e2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c2385c5d-ed59-4347-bea0-af75ae3378e2", "service": "api"}}
{"timestamp": "2026-02-08T22:21:22.225936Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a40bf48e-e946-45b7-81c4-798f0b7826c6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a40bf48e-e946-45b7-81c4-798f0b7826c6", "service": "api"}}
{"timestamp": "2026-02-08T22:21:23.750080Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 31.43s | Length: 15953 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "request_id": "da281429-09b6-45ca-8b4c-79f566a5d94f", "timestamp": "2026-02-08T22:21:23.749080Z", "response_text": "{\n  \"title\": \"Mastering the Adjoint Trick: Efficient Automatic Differentiation\",\n  \"subject_area\": \"cs\",\n  \"overview\": \"Discover the 'Adjoint Trick,' a fundamental technique in computer science and physics known as backpropagation or reverse-mode automatic differentiation. You will learn why traditional finite differences fail in high dimensions and how exact gradients can be computed with remarka... [truncated, total: 15953 chars]", "duration_seconds": 31.433, "success": true, "error": null, "metadata": null, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:21:23.755094Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script metrics", "module": "overview_generator", "function": "_log_script_metrics", "line": 638, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempt": 2, "metrics": {"section_count": 7, "total_words": 928, "estimated_duration_seconds": 447, "section_word_counts": [132, 130, 135, 132, 137, 123, 139]}, "violations": ["duration_too_high"], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:21:23.755094Z", "level": "WARNING", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script constraints still missed after retries; returning best effort", "module": "overview_generator", "function": "generate_overview_script", "line": 235, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"violations": ["duration_too_high"], "metrics": {"section_count": 7, "section_word_counts": [132, 130, 135, 132, 137, 123, 139], "total_words": 928, "estimated_duration_seconds": 447}, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:21:23.760101Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[script] Script generated", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "script", "progress": 100, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:21:23.763462Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Processing 7 sections", "module": "video_generator", "function": "generate_video", "line": 258, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_count": 7, "effective_language": "en", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:21:23.763983Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Initialized SectionOrchestrator", "module": "orchestrator", "function": "__init__", "line": 79, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"max_concurrent": 3, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:21:23.763983Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Starting: process_sections_parallel (7 sections)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:21:23.764992Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Starting parallel section processing", "module": "orchestrator", "function": "process_sections_parallel", "line": 121, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"total_sections": 7, "max_concurrent": 3, "resume": false, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:21:23.764992Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Processing 7 sections (max 3 concurrent)...", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "sections", "progress": 0, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:21:23.767645Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 1/7: The Gradient Challenge", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 0, "total_sections": 7, "title": "The Gradient Challenge", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:21:23.767645Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Processing 6 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:21:24.153344Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 2/7: The Limits of Finite Differences", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 1, "total_sections": 7, "title": "The Limits of Finite Differences", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:21:24.154344Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:21:24.500450Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 3/7: Forward Mode and Dual Numbers", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 2, "total_sections": 7, "title": "Forward Mode and Dual Numbers", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:21:24.501456Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Processing 6 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:21:25.262754Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8ee8142a-c2e5-4cea-82dc-3b82e6351f26", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8ee8142a-c2e5-4cea-82dc-3b82e6351f26", "service": "api"}}
{"timestamp": "2026-02-08T22:21:25.262754Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5ecfd606-bc78-4850-beb4-b9d06c2af81c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5ecfd606-bc78-4850-beb4-b9d06c2af81c", "service": "api"}}
{"timestamp": "2026-02-08T22:21:25.269791Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8ee8142a-c2e5-4cea-82dc-3b82e6351f26", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8ee8142a-c2e5-4cea-82dc-3b82e6351f26", "service": "api"}}
{"timestamp": "2026-02-08T22:21:25.271715Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5ecfd606-bc78-4850-beb4-b9d06c2af81c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5ecfd606-bc78-4850-beb4-b9d06c2af81c", "service": "api"}}
{"timestamp": "2026-02-08T22:21:28.472873Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4ee6f858-ac55-4bef-b47c-4d83a6a752f7", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "4ee6f858-ac55-4bef-b47c-4d83a6a752f7", "service": "api"}}
{"timestamp": "2026-02-08T22:21:28.474381Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2bde8c4c-192f-4155-a5ae-6786709cbcb5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "2bde8c4c-192f-4155-a5ae-6786709cbcb5", "service": "api"}}
{"timestamp": "2026-02-08T22:21:28.480901Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4ee6f858-ac55-4bef-b47c-4d83a6a752f7", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "4ee6f858-ac55-4bef-b47c-4d83a6a752f7", "service": "api"}}
{"timestamp": "2026-02-08T22:21:28.480901Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2bde8c4c-192f-4155-a5ae-6786709cbcb5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "2bde8c4c-192f-4155-a5ae-6786709cbcb5", "service": "api"}}
{"timestamp": "2026-02-08T22:21:31.233173Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e31beb85-e11d-4966-9568-4518caf4a393", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "e31beb85-e11d-4966-9568-4518caf4a393", "service": "api"}}
{"timestamp": "2026-02-08T22:21:31.235710Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8b122269-0154-4e2c-ace0-80792bd58cb4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "8b122269-0154-4e2c-ace0-80792bd58cb4", "service": "api"}}
{"timestamp": "2026-02-08T22:21:31.242726Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e31beb85-e11d-4966-9568-4518caf4a393", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "e31beb85-e11d-4966-9568-4518caf4a393", "service": "api"}}
{"timestamp": "2026-02-08T22:21:31.245245Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8b122269-0154-4e2c-ace0-80792bd58cb4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "8b122269-0154-4e2c-ace0-80792bd58cb4", "service": "api"}}
{"timestamp": "2026-02-08T22:21:34.428772Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "92269a33-e4a9-4026-8553-1196ad5e6825", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "92269a33-e4a9-4026-8553-1196ad5e6825", "service": "api"}}
{"timestamp": "2026-02-08T22:21:34.428772Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e91cd6ba-f1f0-4a33-ba85-8653dc2c21c1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e91cd6ba-f1f0-4a33-ba85-8653dc2c21c1", "service": "api"}}
{"timestamp": "2026-02-08T22:21:34.434277Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "92269a33-e4a9-4026-8553-1196ad5e6825", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "92269a33-e4a9-4026-8553-1196ad5e6825", "service": "api"}}
{"timestamp": "2026-02-08T22:21:34.435284Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e91cd6ba-f1f0-4a33-ba85-8653dc2c21c1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e91cd6ba-f1f0-4a33-ba85-8653dc2c21c1", "service": "api"}}
{"timestamp": "2026-02-08T22:21:37.224316Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ff513c25-c132-4bd5-b321-15a4df919313", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "ff513c25-c132-4bd5-b321-15a4df919313", "service": "api"}}
{"timestamp": "2026-02-08T22:21:37.225837Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a62c2b5d-d7c2-45bb-b704-59216b72867b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a62c2b5d-d7c2-45bb-b704-59216b72867b", "service": "api"}}
{"timestamp": "2026-02-08T22:21:37.225837Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ff513c25-c132-4bd5-b321-15a4df919313", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "ff513c25-c132-4bd5-b321-15a4df919313", "service": "api"}}
{"timestamp": "2026-02-08T22:21:37.344632Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a62c2b5d-d7c2-45bb-b704-59216b72867b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a62c2b5d-d7c2-45bb-b704-59216b72867b", "service": "api"}}
{"timestamp": "2026-02-08T22:21:40.237783Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d8429d1e-97b7-4b0a-858b-440040e51511", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "d8429d1e-97b7-4b0a-858b-440040e51511", "service": "api"}}
{"timestamp": "2026-02-08T22:21:40.238784Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "392c9f65-2b30-4ea5-96fb-4a26ec6ce853", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "392c9f65-2b30-4ea5-96fb-4a26ec6ce853", "service": "api"}}
{"timestamp": "2026-02-08T22:21:40.242782Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d8429d1e-97b7-4b0a-858b-440040e51511", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "d8429d1e-97b7-4b0a-858b-440040e51511", "service": "api"}}
{"timestamp": "2026-02-08T22:21:40.243783Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "392c9f65-2b30-4ea5-96fb-4a26ec6ce853", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "392c9f65-2b30-4ea5-96fb-4a26ec6ce853", "service": "api"}}
{"timestamp": "2026-02-08T22:21:41.143649Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Total audio duration = 42.0s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:21:41.259384Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Generating unified video using NEW Pipeline (42.0s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:21:41.260382Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 2 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:21:41.261382Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Forward Mode and Dual Numbers'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:21:41.263384Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9719 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "choreography", "request_id": "69a7bb76-2589-4b10-a83b-d6b6c38cba82", "timestamp": "2026-02-08T22:21:41.262381Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Forward Mode and Dual Numbers\n**Duration**: 41.976s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=comprehe... [truncated, total: 9719 chars]", "prompt_length": 9719, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"anyOf": [{"type": "string"}, {"type": "null"}]}, "relation": {"anyOf": [{"type": "string", "enum": ["above", "below", "left_of", "right_of"]}, {"type": "null"}]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:21:41.266065Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:21:42.295703Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Total audio duration = 42.8s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:21:42.369752Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Generating unified video using NEW Pipeline (42.8s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:21:42.370751Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 0 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:21:42.371751Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'The Gradient Challenge'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:21:42.374754Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9705 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "choreography", "request_id": "13dac59c-274e-4025-a699-23ffafe9c5f4", "timestamp": "2026-02-08T22:21:42.373748Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: The Gradient Challenge\n**Duration**: 42.839999999999996s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=com... [truncated, total: 9705 chars]", "prompt_length": 9705, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "property_ordering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "property_ordering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "property_ordering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:21:42.377798Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:21:42.735763Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Total audio duration = 39.6s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:21:42.811799Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Generating unified video using NEW Pipeline (39.6s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:21:42.812800Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 1 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:21:42.813799Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'The Limits of Finite Differences'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:21:42.816960Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9951 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "choreography", "request_id": "c3644caf-f353-46e5-8729-7e5a01fa764c", "timestamp": "2026-02-08T22:21:42.814799Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: The Limits of Finite Differences\n**Duration**: 39.623999999999995s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**... [truncated, total: 9951 chars]", "prompt_length": 9951, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:21:42.818466Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:21:43.231670Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "de71ecbb-4caa-4dad-b40a-6d77a55063d8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "de71ecbb-4caa-4dad-b40a-6d77a55063d8", "service": "api"}}
{"timestamp": "2026-02-08T22:21:43.232666Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "709d5402-adc3-46a3-a932-4c3b83631572", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "709d5402-adc3-46a3-a932-4c3b83631572", "service": "api"}}
{"timestamp": "2026-02-08T22:21:43.237686Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "de71ecbb-4caa-4dad-b40a-6d77a55063d8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "de71ecbb-4caa-4dad-b40a-6d77a55063d8", "service": "api"}}
{"timestamp": "2026-02-08T22:21:43.239700Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "709d5402-adc3-46a3-a932-4c3b83631572", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "709d5402-adc3-46a3-a932-4c3b83631572", "service": "api"}}
{"timestamp": "2026-02-08T22:21:46.225584Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1db67c27-54b0-45d4-8e39-89bf4b16d371", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "1db67c27-54b0-45d4-8e39-89bf4b16d371", "service": "api"}}
{"timestamp": "2026-02-08T22:21:46.226590Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5b9cc115-92a8-488a-bc6e-4fed93daa764", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5b9cc115-92a8-488a-bc6e-4fed93daa764", "service": "api"}}
{"timestamp": "2026-02-08T22:21:46.230590Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1db67c27-54b0-45d4-8e39-89bf4b16d371", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "1db67c27-54b0-45d4-8e39-89bf4b16d371", "service": "api"}}
{"timestamp": "2026-02-08T22:21:46.231592Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5b9cc115-92a8-488a-bc6e-4fed93daa764", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5b9cc115-92a8-488a-bc6e-4fed93daa764", "service": "api"}}
{"timestamp": "2026-02-08T22:21:49.228241Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f5ee40fe-39a1-462a-bbe9-af33e73eb6bc", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f5ee40fe-39a1-462a-bbe9-af33e73eb6bc", "service": "api"}}
{"timestamp": "2026-02-08T22:21:49.229239Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "74458235-0e18-48ca-b366-2f82feaa60a7", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "74458235-0e18-48ca-b366-2f82feaa60a7", "service": "api"}}
{"timestamp": "2026-02-08T22:21:49.229239Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f5ee40fe-39a1-462a-bbe9-af33e73eb6bc", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f5ee40fe-39a1-462a-bbe9-af33e73eb6bc", "service": "api"}}
{"timestamp": "2026-02-08T22:21:49.235758Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "74458235-0e18-48ca-b366-2f82feaa60a7", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "74458235-0e18-48ca-b366-2f82feaa60a7", "service": "api"}}
{"timestamp": "2026-02-08T22:21:52.231356Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a8cd77ec-8c97-4796-9ee0-a9225eb95e62", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "a8cd77ec-8c97-4796-9ee0-a9225eb95e62", "service": "api"}}
{"timestamp": "2026-02-08T22:21:52.232358Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "83e33d61-b5b8-4f4d-9d6b-5da0cf69a436", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "83e33d61-b5b8-4f4d-9d6b-5da0cf69a436", "service": "api"}}
{"timestamp": "2026-02-08T22:21:52.235865Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a8cd77ec-8c97-4796-9ee0-a9225eb95e62", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "a8cd77ec-8c97-4796-9ee0-a9225eb95e62", "service": "api"}}
{"timestamp": "2026-02-08T22:21:52.237105Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "83e33d61-b5b8-4f4d-9d6b-5da0cf69a436", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "83e33d61-b5b8-4f4d-9d6b-5da0cf69a436", "service": "api"}}
{"timestamp": "2026-02-08T22:21:55.234434Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5c3ab4f1-d3bd-4ffb-84f3-3223b5323100", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "5c3ab4f1-d3bd-4ffb-84f3-3223b5323100", "service": "api"}}
{"timestamp": "2026-02-08T22:21:55.235939Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dea9a379-a186-44fa-87da-9984fb68be10", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "dea9a379-a186-44fa-87da-9984fb68be10", "service": "api"}}
{"timestamp": "2026-02-08T22:21:55.239832Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5c3ab4f1-d3bd-4ffb-84f3-3223b5323100", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "5c3ab4f1-d3bd-4ffb-84f3-3223b5323100", "service": "api"}}
{"timestamp": "2026-02-08T22:21:55.240835Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dea9a379-a186-44fa-87da-9984fb68be10", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "dea9a379-a186-44fa-87da-9984fb68be10", "service": "api"}}
{"timestamp": "2026-02-08T22:21:58.236069Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "51b03fc0-ea7a-44df-b02c-4d1658b87d8c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "51b03fc0-ea7a-44df-b02c-4d1658b87d8c", "service": "api"}}
{"timestamp": "2026-02-08T22:21:58.238143Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3a196a6d-6cec-426c-b2a1-dd61f9b6a865", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "3a196a6d-6cec-426c-b2a1-dd61f9b6a865", "service": "api"}}
{"timestamp": "2026-02-08T22:21:58.238143Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "51b03fc0-ea7a-44df-b02c-4d1658b87d8c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "51b03fc0-ea7a-44df-b02c-4d1658b87d8c", "service": "api"}}
{"timestamp": "2026-02-08T22:21:58.245123Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3a196a6d-6cec-426c-b2a1-dd61f9b6a865", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "3a196a6d-6cec-426c-b2a1-dd61f9b6a865", "service": "api"}}
{"timestamp": "2026-02-08T22:22:01.226863Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c14fd8bc-a078-4a35-ad89-c8bd93a06bd0", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c14fd8bc-a078-4a35-ad89-c8bd93a06bd0", "service": "api"}}
{"timestamp": "2026-02-08T22:22:01.226863Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bcc966dd-8673-4088-8e9c-e394f265dc6e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "bcc966dd-8673-4088-8e9c-e394f265dc6e", "service": "api"}}
{"timestamp": "2026-02-08T22:22:01.231863Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c14fd8bc-a078-4a35-ad89-c8bd93a06bd0", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c14fd8bc-a078-4a35-ad89-c8bd93a06bd0", "service": "api"}}
{"timestamp": "2026-02-08T22:22:01.232863Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bcc966dd-8673-4088-8e9c-e394f265dc6e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "bcc966dd-8673-4088-8e9c-e394f265dc6e", "service": "api"}}
{"timestamp": "2026-02-08T22:22:07.424567Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 26.16s | Length: 7472 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "choreography", "request_id": "69a7bb76-2589-4b10-a83b-d6b6c38cba82", "timestamp": "2026-02-08T22:22:07.423566Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Forward Mode AD\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 14.472,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n    },\n    {\n      \"id\": \"chain_rule_formula\",\n      \"type\": \"MathTex\",\n      \"latex\": \"dF \\\\cdot \\\\delta x_1 = dF_I \\\\... [truncated, total: 7472 chars]", "duration_seconds": 26.16, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:22:07.424567Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (7472 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:22:07.426576Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\2\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:22:07.426576Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 2, "attempt": 1, "plan_chars": 7472, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\2\\choreography_plan.json", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:22:07.426576Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Forward Mode and Dual Numbers'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:22:07.430099Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 22343 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "implementation", "request_id": "2590420f-ba6e-4ae9-89ca-024d4c638854", "timestamp": "2026-02-08T22:22:07.428094Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Forward Mode AD\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 14.472,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      ... [truncated, total: 22343 chars]", "prompt_length": 22343, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:22:07.431104Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:22:08.887343Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 26.51s | Length: 7668 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 0, "job_id": "unknown", "stage": "choreography", "request_id": "13dac59c-274e-4025-a699-23ffafe9c5f4", "timestamp": "2026-02-08T22:22:08.886336Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Gradient Challenge\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 42.84,\n      \"notes\": \"Main title in Dracula primary text color.\",\n      \"visual_description\": \"Bold header text at the top of the screen.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n... [truncated, total: 7668 chars]", "duration_seconds": 26.513, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:22:08.889344Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (7668 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:22:08.890344Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\0\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:22:08.891346Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 0, "attempt": 1, "plan_chars": 7668, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\0\\choreography_plan.json", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:22:08.891346Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'The Gradient Challenge'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:22:08.894344Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 22515 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "implementation", "request_id": "a13f8d6b-2be1-42a9-9de2-6196958aae17", "timestamp": "2026-02-08T22:22:08.892347Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Gradient Challenge\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 42.84,\n      \"notes\": \"Main title in Dracula primary text color.\",\n      \"visual_description\"... [truncated, total: 22515 chars]", "prompt_length": 22515, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:22:08.894344Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:22:10.953508Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 28.14s | Length: 9022 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 1, "job_id": "unknown", "stage": "choreography", "request_id": "c3644caf-f353-46e5-8729-7e5a01fa764c", "timestamp": "2026-02-08T22:22:10.953508Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Limits of Finite Differences\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 35.688,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n    },\n    {\n      \"id\": \"fd_formula\",\n      \"type\": \"MathTex\",\n      \"latex\": \"J_F[:, j] \\\\approx \\\\f... [truncated, total: 9022 chars]", "duration_seconds": 28.138, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:22:10.954511Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (9022 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:22:10.956535Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\1\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:22:10.957540Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 1, "attempt": 1, "plan_chars": 9022, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\1\\choreography_plan.json", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:22:10.957540Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'The Limits of Finite Differences'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:22:10.959540Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 24066 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "implementation", "request_id": "f6d6680b-5b96-4306-8aba-e0ada281fd10", "timestamp": "2026-02-08T22:22:10.957540Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Limits of Finite Differences\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 35.688,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relati... [truncated, total: 24066 chars]", "prompt_length": 24066, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:22:10.959540Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:22:16.721638Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8144c44d-1d19-4ddb-8230-db0242b51eba", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8144c44d-1d19-4ddb-8230-db0242b51eba", "service": "api"}}
{"timestamp": "2026-02-08T22:22:16.722640Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a90bc265-c624-4455-a647-987021cc573a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a90bc265-c624-4455-a647-987021cc573a", "service": "api"}}
{"timestamp": "2026-02-08T22:22:16.730348Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8144c44d-1d19-4ddb-8230-db0242b51eba", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8144c44d-1d19-4ddb-8230-db0242b51eba", "service": "api"}}
{"timestamp": "2026-02-08T22:22:16.731345Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a90bc265-c624-4455-a647-987021cc573a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a90bc265-c624-4455-a647-987021cc573a", "service": "api"}}
{"timestamp": "2026-02-08T22:22:18.278902Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/0", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dbf777c4-e647-4a17-9d92-031b298d9a3a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/0", "client": "127.0.0.1", "request_id": "dbf777c4-e647-4a17-9d92-031b298d9a3a", "service": "api"}}
{"timestamp": "2026-02-08T22:22:18.284902Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dbf777c4-e647-4a17-9d92-031b298d9a3a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/0", "request_id": "dbf777c4-e647-4a17-9d92-031b298d9a3a", "service": "api"}}
{"timestamp": "2026-02-08T22:22:19.199495Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "74969faa-54bf-45cf-98eb-3c66a52d538c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "74969faa-54bf-45cf-98eb-3c66a52d538c", "service": "api"}}
{"timestamp": "2026-02-08T22:22:19.200490Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "60bbae08-1102-4956-bc36-f9f90efd9a53", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "60bbae08-1102-4956-bc36-f9f90efd9a53", "service": "api"}}
{"timestamp": "2026-02-08T22:22:19.205995Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "74969faa-54bf-45cf-98eb-3c66a52d538c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "74969faa-54bf-45cf-98eb-3c66a52d538c", "service": "api"}}
{"timestamp": "2026-02-08T22:22:19.205995Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "60bbae08-1102-4956-bc36-f9f90efd9a53", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "60bbae08-1102-4956-bc36-f9f90efd9a53", "service": "api"}}
{"timestamp": "2026-02-08T22:22:22.230335Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ff1e50f1-14ad-4f66-87a9-02961c99509a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "ff1e50f1-14ad-4f66-87a9-02961c99509a", "service": "api"}}
{"timestamp": "2026-02-08T22:22:22.231341Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "11d2001a-306e-4307-a049-f418046b60fc", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "11d2001a-306e-4307-a049-f418046b60fc", "service": "api"}}
{"timestamp": "2026-02-08T22:22:22.236877Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ff1e50f1-14ad-4f66-87a9-02961c99509a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "ff1e50f1-14ad-4f66-87a9-02961c99509a", "service": "api"}}
{"timestamp": "2026-02-08T22:22:22.238886Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "11d2001a-306e-4307-a049-f418046b60fc", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "11d2001a-306e-4307-a049-f418046b60fc", "service": "api"}}
{"timestamp": "2026-02-08T22:22:25.230972Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6f052aff-f9da-4d85-bd52-df592d863647", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "6f052aff-f9da-4d85-bd52-df592d863647", "service": "api"}}
{"timestamp": "2026-02-08T22:22:25.231972Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ef4747f3-5eb8-4aae-a91f-f803766ce828", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "ef4747f3-5eb8-4aae-a91f-f803766ce828", "service": "api"}}
{"timestamp": "2026-02-08T22:22:25.232971Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6f052aff-f9da-4d85-bd52-df592d863647", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "6f052aff-f9da-4d85-bd52-df592d863647", "service": "api"}}
{"timestamp": "2026-02-08T22:22:25.239005Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ef4747f3-5eb8-4aae-a91f-f803766ce828", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "ef4747f3-5eb8-4aae-a91f-f803766ce828", "service": "api"}}
{"timestamp": "2026-02-08T22:22:28.240447Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0b991662-bc44-47f0-87a5-69b09c38c7a2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "0b991662-bc44-47f0-87a5-69b09c38c7a2", "service": "api"}}
{"timestamp": "2026-02-08T22:22:28.241438Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fcfcb66e-33cb-4353-993e-05ccbe1fc247", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "fcfcb66e-33cb-4353-993e-05ccbe1fc247", "service": "api"}}
{"timestamp": "2026-02-08T22:22:28.244946Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0b991662-bc44-47f0-87a5-69b09c38c7a2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "0b991662-bc44-47f0-87a5-69b09c38c7a2", "service": "api"}}
{"timestamp": "2026-02-08T22:22:28.246449Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fcfcb66e-33cb-4353-993e-05ccbe1fc247", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "fcfcb66e-33cb-4353-993e-05ccbe1fc247", "service": "api"}}
{"timestamp": "2026-02-08T22:22:31.237579Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c4f164a6-5064-44d9-b179-8effb0372674", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c4f164a6-5064-44d9-b179-8effb0372674", "service": "api"}}
{"timestamp": "2026-02-08T22:22:31.237579Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "23b26d84-7b8e-4004-aac1-b2561abd7708", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "23b26d84-7b8e-4004-aac1-b2561abd7708", "service": "api"}}
{"timestamp": "2026-02-08T22:22:31.243002Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c4f164a6-5064-44d9-b179-8effb0372674", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c4f164a6-5064-44d9-b179-8effb0372674", "service": "api"}}
{"timestamp": "2026-02-08T22:22:31.244000Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "23b26d84-7b8e-4004-aac1-b2561abd7708", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "23b26d84-7b8e-4004-aac1-b2561abd7708", "service": "api"}}
{"timestamp": "2026-02-08T22:22:33.246702Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 25.82s | Length: 5651 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "implementation", "request_id": "2590420f-ba6e-4ae9-89ca-024d4c638854", "timestamp": "2026-02-08T22:22:33.245699Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\n# Theme: Dracula\nDRACULA_BG = \"#282A36\"\nDRACULA_FG = \"#F8F8F2\"\nDRACULA_PURPLE = \"#BD93F9\"\nDRACULA_CYAN = \"#8BE9FD\"\nDRACULA_GREEN = \"#50FA7B\"\nDRACULA_ORANGE = \"#FFB86C\"\nDRACULA_RED = \"#FF5555\"\n\nclass SceneForwardMode(Scene):\n    def construct(self):\n        # Set background color\n        self.camera.background_color = DRACULA_BG\n\n        # --- Segment ... [truncated, total: 5651 chars]", "duration_seconds": 25.816, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:22:33.247211Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5637 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:22:33.249228Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\2\\scene_2.py (5792 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:22:33.249228Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 2, "attempt": 1, "code_chars": 5637, "pipeline_stage": "code_generated", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:22:33.249228Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Forward Mode and Dual Numbers'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:22:33.249228Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Forward Mode and Dual Numbers'", "module": "refiner", "function": "refine", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "max_attempts": 5, "refinement_stage": "start", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:22:33.283641Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:22:33.367793Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applied 1 known-pattern fixes", "module": "refiner", "function": "refine", "line": 166, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 1, "refinement_stage": "pattern_fix", "fixes": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:22:34.228604Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "466465f3-fbfc-42aa-abce-eac93ad278bd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "466465f3-fbfc-42aa-abce-eac93ad278bd", "service": "api"}}
{"timestamp": "2026-02-08T22:22:34.229603Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b42546d2-dcfa-4890-ab1a-43f05a9cdd4d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "b42546d2-dcfa-4890-ab1a-43f05a9cdd4d", "service": "api"}}
{"timestamp": "2026-02-08T22:22:34.235605Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "466465f3-fbfc-42aa-abce-eac93ad278bd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "466465f3-fbfc-42aa-abce-eac93ad278bd", "service": "api"}}
{"timestamp": "2026-02-08T22:22:34.236604Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b42546d2-dcfa-4890-ab1a-43f05a9cdd4d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "b42546d2-dcfa-4890-ab1a-43f05a9cdd4d", "service": "api"}}
{"timestamp": "2026-02-08T22:22:37.231058Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "14466f7a-d8d3-480c-8f54-76ee1dacbc2a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "14466f7a-d8d3-480c-8f54-76ee1dacbc2a", "service": "api"}}
{"timestamp": "2026-02-08T22:22:37.232058Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7424c7a3-e674-4d29-aec1-88552078c175", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7424c7a3-e674-4d29-aec1-88552078c175", "service": "api"}}
{"timestamp": "2026-02-08T22:22:37.236563Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "14466f7a-d8d3-480c-8f54-76ee1dacbc2a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "14466f7a-d8d3-480c-8f54-76ee1dacbc2a", "service": "api"}}
{"timestamp": "2026-02-08T22:22:37.237568Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7424c7a3-e674-4d29-aec1-88552078c175", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7424c7a3-e674-4d29-aec1-88552078c175", "service": "api"}}
{"timestamp": "2026-02-08T22:22:39.655038Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 1/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"turn": 1, "validation_type": "runtime", "issue_count": 1, "section_title": "Forward Mode and Dual Numbers", "issue_samples": [{"category": "runtime", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "runtime:fd47db99", "message": "TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument"}], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:22:39.656032Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:22:39.657032Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 1)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:22:39.657538Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: type_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:22:39.658546Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9457 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "1f9679e6-dc78-41fb-8411-fada5aab069b", "timestamp": "2026-02-08T22:22:39.658243Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u20132 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines t... [truncated, total: 9457 chars]", "prompt_length": 9457, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:22:39.659545Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:22:40.242804Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "05586cfa-df83-467a-8acc-27ee863ab27f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "05586cfa-df83-467a-8acc-27ee863ab27f", "service": "api"}}
{"timestamp": "2026-02-08T22:22:40.243804Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "59cc7b14-de0b-4e31-bdae-22eec8a849fd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "59cc7b14-de0b-4e31-bdae-22eec8a849fd", "service": "api"}}
{"timestamp": "2026-02-08T22:22:40.247873Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "05586cfa-df83-467a-8acc-27ee863ab27f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "05586cfa-df83-467a-8acc-27ee863ab27f", "service": "api"}}
{"timestamp": "2026-02-08T22:22:40.249389Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "59cc7b14-de0b-4e31-bdae-22eec8a849fd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "59cc7b14-de0b-4e31-bdae-22eec8a849fd", "service": "api"}}
{"timestamp": "2026-02-08T22:22:42.463951Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2d5a11a1-73bc-4976-8bc5-fc685047225f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "client": "127.0.0.1", "request_id": "2d5a11a1-73bc-4976-8bc5-fc685047225f", "service": "api"}}
{"timestamp": "2026-02-08T22:22:42.470171Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2d5a11a1-73bc-4976-8bc5-fc685047225f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "request_id": "2d5a11a1-73bc-4976-8bc5-fc685047225f", "service": "api"}}
{"timestamp": "2026-02-08T22:22:43.197813Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "96e90e01-6a16-40b7-9118-4551811d57e3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "96e90e01-6a16-40b7-9118-4551811d57e3", "service": "api"}}
{"timestamp": "2026-02-08T22:22:43.198513Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a6d9f36e-2c49-4be1-a64d-499933386337", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a6d9f36e-2c49-4be1-a64d-499933386337", "service": "api"}}
{"timestamp": "2026-02-08T22:22:43.204179Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "96e90e01-6a16-40b7-9118-4551811d57e3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "96e90e01-6a16-40b7-9118-4551811d57e3", "service": "api"}}
{"timestamp": "2026-02-08T22:22:43.205179Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a6d9f36e-2c49-4be1-a64d-499933386337", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a6d9f36e-2c49-4be1-a64d-499933386337", "service": "api"}}
{"timestamp": "2026-02-08T22:22:44.864348Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 35.97s | Length: 4223 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 0, "job_id": "unknown", "stage": "implementation", "request_id": "a13f8d6b-2be1-42a9-9de2-6196958aae17", "timestamp": "2026-02-08T22:22:44.863453Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass SceneIntroTheGradientChallenge(Scene):\n    def construct(self):\n        # Theme: Dracula\n        # Background: #282A36\n        # Primary Text: #F8F8F2\n        # Secondary: #BD93F9 (Purple)\n        # Accents: #8BE9FD (Teal), #50FA7B (Green), #FFB86C (Orange), #FF5555 (Red)\n        self.camera.background_color = \"#282A36\"\n        \n        # 1. Obj... [truncated, total: 4223 chars]", "duration_seconds": 35.97, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:22:44.865351Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4208 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:22:44.866856Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\0\\scene_0.py (4356 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:22:44.867867Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 0, "attempt": 1, "code_chars": 4208, "pipeline_stage": "code_generated", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:22:44.867867Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'The Gradient Challenge'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:22:44.867867Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'The Gradient Challenge'", "module": "refiner", "function": "refine", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "The Gradient Challenge", "max_attempts": 5, "refinement_stage": "start", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:22:44.889953Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:22:46.202069Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0670164b-1919-452c-8966-451ac98305a4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "0670164b-1919-452c-8966-451ac98305a4", "service": "api"}}
{"timestamp": "2026-02-08T22:22:46.203066Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b0402ce2-ac6f-4e25-a5b5-7760870046ac", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "b0402ce2-ac6f-4e25-a5b5-7760870046ac", "service": "api"}}
{"timestamp": "2026-02-08T22:22:46.209596Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0670164b-1919-452c-8966-451ac98305a4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "0670164b-1919-452c-8966-451ac98305a4", "service": "api"}}
{"timestamp": "2026-02-08T22:22:46.210606Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b0402ce2-ac6f-4e25-a5b5-7760870046ac", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "b0402ce2-ac6f-4e25-a5b5-7760870046ac", "service": "api"}}
{"timestamp": "2026-02-08T22:22:49.200141Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f48e6a81-03e6-43f5-a683-f0a5edf6c07e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f48e6a81-03e6-43f5-a683-f0a5edf6c07e", "service": "api"}}
{"timestamp": "2026-02-08T22:22:49.201142Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b0574b53-764d-4dcc-8131-8212e24f871b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "b0574b53-764d-4dcc-8131-8212e24f871b", "service": "api"}}
{"timestamp": "2026-02-08T22:22:49.206140Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f48e6a81-03e6-43f5-a683-f0a5edf6c07e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f48e6a81-03e6-43f5-a683-f0a5edf6c07e", "service": "api"}}
{"timestamp": "2026-02-08T22:22:49.207142Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b0574b53-764d-4dcc-8131-8212e24f871b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "b0574b53-764d-4dcc-8131-8212e24f871b", "service": "api"}}
{"timestamp": "2026-02-08T22:22:52.235677Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "81a1618a-bb93-4cea-a2c6-7bd124632ffb", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "81a1618a-bb93-4cea-a2c6-7bd124632ffb", "service": "api"}}
{"timestamp": "2026-02-08T22:22:52.235677Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5941b58f-6987-4737-aa88-9c5eb220152d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5941b58f-6987-4737-aa88-9c5eb220152d", "service": "api"}}
{"timestamp": "2026-02-08T22:22:52.235677Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "81a1618a-bb93-4cea-a2c6-7bd124632ffb", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "81a1618a-bb93-4cea-a2c6-7bd124632ffb", "service": "api"}}
{"timestamp": "2026-02-08T22:22:52.240702Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5941b58f-6987-4737-aa88-9c5eb220152d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5941b58f-6987-4737-aa88-9c5eb220152d", "service": "api"}}
{"timestamp": "2026-02-08T22:22:55.251248Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "343ff878-741f-42fe-87ea-d86688580c2c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "343ff878-741f-42fe-87ea-d86688580c2c", "service": "api"}}
{"timestamp": "2026-02-08T22:22:55.251248Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d8784bc9-9674-4131-b5c0-d07d18ae8dea", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "d8784bc9-9674-4131-b5c0-d07d18ae8dea", "service": "api"}}
{"timestamp": "2026-02-08T22:22:55.256262Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "343ff878-741f-42fe-87ea-d86688580c2c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "343ff878-741f-42fe-87ea-d86688580c2c", "service": "api"}}
{"timestamp": "2026-02-08T22:22:55.256262Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d8784bc9-9674-4131-b5c0-d07d18ae8dea", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "d8784bc9-9674-4131-b5c0-d07d18ae8dea", "service": "api"}}
{"timestamp": "2026-02-08T22:22:57.318435Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'The Gradient Challenge' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:22:57.319143Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionIntroTheGradientChallenge", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:22:57.319933Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\0\\scene_0.py (4489 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:22:57.320936Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 0 Scene: SectionIntroTheGradientChallenge", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:22:58.226193Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0803c864-d4d2-4aa2-bb51-49f6c0c31ee2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "0803c864-d4d2-4aa2-bb51-49f6c0c31ee2", "service": "api"}}
{"timestamp": "2026-02-08T22:22:58.227196Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5025fcc9-6bff-409c-8d1f-1870b3759693", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5025fcc9-6bff-409c-8d1f-1870b3759693", "service": "api"}}
{"timestamp": "2026-02-08T22:22:58.227196Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0803c864-d4d2-4aa2-bb51-49f6c0c31ee2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "0803c864-d4d2-4aa2-bb51-49f6c0c31ee2", "service": "api"}}
{"timestamp": "2026-02-08T22:22:58.231345Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5025fcc9-6bff-409c-8d1f-1870b3759693", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5025fcc9-6bff-409c-8d1f-1870b3759693", "service": "api"}}
{"timestamp": "2026-02-08T22:23:01.238114Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f02d4925-21c6-4acd-9592-535fc80ba46f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f02d4925-21c6-4acd-9592-535fc80ba46f", "service": "api"}}
{"timestamp": "2026-02-08T22:23:01.239122Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7f209f95-4702-42af-853d-108b7e43a2ad", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7f209f95-4702-42af-853d-108b7e43a2ad", "service": "api"}}
{"timestamp": "2026-02-08T22:23:01.243696Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f02d4925-21c6-4acd-9592-535fc80ba46f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f02d4925-21c6-4acd-9592-535fc80ba46f", "service": "api"}}
{"timestamp": "2026-02-08T22:23:01.245202Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7f209f95-4702-42af-853d-108b7e43a2ad", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7f209f95-4702-42af-853d-108b7e43a2ad", "service": "api"}}
{"timestamp": "2026-02-08T22:23:04.234313Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "cf5d81a0-7f2a-4397-9cbb-1de357da7dc4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "cf5d81a0-7f2a-4397-9cbb-1de357da7dc4", "service": "api"}}
{"timestamp": "2026-02-08T22:23:04.235315Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3f0d19c4-409f-4864-8e1e-07ea14246228", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "3f0d19c4-409f-4864-8e1e-07ea14246228", "service": "api"}}
{"timestamp": "2026-02-08T22:23:04.239324Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "cf5d81a0-7f2a-4397-9cbb-1de357da7dc4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "cf5d81a0-7f2a-4397-9cbb-1de357da7dc4", "service": "api"}}
{"timestamp": "2026-02-08T22:23:04.239324Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3f0d19c4-409f-4864-8e1e-07ea14246228", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "3f0d19c4-409f-4864-8e1e-07ea14246228", "service": "api"}}
{"timestamp": "2026-02-08T22:23:05.207785Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 25.55s | Length: 736 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "1f9679e6-dc78-41fb-8411-fada5aab069b", "timestamp": "2026-02-08T22:23:05.206781Z", "response_text": "{\n  \"analysis\": \"The error occurs because MathTex does not have a 'get_cell' method (which belongs to Table). Positioning is corrected using index-based access to the 'x' character in the dual pair.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        # Positioning labels below elements of dual pair\\n        label_value.next_to(dual_pair.get_cell(1, 2), DOWN, buff=0.8).shift(LEFT * 0.2)\\n        lab... [truncated, total: 736 chars]", "duration_seconds": 25.548, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:23:05.208291Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 1 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:23:05.208291Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:23:05.208291Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 1 successful, 0 failed (out of 1 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"successful_edits": 1, "failed_edits": 0, "total_edits": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:23:05.208291Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 5646 -> 5637)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:05.208291Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Forward Mode and Dual Numbers' (Turn 1)", "module": "refiner", "function": "refine", "line": 219, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 1, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:05.232283Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 2)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:05.274274Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applied 1 known-pattern fixes", "module": "refiner", "function": "refine", "line": 166, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 2, "refinement_stage": "pattern_fix", "fixes": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:07.203175Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f6a5d606-800f-4c4c-9475-e3864840424f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f6a5d606-800f-4c4c-9475-e3864840424f", "service": "api"}}
{"timestamp": "2026-02-08T22:23:07.204175Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "83e4ad6e-d9d2-43b2-84dc-51da05b3b652", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "83e4ad6e-d9d2-43b2-84dc-51da05b3b652", "service": "api"}}
{"timestamp": "2026-02-08T22:23:07.209890Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f6a5d606-800f-4c4c-9475-e3864840424f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f6a5d606-800f-4c4c-9475-e3864840424f", "service": "api"}}
{"timestamp": "2026-02-08T22:23:07.209890Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "83e4ad6e-d9d2-43b2-84dc-51da05b3b652", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "83e4ad6e-d9d2-43b2-84dc-51da05b3b652", "service": "api"}}
{"timestamp": "2026-02-08T22:23:07.953749Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a61aaad3-bad7-4a74-b42b-2c16bbb7562a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "client": "127.0.0.1", "request_id": "a61aaad3-bad7-4a74-b42b-2c16bbb7562a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:07.959268Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a61aaad3-bad7-4a74-b42b-2c16bbb7562a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "request_id": "a61aaad3-bad7-4a74-b42b-2c16bbb7562a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:10.226895Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3a731396-5876-4685-a5fb-257da1860415", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "3a731396-5876-4685-a5fb-257da1860415", "service": "api"}}
{"timestamp": "2026-02-08T22:23:10.228418Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "055b10d9-6f00-4634-b94e-c9388431faee", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "055b10d9-6f00-4634-b94e-c9388431faee", "service": "api"}}
{"timestamp": "2026-02-08T22:23:10.233249Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3a731396-5876-4685-a5fb-257da1860415", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "3a731396-5876-4685-a5fb-257da1860415", "service": "api"}}
{"timestamp": "2026-02-08T22:23:10.234467Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "055b10d9-6f00-4634-b94e-c9388431faee", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "055b10d9-6f00-4634-b94e-c9388431faee", "service": "api"}}
{"timestamp": "2026-02-08T22:23:10.434618Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\0\\videos\\scene_0\\480p15\\section_0.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:23:10.568522Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Merging video (42.7s) with audio (42.8s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:23:11.028743Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 2/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"turn": 2, "validation_type": "runtime", "issue_count": 1, "section_title": "Forward Mode and Dual Numbers", "issue_samples": [{"category": "runtime", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "runtime:e311b852", "message": "TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument"}], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:11.028743Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:11.029811Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 2)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:11.030810Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: type_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:23:11.033575Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9457 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "1aae3017-b370-402c-b802-d20b2945a3ae", "timestamp": "2026-02-08T22:23:11.031811Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u20132 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines t... [truncated, total: 9457 chars]", "prompt_length": 9457, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "property_ordering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:23:11.036770Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:23:11.347795Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:23:11.349860Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 1/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "sections", "progress": 14, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:23:11.349860Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 1/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 0, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:23:11.350860Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 4/7: The Efficiency Claim", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 3, "total_sections": 7, "title": "The Efficiency Claim", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:23:11.350860Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Processing 5 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:23:13.241367Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1a0a7226-e880-4bdf-b6f3-70234326aedd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "1a0a7226-e880-4bdf-b6f3-70234326aedd", "service": "api"}}
{"timestamp": "2026-02-08T22:23:13.242367Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2412023f-c645-491c-b68f-02040015be62", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "2412023f-c645-491c-b68f-02040015be62", "service": "api"}}
{"timestamp": "2026-02-08T22:23:13.246369Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1a0a7226-e880-4bdf-b6f3-70234326aedd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "1a0a7226-e880-4bdf-b6f3-70234326aedd", "service": "api"}}
{"timestamp": "2026-02-08T22:23:13.246369Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2412023f-c645-491c-b68f-02040015be62", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "2412023f-c645-491c-b68f-02040015be62", "service": "api"}}
{"timestamp": "2026-02-08T22:23:14.114118Z", "level": "ERROR", "logger": "app.core.llm_logger", "message": "LLM Error | Duration: 3.08s | Error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "module": "llm_logger", "function": "log_response", "line": 486, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "1aae3017-b370-402c-b802-d20b2945a3ae", "timestamp": "2026-02-08T22:23:14.113121Z", "response_text": "", "duration_seconds": 3.081, "success": false, "error": "503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:23:15.109677Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9457 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "59ff9575-95d1-4608-b141-f4b90760ae52", "timestamp": "2026-02-08T22:23:15.108497Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u20132 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines t... [truncated, total: 9457 chars]", "prompt_length": 9457, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:23:15.110682Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:23:16.237769Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ee560d2a-12bd-4d46-900a-116d1e2ebecc", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "ee560d2a-12bd-4d46-900a-116d1e2ebecc", "service": "api"}}
{"timestamp": "2026-02-08T22:23:16.238775Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4fe71dfb-59d3-4e49-881a-2c95e361fff1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "4fe71dfb-59d3-4e49-881a-2c95e361fff1", "service": "api"}}
{"timestamp": "2026-02-08T22:23:16.238775Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ee560d2a-12bd-4d46-900a-116d1e2ebecc", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "ee560d2a-12bd-4d46-900a-116d1e2ebecc", "service": "api"}}
{"timestamp": "2026-02-08T22:23:16.242832Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4fe71dfb-59d3-4e49-881a-2c95e361fff1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "4fe71dfb-59d3-4e49-881a-2c95e361fff1", "service": "api"}}
{"timestamp": "2026-02-08T22:23:19.492973Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0615b45d-5f63-473c-b194-ea7b40935186", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "0615b45d-5f63-473c-b194-ea7b40935186", "service": "api"}}
{"timestamp": "2026-02-08T22:23:19.492973Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "40a2eec1-a6c2-4fda-8f50-f23cfbf86c35", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "40a2eec1-a6c2-4fda-8f50-f23cfbf86c35", "service": "api"}}
{"timestamp": "2026-02-08T22:23:19.496976Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0615b45d-5f63-473c-b194-ea7b40935186", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "0615b45d-5f63-473c-b194-ea7b40935186", "service": "api"}}
{"timestamp": "2026-02-08T22:23:19.497975Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "40a2eec1-a6c2-4fda-8f50-f23cfbf86c35", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "40a2eec1-a6c2-4fda-8f50-f23cfbf86c35", "service": "api"}}
{"timestamp": "2026-02-08T22:23:22.241003Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "13c9d4a3-322a-489d-b437-183220dffe5a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "13c9d4a3-322a-489d-b437-183220dffe5a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:22.241999Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "247b6f2c-1203-49e7-8739-af61857b3c4c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "247b6f2c-1203-49e7-8739-af61857b3c4c", "service": "api"}}
{"timestamp": "2026-02-08T22:23:22.246518Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "13c9d4a3-322a-489d-b437-183220dffe5a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "13c9d4a3-322a-489d-b437-183220dffe5a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:22.246518Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "247b6f2c-1203-49e7-8739-af61857b3c4c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "247b6f2c-1203-49e7-8739-af61857b3c4c", "service": "api"}}
{"timestamp": "2026-02-08T22:23:24.825237Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Total audio duration = 39.2s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:23:24.901378Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Generating unified video using NEW Pipeline (39.2s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:23:24.902792Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 3 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:23:24.903798Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'The Efficiency Claim'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:23:24.904953Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9289 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "16354998-f125-420b-be8c-9f367232c669", "timestamp": "2026-02-08T22:23:24.903798Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: The Efficiency Claim\n**Duration**: 39.216s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=comprehensive; Co... [truncated, total: 9289 chars]", "prompt_length": 9289, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:23:24.906260Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:23:25.241862Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6704bd7f-b1c8-4bf3-b2d6-da9c57e8171f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "6704bd7f-b1c8-4bf3-b2d6-da9c57e8171f", "service": "api"}}
{"timestamp": "2026-02-08T22:23:25.242950Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "91990ebe-f336-4c31-9511-024b712e64d6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "91990ebe-f336-4c31-9511-024b712e64d6", "service": "api"}}
{"timestamp": "2026-02-08T22:23:25.247296Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6704bd7f-b1c8-4bf3-b2d6-da9c57e8171f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "6704bd7f-b1c8-4bf3-b2d6-da9c57e8171f", "service": "api"}}
{"timestamp": "2026-02-08T22:23:25.248804Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "91990ebe-f336-4c31-9511-024b712e64d6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "91990ebe-f336-4c31-9511-024b712e64d6", "service": "api"}}
{"timestamp": "2026-02-08T22:23:28.236992Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c9fcd75a-916a-479a-a178-2b10292deb51", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c9fcd75a-916a-479a-a178-2b10292deb51", "service": "api"}}
{"timestamp": "2026-02-08T22:23:28.236992Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "74dce52e-5747-4d14-8358-b13ff5f12d6c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "74dce52e-5747-4d14-8358-b13ff5f12d6c", "service": "api"}}
{"timestamp": "2026-02-08T22:23:28.237994Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c9fcd75a-916a-479a-a178-2b10292deb51", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c9fcd75a-916a-479a-a178-2b10292deb51", "service": "api"}}
{"timestamp": "2026-02-08T22:23:28.241373Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "74dce52e-5747-4d14-8358-b13ff5f12d6c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "74dce52e-5747-4d14-8358-b13ff5f12d6c", "service": "api"}}
{"timestamp": "2026-02-08T22:23:30.524167Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 79.57s | Length: 5506 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 1, "job_id": "unknown", "stage": "implementation", "request_id": "f6d6680b-5b96-4306-8aba-e0ada281fd10", "timestamp": "2026-02-08T22:23:30.524167Z", "response_text": "```python\nfrom manim import *\nimport numpy as np\n\nclass SceneFiniteDifferences(Scene):\n    def construct(self):\n        # Theme: Dracula\n        # Background: #282A36; primary_text: #F8F8F2; secondary_text: #BD93F9; \n        # accents: [#8BE9FD, #50FA7B, #FFB86C, #FF5555]\n        self.camera.background_color = \"#282A36\"\n        \n        # --- OBJECT DEFINITIONS ---\n        title = Text(\"The Limits... [truncated, total: 5506 chars]", "duration_seconds": 79.566, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:23:30.526168Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5492 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:23:30.527165Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\1\\scene_1.py (5632 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:23:30.527165Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 1, "attempt": 1, "code_chars": 5492, "pipeline_stage": "code_generated", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:23:30.528165Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'The Limits of Finite Differences'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:23:30.528165Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'The Limits of Finite Differences'", "module": "refiner", "function": "refine", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "The Limits of Finite Differences", "max_attempts": 5, "refinement_stage": "start", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:30.552284Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:31.236138Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3f006663-b77e-4f18-b938-7dc9f16633ee", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "3f006663-b77e-4f18-b938-7dc9f16633ee", "service": "api"}}
{"timestamp": "2026-02-08T22:23:31.236138Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d36b3e9e-70dc-4380-8fee-53f2417ba274", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "d36b3e9e-70dc-4380-8fee-53f2417ba274", "service": "api"}}
{"timestamp": "2026-02-08T22:23:31.237483Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3f006663-b77e-4f18-b938-7dc9f16633ee", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "3f006663-b77e-4f18-b938-7dc9f16633ee", "service": "api"}}
{"timestamp": "2026-02-08T22:23:31.242222Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d36b3e9e-70dc-4380-8fee-53f2417ba274", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "d36b3e9e-70dc-4380-8fee-53f2417ba274", "service": "api"}}
{"timestamp": "2026-02-08T22:23:34.233063Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f2d49fff-94ab-4e2d-be39-4771bf2b64f8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f2d49fff-94ab-4e2d-be39-4771bf2b64f8", "service": "api"}}
{"timestamp": "2026-02-08T22:23:34.234062Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c17631d7-003a-4ccb-b7d6-f7cf22bf9459", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "c17631d7-003a-4ccb-b7d6-f7cf22bf9459", "service": "api"}}
{"timestamp": "2026-02-08T22:23:34.238569Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f2d49fff-94ab-4e2d-be39-4771bf2b64f8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f2d49fff-94ab-4e2d-be39-4771bf2b64f8", "service": "api"}}
{"timestamp": "2026-02-08T22:23:34.239077Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c17631d7-003a-4ccb-b7d6-f7cf22bf9459", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "c17631d7-003a-4ccb-b7d6-f7cf22bf9459", "service": "api"}}
{"timestamp": "2026-02-08T22:23:37.233398Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8bf1ea59-b21a-4a46-917c-680ed4123ae9", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8bf1ea59-b21a-4a46-917c-680ed4123ae9", "service": "api"}}
{"timestamp": "2026-02-08T22:23:37.234397Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "09454c09-73d1-4a76-8b47-22256f3e7589", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "09454c09-73d1-4a76-8b47-22256f3e7589", "service": "api"}}
{"timestamp": "2026-02-08T22:23:37.240321Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8bf1ea59-b21a-4a46-917c-680ed4123ae9", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8bf1ea59-b21a-4a46-917c-680ed4123ae9", "service": "api"}}
{"timestamp": "2026-02-08T22:23:37.241332Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "09454c09-73d1-4a76-8b47-22256f3e7589", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "09454c09-73d1-4a76-8b47-22256f3e7589", "service": "api"}}
{"timestamp": "2026-02-08T22:23:39.023659Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/0", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "44d02c73-002a-4d4d-b41d-d14b6601738a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/0", "client": "127.0.0.1", "request_id": "44d02c73-002a-4d4d-b41d-d14b6601738a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:39.030047Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "44d02c73-002a-4d4d-b41d-d14b6601738a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/0", "request_id": "44d02c73-002a-4d4d-b41d-d14b6601738a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:39.038486Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3cd2ac0a-cdbe-4246-af6c-d59ffa4920ce", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "3cd2ac0a-cdbe-4246-af6c-d59ffa4920ce", "service": "api"}}
{"timestamp": "2026-02-08T22:23:39.040565Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3cd2ac0a-cdbe-4246-af6c-d59ffa4920ce", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "request_id": "3cd2ac0a-cdbe-4246-af6c-d59ffa4920ce", "service": "api"}}
{"timestamp": "2026-02-08T22:23:39.045294Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:23:39.046301Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7bdb6f18-98cf-4075-b0ea-7301b435077f", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "7bdb6f18-98cf-4075-b0ea-7301b435077f", "service": "api"}}
{"timestamp": "2026-02-08T22:23:39.049312Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7bdb6f18-98cf-4075-b0ea-7301b435077f", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "request_id": "7bdb6f18-98cf-4075-b0ea-7301b435077f", "service": "api"}}
{"timestamp": "2026-02-08T22:23:39.369977Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "be92fee6-820d-4427-b73e-9a06149356ae", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "be92fee6-820d-4427-b73e-9a06149356ae", "service": "api"}}
{"timestamp": "2026-02-08T22:23:39.371485Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "be92fee6-820d-4427-b73e-9a06149356ae", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "request_id": "be92fee6-820d-4427-b73e-9a06149356ae", "service": "api"}}
{"timestamp": "2026-02-08T22:23:40.522264Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4f5d4185-a45c-44e8-b423-0052c7031ea9", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "4f5d4185-a45c-44e8-b423-0052c7031ea9", "service": "api"}}
{"timestamp": "2026-02-08T22:23:40.524307Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c2aab0b6-3f0a-4c43-a451-ebd3207511f1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "c2aab0b6-3f0a-4c43-a451-ebd3207511f1", "service": "api"}}
{"timestamp": "2026-02-08T22:23:40.531327Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4f5d4185-a45c-44e8-b423-0052c7031ea9", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "4f5d4185-a45c-44e8-b423-0052c7031ea9", "service": "api"}}
{"timestamp": "2026-02-08T22:23:40.533653Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c2aab0b6-3f0a-4c43-a451-ebd3207511f1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "c2aab0b6-3f0a-4c43-a451-ebd3207511f1", "service": "api"}}
{"timestamp": "2026-02-08T22:23:43.204226Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5099a97a-a9fe-4615-97b2-6f41ca8c1480", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "5099a97a-a9fe-4615-97b2-6f41ca8c1480", "service": "api"}}
{"timestamp": "2026-02-08T22:23:43.204226Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a1c147b8-408f-4c51-af62-cfbe0713c268", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a1c147b8-408f-4c51-af62-cfbe0713c268", "service": "api"}}
{"timestamp": "2026-02-08T22:23:43.211439Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5099a97a-a9fe-4615-97b2-6f41ca8c1480", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "5099a97a-a9fe-4615-97b2-6f41ca8c1480", "service": "api"}}
{"timestamp": "2026-02-08T22:23:43.212439Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a1c147b8-408f-4c51-af62-cfbe0713c268", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a1c147b8-408f-4c51-af62-cfbe0713c268", "service": "api"}}
{"timestamp": "2026-02-08T22:23:44.252043Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6a1183ed-915f-49b9-a212-61889649313b", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "6a1183ed-915f-49b9-a212-61889649313b", "service": "api"}}
{"timestamp": "2026-02-08T22:23:44.254056Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6a1183ed-915f-49b9-a212-61889649313b", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "request_id": "6a1183ed-915f-49b9-a212-61889649313b", "service": "api"}}
{"timestamp": "2026-02-08T22:23:44.567660Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "726f9d64-1a94-4569-bf65-db3250f58448", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "726f9d64-1a94-4569-bf65-db3250f58448", "service": "api"}}
{"timestamp": "2026-02-08T22:23:44.569685Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "726f9d64-1a94-4569-bf65-db3250f58448", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/0/final_section.mp4", "request_id": "726f9d64-1a94-4569-bf65-db3250f58448", "service": "api"}}
{"timestamp": "2026-02-08T22:23:46.200991Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "70aa9aa4-3f71-408e-8f49-47a0ad229e67", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "70aa9aa4-3f71-408e-8f49-47a0ad229e67", "service": "api"}}
{"timestamp": "2026-02-08T22:23:46.201999Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a7a407db-1dc3-4268-ac85-cec2c6473064", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a7a407db-1dc3-4268-ac85-cec2c6473064", "service": "api"}}
{"timestamp": "2026-02-08T22:23:46.208503Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "70aa9aa4-3f71-408e-8f49-47a0ad229e67", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "70aa9aa4-3f71-408e-8f49-47a0ad229e67", "service": "api"}}
{"timestamp": "2026-02-08T22:23:46.209510Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a7a407db-1dc3-4268-ac85-cec2c6473064", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a7a407db-1dc3-4268-ac85-cec2c6473064", "service": "api"}}
{"timestamp": "2026-02-08T22:23:49.203319Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "edd6f5ed-6c05-4928-9dbf-9f8010ccc45b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "edd6f5ed-6c05-4928-9dbf-9f8010ccc45b", "service": "api"}}
{"timestamp": "2026-02-08T22:23:49.204328Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bccbc1ea-f150-4c50-bc43-4cb2f6dc7d3c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "bccbc1ea-f150-4c50-bc43-4cb2f6dc7d3c", "service": "api"}}
{"timestamp": "2026-02-08T22:23:49.209366Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "edd6f5ed-6c05-4928-9dbf-9f8010ccc45b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "edd6f5ed-6c05-4928-9dbf-9f8010ccc45b", "service": "api"}}
{"timestamp": "2026-02-08T22:23:49.210096Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bccbc1ea-f150-4c50-bc43-4cb2f6dc7d3c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "bccbc1ea-f150-4c50-bc43-4cb2f6dc7d3c", "service": "api"}}
{"timestamp": "2026-02-08T22:23:50.427408Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 25.52s | Length: 8600 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "16354998-f125-420b-be8c-9f367232c669", "timestamp": "2026-02-08T22:23:50.426401Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Efficiency Claim\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 16.032,\n      \"notes\": \"Main title in Dracula primary text color.\",\n      \"visual_description\": \"Bold title at the top of the screen.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"... [truncated, total: 8600 chars]", "duration_seconds": 25.521, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:23:50.428917Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (8600 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:23:50.431435Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\3\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:23:50.431435Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 3, "attempt": 1, "plan_chars": 8600, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\3\\choreography_plan.json", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:23:50.431435Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'The Efficiency Claim'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:23:50.435661Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 23270 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "implementation", "request_id": "eeebbbca-7e8c-426a-aecf-ba6b8b6357fc", "timestamp": "2026-02-08T22:23:50.431435Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Efficiency Claim\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 16.032,\n      \"notes\": \"Main title in Dracula primary text color.\",\n      \"visual_description\":... [truncated, total: 23270 chars]", "prompt_length": 23270, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:23:50.436661Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:23:52.201456Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f92a58f0-7e85-493b-9e0b-292701a720f9", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f92a58f0-7e85-493b-9e0b-292701a720f9", "service": "api"}}
{"timestamp": "2026-02-08T22:23:52.201456Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "72d192f8-09d5-40c6-8c01-c040b5ba5199", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "72d192f8-09d5-40c6-8c01-c040b5ba5199", "service": "api"}}
{"timestamp": "2026-02-08T22:23:52.207834Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f92a58f0-7e85-493b-9e0b-292701a720f9", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f92a58f0-7e85-493b-9e0b-292701a720f9", "service": "api"}}
{"timestamp": "2026-02-08T22:23:52.207834Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "72d192f8-09d5-40c6-8c01-c040b5ba5199", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "72d192f8-09d5-40c6-8c01-c040b5ba5199", "service": "api"}}
{"timestamp": "2026-02-08T22:23:53.490209Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ebde27cf-fdef-4aaf-ba3f-047355b00d39", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "client": "127.0.0.1", "request_id": "ebde27cf-fdef-4aaf-ba3f-047355b00d39", "service": "api"}}
{"timestamp": "2026-02-08T22:23:53.496085Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ebde27cf-fdef-4aaf-ba3f-047355b00d39", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "request_id": "ebde27cf-fdef-4aaf-ba3f-047355b00d39", "service": "api"}}
{"timestamp": "2026-02-08T22:23:55.203926Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0664a2da-ce35-42e0-9472-673fbd70de6a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "0664a2da-ce35-42e0-9472-673fbd70de6a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:55.204926Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b1ef3b7b-8cbb-455e-8573-6fdb58c59a7b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "b1ef3b7b-8cbb-455e-8573-6fdb58c59a7b", "service": "api"}}
{"timestamp": "2026-02-08T22:23:55.209976Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0664a2da-ce35-42e0-9472-673fbd70de6a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "0664a2da-ce35-42e0-9472-673fbd70de6a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:55.210984Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b1ef3b7b-8cbb-455e-8573-6fdb58c59a7b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "b1ef3b7b-8cbb-455e-8573-6fdb58c59a7b", "service": "api"}}
{"timestamp": "2026-02-08T22:23:56.486869Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/3", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ee8f713c-ac9c-4b67-b081-e8073d7c8a02", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/3", "client": "127.0.0.1", "request_id": "ee8f713c-ac9c-4b67-b081-e8073d7c8a02", "service": "api"}}
{"timestamp": "2026-02-08T22:23:56.490889Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ee8f713c-ac9c-4b67-b081-e8073d7c8a02", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/3", "request_id": "ee8f713c-ac9c-4b67-b081-e8073d7c8a02", "service": "api"}}
{"timestamp": "2026-02-08T22:23:57.769924Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/1", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7c5dcd58-0375-49c0-ae48-d03acfbec9cd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/1", "client": "127.0.0.1", "request_id": "7c5dcd58-0375-49c0-ae48-d03acfbec9cd", "service": "api"}}
{"timestamp": "2026-02-08T22:23:57.773984Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7c5dcd58-0375-49c0-ae48-d03acfbec9cd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/1", "request_id": "7c5dcd58-0375-49c0-ae48-d03acfbec9cd", "service": "api"}}
{"timestamp": "2026-02-08T22:23:58.204455Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "25c0efcf-9fca-41c0-8436-c676cc6f997a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "25c0efcf-9fca-41c0-8436-c676cc6f997a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:58.206042Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5c3bdda0-b404-43bc-9aa8-a1965915705c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5c3bdda0-b404-43bc-9aa8-a1965915705c", "service": "api"}}
{"timestamp": "2026-02-08T22:23:58.211952Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "25c0efcf-9fca-41c0-8436-c676cc6f997a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "25c0efcf-9fca-41c0-8436-c676cc6f997a", "service": "api"}}
{"timestamp": "2026-02-08T22:23:58.211952Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5c3bdda0-b404-43bc-9aa8-a1965915705c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5c3bdda0-b404-43bc-9aa8-a1965915705c", "service": "api"}}
{"timestamp": "2026-02-08T22:23:59.912228Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'The Limits of Finite Differences' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:23:59.913233Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionFiniteDifferences", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:23:59.914229Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\1\\scene_1.py (5765 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:23:59.914229Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 1 Scene: SectionFiniteDifferences", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:24:01.204425Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "28b3bf8e-b4a8-4c44-90ab-8cc02b29674d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "28b3bf8e-b4a8-4c44-90ab-8cc02b29674d", "service": "api"}}
{"timestamp": "2026-02-08T22:24:01.205432Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "39812573-a1da-4dad-8d36-6a2c09a38cfa", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "39812573-a1da-4dad-8d36-6a2c09a38cfa", "service": "api"}}
{"timestamp": "2026-02-08T22:24:01.211180Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "28b3bf8e-b4a8-4c44-90ab-8cc02b29674d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "28b3bf8e-b4a8-4c44-90ab-8cc02b29674d", "service": "api"}}
{"timestamp": "2026-02-08T22:24:01.212457Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "39812573-a1da-4dad-8d36-6a2c09a38cfa", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "39812573-a1da-4dad-8d36-6a2c09a38cfa", "service": "api"}}
{"timestamp": "2026-02-08T22:24:02.014641Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 46.91s | Length: 736 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "59ff9575-95d1-4608-b141-f4b90760ae52", "timestamp": "2026-02-08T22:24:02.014641Z", "response_text": "{\n  \"analysis\": \"The script fails with a TypeError because MathTex does not have a get_cell method (which is for Tables). Replacing it with index [0][1] to target the 'x' character in the dual pair.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        # Positioning labels below elements of dual pair\\n        label_value.next_to(dual_pair.get_cell(1, 2), DOWN, buff=0.8).shift(LEFT * 0.2)\\n        lab... [truncated, total: 736 chars]", "duration_seconds": 46.905, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:24:02.015649Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 1 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:24:02.016906Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:24:02.016906Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 1 successful, 0 failed (out of 1 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"successful_edits": 1, "failed_edits": 0, "total_edits": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:24:02.016906Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 5646 -> 5637)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:02.016906Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Forward Mode and Dual Numbers' (Turn 2)", "module": "refiner", "function": "refine", "line": 219, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 2, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:02.042976Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 3)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:02.105006Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applied 1 known-pattern fixes", "module": "refiner", "function": "refine", "line": 166, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 3, "refinement_stage": "pattern_fix", "fixes": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:04.212066Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b7f9b0ab-babf-47ad-a029-8db98620a480", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b7f9b0ab-babf-47ad-a029-8db98620a480", "service": "api"}}
{"timestamp": "2026-02-08T22:24:04.213078Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ae991d60-4e2d-49c5-97df-57885dedd2ec", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "ae991d60-4e2d-49c5-97df-57885dedd2ec", "service": "api"}}
{"timestamp": "2026-02-08T22:24:04.217538Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b7f9b0ab-babf-47ad-a029-8db98620a480", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b7f9b0ab-babf-47ad-a029-8db98620a480", "service": "api"}}
{"timestamp": "2026-02-08T22:24:04.217538Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ae991d60-4e2d-49c5-97df-57885dedd2ec", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "ae991d60-4e2d-49c5-97df-57885dedd2ec", "service": "api"}}
{"timestamp": "2026-02-08T22:24:06.819791Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 3/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"turn": 3, "validation_type": "runtime", "issue_count": 1, "section_title": "Forward Mode and Dual Numbers", "issue_samples": [{"category": "runtime", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "runtime:453759ca", "message": "TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument"}], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:06.819791Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:06.820797Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 3)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:06.821798Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: type_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:24:06.822798Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9457 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "f8577ad6-3ef3-4532-b4d0-c4acce58fec2", "timestamp": "2026-02-08T22:24:06.821798Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u20132 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines t... [truncated, total: 9457 chars]", "prompt_length": 9457, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:24:06.823797Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:24:07.203586Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d76b80b3-294c-4d94-92a4-365888e43219", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "d76b80b3-294c-4d94-92a4-365888e43219", "service": "api"}}
{"timestamp": "2026-02-08T22:24:07.204581Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "803dbb8e-2466-4b90-aae7-029e10480a5f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "803dbb8e-2466-4b90-aae7-029e10480a5f", "service": "api"}}
{"timestamp": "2026-02-08T22:24:07.204581Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d76b80b3-294c-4d94-92a4-365888e43219", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "d76b80b3-294c-4d94-92a4-365888e43219", "service": "api"}}
{"timestamp": "2026-02-08T22:24:07.209003Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "803dbb8e-2466-4b90-aae7-029e10480a5f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "803dbb8e-2466-4b90-aae7-029e10480a5f", "service": "api"}}
{"timestamp": "2026-02-08T22:24:10.202277Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2980f162-1be9-4c9a-a578-18cddbdfdf05", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "2980f162-1be9-4c9a-a578-18cddbdfdf05", "service": "api"}}
{"timestamp": "2026-02-08T22:24:10.203279Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "21d05330-674b-4579-9d55-399e784d42dd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "21d05330-674b-4579-9d55-399e784d42dd", "service": "api"}}
{"timestamp": "2026-02-08T22:24:10.207273Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2980f162-1be9-4c9a-a578-18cddbdfdf05", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "2980f162-1be9-4c9a-a578-18cddbdfdf05", "service": "api"}}
{"timestamp": "2026-02-08T22:24:10.208272Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "21d05330-674b-4579-9d55-399e784d42dd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "21d05330-674b-4579-9d55-399e784d42dd", "service": "api"}}
{"timestamp": "2026-02-08T22:24:13.214220Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bf1e7c5f-329d-4e8f-a964-1a41843582ac", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "bf1e7c5f-329d-4e8f-a964-1a41843582ac", "service": "api"}}
{"timestamp": "2026-02-08T22:24:13.216221Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a3095752-d857-4a8e-8b3e-7a39b59cf96f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a3095752-d857-4a8e-8b3e-7a39b59cf96f", "service": "api"}}
{"timestamp": "2026-02-08T22:24:13.216221Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bf1e7c5f-329d-4e8f-a964-1a41843582ac", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "bf1e7c5f-329d-4e8f-a964-1a41843582ac", "service": "api"}}
{"timestamp": "2026-02-08T22:24:13.220363Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a3095752-d857-4a8e-8b3e-7a39b59cf96f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a3095752-d857-4a8e-8b3e-7a39b59cf96f", "service": "api"}}
{"timestamp": "2026-02-08T22:24:16.215621Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "63de99ab-57a0-4ea5-83cd-c9da383fc718", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "63de99ab-57a0-4ea5-83cd-c9da383fc718", "service": "api"}}
{"timestamp": "2026-02-08T22:24:16.216614Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1f572fe4-1a4b-48c2-ad68-366e38837247", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "1f572fe4-1a4b-48c2-ad68-366e38837247", "service": "api"}}
{"timestamp": "2026-02-08T22:24:16.217616Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "63de99ab-57a0-4ea5-83cd-c9da383fc718", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "63de99ab-57a0-4ea5-83cd-c9da383fc718", "service": "api"}}
{"timestamp": "2026-02-08T22:24:16.221124Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1f572fe4-1a4b-48c2-ad68-366e38837247", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "1f572fe4-1a4b-48c2-ad68-366e38837247", "service": "api"}}
{"timestamp": "2026-02-08T22:24:17.690546Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\1\\videos\\scene_1\\480p15\\section_1.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:24:17.819318Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Merging video (39.5s) with audio (39.6s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:24:18.551312Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:24:18.552315Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 2/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "sections", "progress": 28, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:24:18.553660Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 2/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 1, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:24:18.553660Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 5/7: Reversing Causality", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 4, "total_sections": 7, "title": "Reversing Causality", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:24:18.553660Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:24:19.203176Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "eaddd117-63d8-47b1-908e-f5e35124d01b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "eaddd117-63d8-47b1-908e-f5e35124d01b", "service": "api"}}
{"timestamp": "2026-02-08T22:24:19.204174Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "89f8a654-c690-43c8-8557-fb2530616fb9", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "89f8a654-c690-43c8-8557-fb2530616fb9", "service": "api"}}
{"timestamp": "2026-02-08T22:24:19.208188Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "eaddd117-63d8-47b1-908e-f5e35124d01b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "eaddd117-63d8-47b1-908e-f5e35124d01b", "service": "api"}}
{"timestamp": "2026-02-08T22:24:19.208188Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "89f8a654-c690-43c8-8557-fb2530616fb9", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "89f8a654-c690-43c8-8557-fb2530616fb9", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.361527Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/1", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dccac360-157a-4e25-b635-02b22733de7a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/1", "client": "127.0.0.1", "request_id": "dccac360-157a-4e25-b635-02b22733de7a", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.368021Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dccac360-157a-4e25-b635-02b22733de7a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/1", "request_id": "dccac360-157a-4e25-b635-02b22733de7a", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.375423Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9a651f7d-3352-4765-89c6-8ef7aae28f77", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "9a651f7d-3352-4765-89c6-8ef7aae28f77", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.376480Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9a651f7d-3352-4765-89c6-8ef7aae28f77", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "request_id": "9a651f7d-3352-4765-89c6-8ef7aae28f77", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.382103Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ef4f3187-766d-4665-8bf9-fb4789ee425a", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "ef4f3187-766d-4665-8bf9-fb4789ee425a", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.385877Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ef4f3187-766d-4665-8bf9-fb4789ee425a", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "request_id": "ef4f3187-766d-4665-8bf9-fb4789ee425a", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.403804Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "edab1089-05fc-4574-9f0e-a59ff50a5296", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "edab1089-05fc-4574-9f0e-a59ff50a5296", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.405874Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "edab1089-05fc-4574-9f0e-a59ff50a5296", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "request_id": "edab1089-05fc-4574-9f0e-a59ff50a5296", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.718508Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b5f1b3ae-3c9b-4276-8cb5-060137b1f6e4", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "b5f1b3ae-3c9b-4276-8cb5-060137b1f6e4", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.719516Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b5f1b3ae-3c9b-4276-8cb5-060137b1f6e4", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "request_id": "b5f1b3ae-3c9b-4276-8cb5-060137b1f6e4", "service": "api"}}
{"timestamp": "2026-02-08T22:24:21.723997Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:24:22.203035Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9feac94c-3f1c-4f87-bfc3-301012ffb518", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "9feac94c-3f1c-4f87-bfc3-301012ffb518", "service": "api"}}
{"timestamp": "2026-02-08T22:24:22.204035Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9feac94c-3f1c-4f87-bfc3-301012ffb518", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "9feac94c-3f1c-4f87-bfc3-301012ffb518", "service": "api"}}
{"timestamp": "2026-02-08T22:24:22.206034Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e03fc6bd-643b-4faa-ae17-00a3e616d7a5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e03fc6bd-643b-4faa-ae17-00a3e616d7a5", "service": "api"}}
{"timestamp": "2026-02-08T22:24:22.210555Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e03fc6bd-643b-4faa-ae17-00a3e616d7a5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e03fc6bd-643b-4faa-ae17-00a3e616d7a5", "service": "api"}}
{"timestamp": "2026-02-08T22:24:22.656833Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 32.22s | Length: 4870 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "implementation", "request_id": "eeebbbca-7e8c-426a-aecf-ba6b8b6357fc", "timestamp": "2026-02-08T22:24:22.656833Z", "response_text": "```python\nfrom manim import *\n\n# VERSION: Manim Community v0.19.2\n# Theme: Dracula\n# Background: #282A36\n# Primary Text: #F8F8F2\n# Secondary Text: #BD93F9\n# Accents: #8BE9FD (Teal), #50FA7B (Green), #FFB86C (Orange), #FF5555 (Red)\n\nclass SceneTheAdjointTrick(Scene):\n    def construct(self):\n        # 1. Background Setup\n        self.camera.background_color = \"#282A36\"\n\n        # 2. Object Definiti... [truncated, total: 4870 chars]", "duration_seconds": 32.222, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:24:22.657833Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4856 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:24:22.659832Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\3\\scene_3.py (5006 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:24:22.660336Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 3, "attempt": 1, "code_chars": 4856, "pipeline_stage": "code_generated", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:24:22.660336Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'The Efficiency Claim'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:24:22.660336Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'The Efficiency Claim'", "module": "refiner", "function": "refine", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "The Efficiency Claim", "max_attempts": 5, "refinement_stage": "start", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:22.682407Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:24.737390Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "257f2df1-0d50-43de-9b29-1c2ce4ff8374", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "257f2df1-0d50-43de-9b29-1c2ce4ff8374", "service": "api"}}
{"timestamp": "2026-02-08T22:24:24.738390Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "257f2df1-0d50-43de-9b29-1c2ce4ff8374", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "request_id": "257f2df1-0d50-43de-9b29-1c2ce4ff8374", "service": "api"}}
{"timestamp": "2026-02-08T22:24:25.201661Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f3159474-ee70-4d97-a4c0-197fa3a92566", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f3159474-ee70-4d97-a4c0-197fa3a92566", "service": "api"}}
{"timestamp": "2026-02-08T22:24:25.203659Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "03ae37d5-374e-4ade-b6bc-ca4fbe073912", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "03ae37d5-374e-4ade-b6bc-ca4fbe073912", "service": "api"}}
{"timestamp": "2026-02-08T22:24:25.209658Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f3159474-ee70-4d97-a4c0-197fa3a92566", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f3159474-ee70-4d97-a4c0-197fa3a92566", "service": "api"}}
{"timestamp": "2026-02-08T22:24:25.210741Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "03ae37d5-374e-4ade-b6bc-ca4fbe073912", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "03ae37d5-374e-4ade-b6bc-ca4fbe073912", "service": "api"}}
{"timestamp": "2026-02-08T22:24:25.567811Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0dd1ea22-4db1-4425-82db-6f734ce23ded", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "0dd1ea22-4db1-4425-82db-6f734ce23ded", "service": "api"}}
{"timestamp": "2026-02-08T22:24:25.569952Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0dd1ea22-4db1-4425-82db-6f734ce23ded", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "request_id": "0dd1ea22-4db1-4425-82db-6f734ce23ded", "service": "api"}}
{"timestamp": "2026-02-08T22:24:25.879753Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ba5a7e4f-f8f3-4769-a3d2-e1b4508ed890", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "ba5a7e4f-f8f3-4769-a3d2-e1b4508ed890", "service": "api"}}
{"timestamp": "2026-02-08T22:24:25.880975Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ba5a7e4f-f8f3-4769-a3d2-e1b4508ed890", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "request_id": "ba5a7e4f-f8f3-4769-a3d2-e1b4508ed890", "service": "api"}}
{"timestamp": "2026-02-08T22:24:28.202355Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "380a9825-eccc-42a3-9a36-ae9da449bbe3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "380a9825-eccc-42a3-9a36-ae9da449bbe3", "service": "api"}}
{"timestamp": "2026-02-08T22:24:28.204358Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e3208878-4c9e-4801-ab59-35b1d4d503ad", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e3208878-4c9e-4801-ab59-35b1d4d503ad", "service": "api"}}
{"timestamp": "2026-02-08T22:24:28.205357Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "380a9825-eccc-42a3-9a36-ae9da449bbe3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "380a9825-eccc-42a3-9a36-ae9da449bbe3", "service": "api"}}
{"timestamp": "2026-02-08T22:24:28.213393Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e3208878-4c9e-4801-ab59-35b1d4d503ad", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e3208878-4c9e-4801-ab59-35b1d4d503ad", "service": "api"}}
{"timestamp": "2026-02-08T22:24:31.201176Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f76a858d-cc47-414f-bcce-8c7b7eb32161", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f76a858d-cc47-414f-bcce-8c7b7eb32161", "service": "api"}}
{"timestamp": "2026-02-08T22:24:31.202177Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "52504a40-c2b8-4e5f-9458-a406e6ac6e40", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "52504a40-c2b8-4e5f-9458-a406e6ac6e40", "service": "api"}}
{"timestamp": "2026-02-08T22:24:31.208176Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f76a858d-cc47-414f-bcce-8c7b7eb32161", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f76a858d-cc47-414f-bcce-8c7b7eb32161", "service": "api"}}
{"timestamp": "2026-02-08T22:24:31.208176Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "52504a40-c2b8-4e5f-9458-a406e6ac6e40", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "52504a40-c2b8-4e5f-9458-a406e6ac6e40", "service": "api"}}
{"timestamp": "2026-02-08T22:24:34.200947Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a3b48987-3208-42e3-a5e3-d9de91ae30ab", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "a3b48987-3208-42e3-a5e3-d9de91ae30ab", "service": "api"}}
{"timestamp": "2026-02-08T22:24:34.202148Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "653165c6-a0b4-4184-8b5f-deae2f8ed1cd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "653165c6-a0b4-4184-8b5f-deae2f8ed1cd", "service": "api"}}
{"timestamp": "2026-02-08T22:24:34.206148Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a3b48987-3208-42e3-a5e3-d9de91ae30ab", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "a3b48987-3208-42e3-a5e3-d9de91ae30ab", "service": "api"}}
{"timestamp": "2026-02-08T22:24:34.207149Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "653165c6-a0b4-4184-8b5f-deae2f8ed1cd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "653165c6-a0b4-4184-8b5f-deae2f8ed1cd", "service": "api"}}
{"timestamp": "2026-02-08T22:24:36.166231Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'The Efficiency Claim' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:36.166231Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionTheAdjointTrick", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:24:36.168230Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\3\\scene_3.py (5139 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:24:36.168230Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 3 Scene: SectionTheAdjointTrick", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:24:37.211425Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3820fe59-372e-4fa5-8cbe-a3c07d0b4803", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "3820fe59-372e-4fa5-8cbe-a3c07d0b4803", "service": "api"}}
{"timestamp": "2026-02-08T22:24:37.211935Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5cdb2e7e-03f8-4b87-8846-5c488c184723", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5cdb2e7e-03f8-4b87-8846-5c488c184723", "service": "api"}}
{"timestamp": "2026-02-08T22:24:37.216936Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3820fe59-372e-4fa5-8cbe-a3c07d0b4803", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "3820fe59-372e-4fa5-8cbe-a3c07d0b4803", "service": "api"}}
{"timestamp": "2026-02-08T22:24:37.217935Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5cdb2e7e-03f8-4b87-8846-5c488c184723", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5cdb2e7e-03f8-4b87-8846-5c488c184723", "service": "api"}}
{"timestamp": "2026-02-08T22:24:38.461417Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Total audio duration = 42.3s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:24:38.548732Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Generating unified video using NEW Pipeline (42.3s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:24:38.551944Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 31.73s | Length: 749 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "f8577ad6-3ef3-4532-b4d0-c4acce58fec2", "timestamp": "2026-02-08T22:24:38.551944Z", "response_text": "{\n  \"analysis\": \"The error occurs because 'get_cell' is a method for Table objects, not MathTex. I replaced it with index-based access 'dual_pair[0][1]' to correctly reference the 'x' character in the dual pair.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        # Positioning labels below elements of dual pair\\n        label_value.next_to(dual_pair.get_cell(1, 2), DOWN, buff=0.8).shift(LEFT * 0.2)... [truncated, total: 749 chars]", "duration_seconds": 31.73, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:24:38.552947Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 4 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:24:38.553947Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Reversing Causality'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:24:38.556951Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9992 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 4, "job_id": "unknown", "stage": "choreography", "request_id": "49f47e87-43eb-4c5c-8f2d-09bd625d495a", "timestamp": "2026-02-08T22:24:38.554946Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Reversing Causality\n**Duration**: 42.263999999999996s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=compre... [truncated, total: 9992 chars]", "prompt_length": 9992, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:24:38.558971Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 1 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:24:38.560975Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:24:38.560975Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:24:38.562982Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 1 successful, 0 failed (out of 1 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"successful_edits": 1, "failed_edits": 0, "total_edits": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:24:38.563984Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 5646 -> 5637)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:38.563984Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Forward Mode and Dual Numbers' (Turn 3)", "module": "refiner", "function": "refine", "line": 219, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 3, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:38.588480Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 4)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:38.650775Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applied 1 known-pattern fixes", "module": "refiner", "function": "refine", "line": 166, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 4, "refinement_stage": "pattern_fix", "fixes": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:40.200851Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "928e3df9-083a-4695-995a-d015ffb3d929", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "928e3df9-083a-4695-995a-d015ffb3d929", "service": "api"}}
{"timestamp": "2026-02-08T22:24:40.201863Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2ccfc096-efaa-43bf-a7e2-62e51e6430bd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "2ccfc096-efaa-43bf-a7e2-62e51e6430bd", "service": "api"}}
{"timestamp": "2026-02-08T22:24:40.208861Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "928e3df9-083a-4695-995a-d015ffb3d929", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "928e3df9-083a-4695-995a-d015ffb3d929", "service": "api"}}
{"timestamp": "2026-02-08T22:24:40.209861Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2ccfc096-efaa-43bf-a7e2-62e51e6430bd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "2ccfc096-efaa-43bf-a7e2-62e51e6430bd", "service": "api"}}
{"timestamp": "2026-02-08T22:24:43.210015Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3f491432-0e79-4a1e-b0b9-0bab882f4aee", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "3f491432-0e79-4a1e-b0b9-0bab882f4aee", "service": "api"}}
{"timestamp": "2026-02-08T22:24:43.211022Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2e62ff6e-9bb2-4d49-810f-a70eb4b15e8e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "2e62ff6e-9bb2-4d49-810f-a70eb4b15e8e", "service": "api"}}
{"timestamp": "2026-02-08T22:24:43.211022Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3f491432-0e79-4a1e-b0b9-0bab882f4aee", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "3f491432-0e79-4a1e-b0b9-0bab882f4aee", "service": "api"}}
{"timestamp": "2026-02-08T22:24:43.215065Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2e62ff6e-9bb2-4d49-810f-a70eb4b15e8e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "2e62ff6e-9bb2-4d49-810f-a70eb4b15e8e", "service": "api"}}
{"timestamp": "2026-02-08T22:24:43.439324Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 4/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"turn": 4, "validation_type": "runtime", "issue_count": 1, "section_title": "Forward Mode and Dual Numbers", "issue_samples": [{"category": "runtime", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "runtime:b6398688", "message": "TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument"}], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:43.439324Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:43.440329Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 4)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:24:43.440844Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: type_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:24:43.441850Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9457 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "866dae96-9c26-47ef-8606-0eaf73ee66aa", "timestamp": "2026-02-08T22:24:43.440844Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u20132 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines t... [truncated, total: 9457 chars]", "prompt_length": 9457, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:24:43.442850Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:24:46.210869Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e285c827-a665-4e1d-bac9-8a6a6ef3868b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "e285c827-a665-4e1d-bac9-8a6a6ef3868b", "service": "api"}}
{"timestamp": "2026-02-08T22:24:46.211627Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "402c697d-8a49-41d1-8743-d27cd50933fe", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "402c697d-8a49-41d1-8743-d27cd50933fe", "service": "api"}}
{"timestamp": "2026-02-08T22:24:46.215691Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e285c827-a665-4e1d-bac9-8a6a6ef3868b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "e285c827-a665-4e1d-bac9-8a6a6ef3868b", "service": "api"}}
{"timestamp": "2026-02-08T22:24:46.215691Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "402c697d-8a49-41d1-8743-d27cd50933fe", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "402c697d-8a49-41d1-8743-d27cd50933fe", "service": "api"}}
{"timestamp": "2026-02-08T22:24:46.294475Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\3\\videos\\scene_3\\480p15\\section_3.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:24:46.417343Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Merging video (39.5s) with audio (39.2s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:24:47.098878Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:24:47.100908Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 3/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "sections", "progress": 42, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:24:47.101644Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 4/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 3, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:24:47.102679Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 6/7: From Linear Systems to Eigenvalues", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 5, "total_sections": 7, "title": "From Linear Systems to Eigenvalues", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:24:47.102679Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:24:49.278348Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1a3aadec-2239-483e-b432-79020c99f869", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "1a3aadec-2239-483e-b432-79020c99f869", "service": "api"}}
{"timestamp": "2026-02-08T22:24:49.279348Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6430574e-c843-4840-bb81-624ef4e8c5e3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "6430574e-c843-4840-bb81-624ef4e8c5e3", "service": "api"}}
{"timestamp": "2026-02-08T22:24:49.284367Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1a3aadec-2239-483e-b432-79020c99f869", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "1a3aadec-2239-483e-b432-79020c99f869", "service": "api"}}
{"timestamp": "2026-02-08T22:24:49.284367Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6430574e-c843-4840-bb81-624ef4e8c5e3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "6430574e-c843-4840-bb81-624ef4e8c5e3", "service": "api"}}
{"timestamp": "2026-02-08T22:24:51.672074Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/3", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d7ffcebb-9b76-4e26-a08d-ca58f5ddc2ad", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/3", "client": "127.0.0.1", "request_id": "d7ffcebb-9b76-4e26-a08d-ca58f5ddc2ad", "service": "api"}}
{"timestamp": "2026-02-08T22:24:51.675582Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d7ffcebb-9b76-4e26-a08d-ca58f5ddc2ad", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/3", "request_id": "d7ffcebb-9b76-4e26-a08d-ca58f5ddc2ad", "service": "api"}}
{"timestamp": "2026-02-08T22:24:51.685820Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c59a808b-ec76-4ea0-8a1b-1b47701f8ac2", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "c59a808b-ec76-4ea0-8a1b-1b47701f8ac2", "service": "api"}}
{"timestamp": "2026-02-08T22:24:51.687826Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c59a808b-ec76-4ea0-8a1b-1b47701f8ac2", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "c59a808b-ec76-4ea0-8a1b-1b47701f8ac2", "service": "api"}}
{"timestamp": "2026-02-08T22:24:51.692126Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:24:51.693395Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "cc1cc0f8-39a7-469f-9d37-01747efa4b9b", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "cc1cc0f8-39a7-469f-9d37-01747efa4b9b", "service": "api"}}
{"timestamp": "2026-02-08T22:24:51.695392Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "cc1cc0f8-39a7-469f-9d37-01747efa4b9b", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "cc1cc0f8-39a7-469f-9d37-01747efa4b9b", "service": "api"}}
{"timestamp": "2026-02-08T22:24:51.704030Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "32ed7dd7-2e85-4025-b227-1f093031cde8", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "32ed7dd7-2e85-4025-b227-1f093031cde8", "service": "api"}}
{"timestamp": "2026-02-08T22:24:51.706534Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "32ed7dd7-2e85-4025-b227-1f093031cde8", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "32ed7dd7-2e85-4025-b227-1f093031cde8", "service": "api"}}
{"timestamp": "2026-02-08T22:24:52.014212Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1f809e74-6cc9-4e1f-960b-6539a4c5bf4c", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "1f809e74-6cc9-4e1f-960b-6539a4c5bf4c", "service": "api"}}
{"timestamp": "2026-02-08T22:24:52.016212Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1f809e74-6cc9-4e1f-960b-6539a4c5bf4c", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "1f809e74-6cc9-4e1f-960b-6539a4c5bf4c", "service": "api"}}
{"timestamp": "2026-02-08T22:24:52.019611Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:24:52.511251Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "70b977eb-763a-4fe5-bb17-c1c54debf81b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "70b977eb-763a-4fe5-bb17-c1c54debf81b", "service": "api"}}
{"timestamp": "2026-02-08T22:24:52.512760Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d91dbc16-c549-44ab-bc30-d9765cd82e8e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "d91dbc16-c549-44ab-bc30-d9765cd82e8e", "service": "api"}}
{"timestamp": "2026-02-08T22:24:52.512760Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "70b977eb-763a-4fe5-bb17-c1c54debf81b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "70b977eb-763a-4fe5-bb17-c1c54debf81b", "service": "api"}}
{"timestamp": "2026-02-08T22:24:52.520403Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d91dbc16-c549-44ab-bc30-d9765cd82e8e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "d91dbc16-c549-44ab-bc30-d9765cd82e8e", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.016647Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f2b6acbb-7201-4fd7-95ab-80e3d5037646", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "f2b6acbb-7201-4fd7-95ab-80e3d5037646", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.017648Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f2b6acbb-7201-4fd7-95ab-80e3d5037646", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "f2b6acbb-7201-4fd7-95ab-80e3d5037646", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.022820Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:24:55.202130Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "90f5b682-bf8f-4c70-8048-0339800001d6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "90f5b682-bf8f-4c70-8048-0339800001d6", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.203128Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "99187211-8a4b-43b8-9544-5ef67730ff94", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "99187211-8a4b-43b8-9544-5ef67730ff94", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.208125Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "90f5b682-bf8f-4c70-8048-0339800001d6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "90f5b682-bf8f-4c70-8048-0339800001d6", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.209150Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "99187211-8a4b-43b8-9544-5ef67730ff94", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "99187211-8a4b-43b8-9544-5ef67730ff94", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.379066Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "23ad8d2f-b77f-4e0f-b1b5-d76424fcf2ab", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "23ad8d2f-b77f-4e0f-b1b5-d76424fcf2ab", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.381705Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "23ad8d2f-b77f-4e0f-b1b5-d76424fcf2ab", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "23ad8d2f-b77f-4e0f-b1b5-d76424fcf2ab", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.691235Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ef36ee5e-866e-4609-adbe-baacaeb48123", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "ef36ee5e-866e-4609-adbe-baacaeb48123", "service": "api"}}
{"timestamp": "2026-02-08T22:24:55.692245Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ef36ee5e-866e-4609-adbe-baacaeb48123", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "ef36ee5e-866e-4609-adbe-baacaeb48123", "service": "api"}}
{"timestamp": "2026-02-08T22:24:56.094183Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0fefa530-b3bb-4b26-883e-4ca6874326bc", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "0fefa530-b3bb-4b26-883e-4ca6874326bc", "service": "api"}}
{"timestamp": "2026-02-08T22:24:56.096203Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0fefa530-b3bb-4b26-883e-4ca6874326bc", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "0fefa530-b3bb-4b26-883e-4ca6874326bc", "service": "api"}}
{"timestamp": "2026-02-08T22:24:56.399569Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ed16e8ef-a750-4adc-ab6b-01df3c592c46", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "ed16e8ef-a750-4adc-ab6b-01df3c592c46", "service": "api"}}
{"timestamp": "2026-02-08T22:24:56.402116Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ed16e8ef-a750-4adc-ab6b-01df3c592c46", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "ed16e8ef-a750-4adc-ab6b-01df3c592c46", "service": "api"}}
{"timestamp": "2026-02-08T22:24:56.405124Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:24:56.948756Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "13fb5274-fb5f-4aef-8bf9-d7553856eabe", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "13fb5274-fb5f-4aef-8bf9-d7553856eabe", "service": "api"}}
{"timestamp": "2026-02-08T22:24:56.950265Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "13fb5274-fb5f-4aef-8bf9-d7553856eabe", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "13fb5274-fb5f-4aef-8bf9-d7553856eabe", "service": "api"}}
{"timestamp": "2026-02-08T22:24:58.185719Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fb0bcef2-1c0e-41f7-a916-393659ac2d06", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "fb0bcef2-1c0e-41f7-a916-393659ac2d06", "service": "api"}}
{"timestamp": "2026-02-08T22:24:58.187717Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fb0bcef2-1c0e-41f7-a916-393659ac2d06", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "fb0bcef2-1c0e-41f7-a916-393659ac2d06", "service": "api"}}
{"timestamp": "2026-02-08T22:24:58.199722Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fac3ba9b-0d96-47ef-ae6a-62edbfdfdc28", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "fac3ba9b-0d96-47ef-ae6a-62edbfdfdc28", "service": "api"}}
{"timestamp": "2026-02-08T22:24:58.201244Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fac3ba9b-0d96-47ef-ae6a-62edbfdfdc28", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "fac3ba9b-0d96-47ef-ae6a-62edbfdfdc28", "service": "api"}}
{"timestamp": "2026-02-08T22:24:58.202956Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "24511b00-0c43-46f8-8c51-6104dfbc5a68", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "24511b00-0c43-46f8-8c51-6104dfbc5a68", "service": "api"}}
{"timestamp": "2026-02-08T22:24:58.210461Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "24511b00-0c43-46f8-8c51-6104dfbc5a68", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "24511b00-0c43-46f8-8c51-6104dfbc5a68", "service": "api"}}
{"timestamp": "2026-02-08T22:24:58.493307Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bb61cbed-23ef-45e7-b43d-b337cbaf5d12", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "bb61cbed-23ef-45e7-b43d-b337cbaf5d12", "service": "api"}}
{"timestamp": "2026-02-08T22:24:58.495308Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bb61cbed-23ef-45e7-b43d-b337cbaf5d12", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "bb61cbed-23ef-45e7-b43d-b337cbaf5d12", "service": "api"}}
{"timestamp": "2026-02-08T22:25:01.201232Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2cf20eac-2f73-45dd-8fcd-21fb34de8524", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "2cf20eac-2f73-45dd-8fcd-21fb34de8524", "service": "api"}}
{"timestamp": "2026-02-08T22:25:01.202243Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e043aa35-b440-4153-a6bb-e0a0ca527055", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e043aa35-b440-4153-a6bb-e0a0ca527055", "service": "api"}}
{"timestamp": "2026-02-08T22:25:01.208251Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2cf20eac-2f73-45dd-8fcd-21fb34de8524", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "2cf20eac-2f73-45dd-8fcd-21fb34de8524", "service": "api"}}
{"timestamp": "2026-02-08T22:25:01.209251Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e043aa35-b440-4153-a6bb-e0a0ca527055", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e043aa35-b440-4153-a6bb-e0a0ca527055", "service": "api"}}
{"timestamp": "2026-02-08T22:25:04.214373Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dae5fd77-001f-4b14-bb28-d2cdadc76ef2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "dae5fd77-001f-4b14-bb28-d2cdadc76ef2", "service": "api"}}
{"timestamp": "2026-02-08T22:25:04.215354Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7e87df07-df58-4936-b75f-ff3ab29aac60", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7e87df07-df58-4936-b75f-ff3ab29aac60", "service": "api"}}
{"timestamp": "2026-02-08T22:25:04.221378Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dae5fd77-001f-4b14-bb28-d2cdadc76ef2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "dae5fd77-001f-4b14-bb28-d2cdadc76ef2", "service": "api"}}
{"timestamp": "2026-02-08T22:25:04.221897Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7e87df07-df58-4936-b75f-ff3ab29aac60", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7e87df07-df58-4936-b75f-ff3ab29aac60", "service": "api"}}
{"timestamp": "2026-02-08T22:25:04.362017Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Total audio duration = 41.8s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:25:04.439394Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Generating unified video using NEW Pipeline (41.8s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:25:04.439394Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 5 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:25:04.441429Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'From Linear Systems to Eigenvalues'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:25:04.444436Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 12159 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 5, "job_id": "unknown", "stage": "choreography", "request_id": "ecdfff78-7143-40c3-b64b-676fbd569c56", "timestamp": "2026-02-08T22:25:04.443446Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: From Linear Systems to Eigenvalues\n**Duration**: 41.75999999999999s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy*... [truncated, total: 12159 chars]", "prompt_length": 12159, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:25:04.447764Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:25:07.205481Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b0b24c32-b72e-420b-9e82-e1129cf1ca23", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b0b24c32-b72e-420b-9e82-e1129cf1ca23", "service": "api"}}
{"timestamp": "2026-02-08T22:25:07.206795Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "97ef0744-786c-4326-acb5-5fa1f9b56aa4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "97ef0744-786c-4326-acb5-5fa1f9b56aa4", "service": "api"}}
{"timestamp": "2026-02-08T22:25:07.213159Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b0b24c32-b72e-420b-9e82-e1129cf1ca23", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b0b24c32-b72e-420b-9e82-e1129cf1ca23", "service": "api"}}
{"timestamp": "2026-02-08T22:25:07.214162Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "97ef0744-786c-4326-acb5-5fa1f9b56aa4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "97ef0744-786c-4326-acb5-5fa1f9b56aa4", "service": "api"}}
{"timestamp": "2026-02-08T22:25:07.848564Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 29.29s | Length: 9611 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 4, "job_id": "unknown", "stage": "choreography", "request_id": "49f47e87-43eb-4c5c-8f2d-09bd625d495a", "timestamp": "2026-02-08T22:25:07.847565Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Reversing Causality\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 42.264,\n      \"notes\": \"Dracula primary_text color\",\n      \"visual_description\": \"Bold title at the top of the screen.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n  ... [truncated, total: 9611 chars]", "duration_seconds": 29.292, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:25:07.850562Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (9611 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:25:07.852664Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\4\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:25:07.852664Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 4, "attempt": 1, "plan_chars": 9611, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\4\\choreography_plan.json", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:25:07.852664Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Reversing Causality'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:25:07.856176Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 24652 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 4, "job_id": "unknown", "stage": "implementation", "request_id": "799e65bb-5e6f-49be-97d4-e1a898138710", "timestamp": "2026-02-08T22:25:07.854170Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Reversing Causality\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 42.264,\n      \"notes\": \"Dracula primary_text color\",\n      \"visual_description\": \"Bold title at ... [truncated, total: 24652 chars]", "prompt_length": 24652, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:25:07.857178Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:25:10.218848Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6ce3f201-8df0-4b45-ac63-0ec077480a68", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "6ce3f201-8df0-4b45-ac63-0ec077480a68", "service": "api"}}
{"timestamp": "2026-02-08T22:25:10.219844Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7e6bc132-6d07-4d85-bba8-b3b8be5a6b5e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7e6bc132-6d07-4d85-bba8-b3b8be5a6b5e", "service": "api"}}
{"timestamp": "2026-02-08T22:25:10.225448Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6ce3f201-8df0-4b45-ac63-0ec077480a68", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "6ce3f201-8df0-4b45-ac63-0ec077480a68", "service": "api"}}
{"timestamp": "2026-02-08T22:25:10.226451Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7e6bc132-6d07-4d85-bba8-b3b8be5a6b5e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7e6bc132-6d07-4d85-bba8-b3b8be5a6b5e", "service": "api"}}
{"timestamp": "2026-02-08T22:25:13.215969Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7c5aa5b7-a9b5-40bb-ae1b-0c0d783eb6b6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "7c5aa5b7-a9b5-40bb-ae1b-0c0d783eb6b6", "service": "api"}}
{"timestamp": "2026-02-08T22:25:13.217966Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c246e0da-1203-4f4f-b26b-479226cd0d57", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "c246e0da-1203-4f4f-b26b-479226cd0d57", "service": "api"}}
{"timestamp": "2026-02-08T22:25:13.224177Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7c5aa5b7-a9b5-40bb-ae1b-0c0d783eb6b6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "7c5aa5b7-a9b5-40bb-ae1b-0c0d783eb6b6", "service": "api"}}
{"timestamp": "2026-02-08T22:25:13.225176Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c246e0da-1203-4f4f-b26b-479226cd0d57", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "c246e0da-1203-4f4f-b26b-479226cd0d57", "service": "api"}}
{"timestamp": "2026-02-08T22:25:16.210931Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "236f3e01-0551-4809-b3de-27be1d19dd95", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "236f3e01-0551-4809-b3de-27be1d19dd95", "service": "api"}}
{"timestamp": "2026-02-08T22:25:16.212014Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5f810b8e-2afc-4583-9aa5-b1de1bb9a615", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5f810b8e-2afc-4583-9aa5-b1de1bb9a615", "service": "api"}}
{"timestamp": "2026-02-08T22:25:16.219401Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "236f3e01-0551-4809-b3de-27be1d19dd95", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "236f3e01-0551-4809-b3de-27be1d19dd95", "service": "api"}}
{"timestamp": "2026-02-08T22:25:16.220458Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5f810b8e-2afc-4583-9aa5-b1de1bb9a615", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5f810b8e-2afc-4583-9aa5-b1de1bb9a615", "service": "api"}}
{"timestamp": "2026-02-08T22:25:16.319693Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 32.88s | Length: 706 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "866dae96-9c26-47ef-8606-0eaf73ee66aa", "timestamp": "2026-02-08T22:25:16.318693Z", "response_text": "{\n  \"analysis\": \"MathTex does not have a 'get_cell' method. Replaced it with correct character indexing 'dual_pair[0][1]' to position the label under the 'x' character.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        # Positioning labels below elements of dual pair\\n        label_value.next_to(dual_pair.get_cell(1, 2), DOWN, buff=0.8).shift(LEFT * 0.2)\\n        label_perturb.next_to(dual_pair[0... [truncated, total: 706 chars]", "duration_seconds": 32.878, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:25:16.320695Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 1 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:25:16.320695Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:25:16.320695Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 1 successful, 0 failed (out of 1 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"successful_edits": 1, "failed_edits": 0, "total_edits": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:25:16.320695Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 5646 -> 5637)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:16.320695Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Forward Mode and Dual Numbers' (Turn 4)", "module": "refiner", "function": "refine", "line": 219, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 4, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:16.342856Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 5)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:16.392735Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applied 1 known-pattern fixes", "module": "refiner", "function": "refine", "line": 166, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 5, "refinement_stage": "pattern_fix", "fixes": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:19.214777Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "67cc4332-aac3-4f07-87a0-138dcafb4116", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "67cc4332-aac3-4f07-87a0-138dcafb4116", "service": "api"}}
{"timestamp": "2026-02-08T22:25:19.216779Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d00a2d2a-fa05-47c5-a1a3-a09bca7de1e5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "d00a2d2a-fa05-47c5-a1a3-a09bca7de1e5", "service": "api"}}
{"timestamp": "2026-02-08T22:25:19.224320Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "67cc4332-aac3-4f07-87a0-138dcafb4116", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "67cc4332-aac3-4f07-87a0-138dcafb4116", "service": "api"}}
{"timestamp": "2026-02-08T22:25:19.225323Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d00a2d2a-fa05-47c5-a1a3-a09bca7de1e5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "d00a2d2a-fa05-47c5-a1a3-a09bca7de1e5", "service": "api"}}
{"timestamp": "2026-02-08T22:25:21.262736Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 5/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"turn": 5, "validation_type": "runtime", "issue_count": 1, "section_title": "Forward Mode and Dual Numbers", "issue_samples": [{"category": "runtime", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "runtime:0bf00c75", "message": "TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument"}], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:21.262736Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: TypeError: Mobject.__getattr__.<locals>.getter() takes 1 positional argument", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:21.264008Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 5)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:21.264008Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: type_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:25:21.266007Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9457 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "121f5b53-8ca8-480d-a8f6-0dfa6a724829", "timestamp": "2026-02-08T22:25:21.265007Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u20132 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines t... [truncated, total: 9457 chars]", "prompt_length": 9457, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:25:21.267007Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:25:22.208146Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3b825a8b-2db4-4e64-a0e1-d39e71bee548", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "3b825a8b-2db4-4e64-a0e1-d39e71bee548", "service": "api"}}
{"timestamp": "2026-02-08T22:25:22.209145Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8b9ef388-bbf4-41f9-b4ce-973d62635a61", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "8b9ef388-bbf4-41f9-b4ce-973d62635a61", "service": "api"}}
{"timestamp": "2026-02-08T22:25:22.215898Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3b825a8b-2db4-4e64-a0e1-d39e71bee548", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "3b825a8b-2db4-4e64-a0e1-d39e71bee548", "service": "api"}}
{"timestamp": "2026-02-08T22:25:22.216900Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8b9ef388-bbf4-41f9-b4ce-973d62635a61", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "8b9ef388-bbf4-41f9-b4ce-973d62635a61", "service": "api"}}
{"timestamp": "2026-02-08T22:25:25.210198Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c64006e2-8a60-4647-b39d-cc3a8f1f2c66", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c64006e2-8a60-4647-b39d-cc3a8f1f2c66", "service": "api"}}
{"timestamp": "2026-02-08T22:25:25.211197Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "80d0f3ca-ff25-438a-a058-967983050949", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "80d0f3ca-ff25-438a-a058-967983050949", "service": "api"}}
{"timestamp": "2026-02-08T22:25:25.217028Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c64006e2-8a60-4647-b39d-cc3a8f1f2c66", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c64006e2-8a60-4647-b39d-cc3a8f1f2c66", "service": "api"}}
{"timestamp": "2026-02-08T22:25:25.218037Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "80d0f3ca-ff25-438a-a058-967983050949", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "80d0f3ca-ff25-438a-a058-967983050949", "service": "api"}}
{"timestamp": "2026-02-08T22:25:28.212607Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "24bcbc4c-a7f9-438f-8ec9-6e4fc40eff1c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "24bcbc4c-a7f9-438f-8ec9-6e4fc40eff1c", "service": "api"}}
{"timestamp": "2026-02-08T22:25:28.213037Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "355d2c2a-b9c7-400c-ac3a-3fa42efc663f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "355d2c2a-b9c7-400c-ac3a-3fa42efc663f", "service": "api"}}
{"timestamp": "2026-02-08T22:25:28.218036Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "24bcbc4c-a7f9-438f-8ec9-6e4fc40eff1c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "24bcbc4c-a7f9-438f-8ec9-6e4fc40eff1c", "service": "api"}}
{"timestamp": "2026-02-08T22:25:28.219036Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "355d2c2a-b9c7-400c-ac3a-3fa42efc663f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "355d2c2a-b9c7-400c-ac3a-3fa42efc663f", "service": "api"}}
{"timestamp": "2026-02-08T22:25:29.850247Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 25.40s | Length: 8443 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 5, "job_id": "unknown", "stage": "choreography", "request_id": "ecdfff78-7143-40c3-b64b-676fbd569c56", "timestamp": "2026-02-08T22:25:29.849250Z", "response_text": "{\n  \"scene_type\": \"2d\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"From Linear Systems to Eigenvalues\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 41.76,\n      \"notes\": \"Main title stays throughout the lecture.\",\n      \"visual_description\": \"Bold title in Dracula primary text color.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relatio... [truncated, total: 8443 chars]", "duration_seconds": 25.405, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:25:29.851248Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (8443 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:25:29.853402Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\5\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:25:29.853402Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 5, "attempt": 1, "plan_chars": 8443, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\5\\choreography_plan.json", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:25:29.853402Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'From Linear Systems to Eigenvalues'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:25:29.857408Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 25433 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 5, "job_id": "unknown", "stage": "implementation", "request_id": "040dcf5b-eb19-4d65-aef2-efd06a9f1f1a", "timestamp": "2026-02-08T22:25:29.854407Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2d\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"From Linear Systems to Eigenvalues\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 41.76,\n      \"notes\": \"Main title stays throughout the lecture.\",\n      \"visual_d... [truncated, total: 25433 chars]", "prompt_length": 25433, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:25:29.858410Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:25:31.236630Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "052a6e2c-66a7-4fba-b335-8ccd392d9b34", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "052a6e2c-66a7-4fba-b335-8ccd392d9b34", "service": "api"}}
{"timestamp": "2026-02-08T22:25:31.237629Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "17a8376b-c45c-40d3-818a-daec09b81d0b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "17a8376b-c45c-40d3-818a-daec09b81d0b", "service": "api"}}
{"timestamp": "2026-02-08T22:25:31.244144Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "052a6e2c-66a7-4fba-b335-8ccd392d9b34", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "052a6e2c-66a7-4fba-b335-8ccd392d9b34", "service": "api"}}
{"timestamp": "2026-02-08T22:25:31.244144Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "17a8376b-c45c-40d3-818a-daec09b81d0b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "17a8376b-c45c-40d3-818a-daec09b81d0b", "service": "api"}}
{"timestamp": "2026-02-08T22:25:34.234114Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "07c20c67-7e95-4b59-b785-641d90c8f573", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "07c20c67-7e95-4b59-b785-641d90c8f573", "service": "api"}}
{"timestamp": "2026-02-08T22:25:34.235114Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "278c2f35-9b48-433f-a782-3598ae0f43ea", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "278c2f35-9b48-433f-a782-3598ae0f43ea", "service": "api"}}
{"timestamp": "2026-02-08T22:25:34.240114Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "07c20c67-7e95-4b59-b785-641d90c8f573", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "07c20c67-7e95-4b59-b785-641d90c8f573", "service": "api"}}
{"timestamp": "2026-02-08T22:25:34.240114Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "278c2f35-9b48-433f-a782-3598ae0f43ea", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "278c2f35-9b48-433f-a782-3598ae0f43ea", "service": "api"}}
{"timestamp": "2026-02-08T22:25:37.234832Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f9789aa1-3c5d-40c8-8dcc-808568ff7cba", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f9789aa1-3c5d-40c8-8dcc-808568ff7cba", "service": "api"}}
{"timestamp": "2026-02-08T22:25:37.235830Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b74d8588-6ce9-4d19-a137-def6a83afcbd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "b74d8588-6ce9-4d19-a137-def6a83afcbd", "service": "api"}}
{"timestamp": "2026-02-08T22:25:37.239829Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f9789aa1-3c5d-40c8-8dcc-808568ff7cba", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f9789aa1-3c5d-40c8-8dcc-808568ff7cba", "service": "api"}}
{"timestamp": "2026-02-08T22:25:37.241333Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b74d8588-6ce9-4d19-a137-def6a83afcbd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "b74d8588-6ce9-4d19-a137-def6a83afcbd", "service": "api"}}
{"timestamp": "2026-02-08T22:25:40.234563Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e88a38ed-86bf-4cc4-8c93-ef698e68890a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "e88a38ed-86bf-4cc4-8c93-ef698e68890a", "service": "api"}}
{"timestamp": "2026-02-08T22:25:40.235561Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "555df4fa-c1bf-46ec-9e9b-ce630f6bd8de", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "555df4fa-c1bf-46ec-9e9b-ce630f6bd8de", "service": "api"}}
{"timestamp": "2026-02-08T22:25:40.241441Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e88a38ed-86bf-4cc4-8c93-ef698e68890a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "e88a38ed-86bf-4cc4-8c93-ef698e68890a", "service": "api"}}
{"timestamp": "2026-02-08T22:25:40.242962Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "555df4fa-c1bf-46ec-9e9b-ce630f6bd8de", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "555df4fa-c1bf-46ec-9e9b-ce630f6bd8de", "service": "api"}}
{"timestamp": "2026-02-08T22:25:43.241135Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5014f5df-5659-4597-9c7c-31f5f2a377e1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "5014f5df-5659-4597-9c7c-31f5f2a377e1", "service": "api"}}
{"timestamp": "2026-02-08T22:25:43.241638Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "497fc05f-4148-430d-8d88-ba8bd111b6b9", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "497fc05f-4148-430d-8d88-ba8bd111b6b9", "service": "api"}}
{"timestamp": "2026-02-08T22:25:43.246672Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5014f5df-5659-4597-9c7c-31f5f2a377e1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "5014f5df-5659-4597-9c7c-31f5f2a377e1", "service": "api"}}
{"timestamp": "2026-02-08T22:25:43.246672Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "497fc05f-4148-430d-8d88-ba8bd111b6b9", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "497fc05f-4148-430d-8d88-ba8bd111b6b9", "service": "api"}}
{"timestamp": "2026-02-08T22:25:45.235729Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 37.38s | Length: 5461 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 4, "job_id": "unknown", "stage": "implementation", "request_id": "799e65bb-5e6f-49be-97d4-e1a898138710", "timestamp": "2026-02-08T22:25:45.234729Z", "response_text": "```python\nfrom manim import *\n\n# VERSION: Manim Community v0.19.2\n# THEME: Dracula\n# Background: #282A36\n# Primary Text: #F8F8F2\n# Secondary Text: #BD93F9\n# Accents: #8BE9FD (Teal), #50FA7B (Green), #FFB86C (Orange), #FF5555 (Red)\n\nclass SceneReversingCausality(Scene):\n    def construct(self):\n        # 1. Initialize Theme and Colors\n        self.camera.background_color = \"#282A36\"\n        PRIMARY... [truncated, total: 5461 chars]", "duration_seconds": 37.38, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:25:45.236730Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5447 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:25:45.237729Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\4\\scene_4.py (5586 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:25:45.238730Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 4, "attempt": 1, "code_chars": 5447, "pipeline_stage": "code_generated", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:25:45.238730Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Reversing Causality'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:25:45.238730Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Reversing Causality'", "module": "refiner", "function": "refine", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Reversing Causality", "max_attempts": 5, "refinement_stage": "start", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:45.263943Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:46.243009Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0aded286-6287-4728-b5d4-eb86d9f7530b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "0aded286-6287-4728-b5d4-eb86d9f7530b", "service": "api"}}
{"timestamp": "2026-02-08T22:25:46.243763Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "14399505-b369-4f39-84dc-b80d5259d467", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "14399505-b369-4f39-84dc-b80d5259d467", "service": "api"}}
{"timestamp": "2026-02-08T22:25:46.250272Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0aded286-6287-4728-b5d4-eb86d9f7530b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "0aded286-6287-4728-b5d4-eb86d9f7530b", "service": "api"}}
{"timestamp": "2026-02-08T22:25:46.251778Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "14399505-b369-4f39-84dc-b80d5259d467", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "14399505-b369-4f39-84dc-b80d5259d467", "service": "api"}}
{"timestamp": "2026-02-08T22:25:49.240824Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dcf644c5-a068-43f4-a440-f3b6b4f034c1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "dcf644c5-a068-43f4-a440-f3b6b4f034c1", "service": "api"}}
{"timestamp": "2026-02-08T22:25:49.240824Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4cb524b9-5812-4247-8a83-6d2d909f85a2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "4cb524b9-5812-4247-8a83-6d2d909f85a2", "service": "api"}}
{"timestamp": "2026-02-08T22:25:49.247837Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dcf644c5-a068-43f4-a440-f3b6b4f034c1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "dcf644c5-a068-43f4-a440-f3b6b4f034c1", "service": "api"}}
{"timestamp": "2026-02-08T22:25:49.249839Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4cb524b9-5812-4247-8a83-6d2d909f85a2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "4cb524b9-5812-4247-8a83-6d2d909f85a2", "service": "api"}}
{"timestamp": "2026-02-08T22:25:52.239564Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6a9117fd-b980-4dab-8b9e-214e68c2667a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "6a9117fd-b980-4dab-8b9e-214e68c2667a", "service": "api"}}
{"timestamp": "2026-02-08T22:25:52.239564Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "58f66d6b-bfd9-47be-9cd9-8bb1fd25c13d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "58f66d6b-bfd9-47be-9cd9-8bb1fd25c13d", "service": "api"}}
{"timestamp": "2026-02-08T22:25:52.245596Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6a9117fd-b980-4dab-8b9e-214e68c2667a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "6a9117fd-b980-4dab-8b9e-214e68c2667a", "service": "api"}}
{"timestamp": "2026-02-08T22:25:52.245596Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "58f66d6b-bfd9-47be-9cd9-8bb1fd25c13d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "58f66d6b-bfd9-47be-9cd9-8bb1fd25c13d", "service": "api"}}
{"timestamp": "2026-02-08T22:25:55.242670Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4e5b11bf-bcb2-4d20-80ab-a2a0a8ae14ae", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "4e5b11bf-bcb2-4d20-80ab-a2a0a8ae14ae", "service": "api"}}
{"timestamp": "2026-02-08T22:25:55.243330Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "33c954c4-0558-4c09-b19f-e7996344d2c0", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "33c954c4-0558-4c09-b19f-e7996344d2c0", "service": "api"}}
{"timestamp": "2026-02-08T22:25:55.250418Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4e5b11bf-bcb2-4d20-80ab-a2a0a8ae14ae", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "4e5b11bf-bcb2-4d20-80ab-a2a0a8ae14ae", "service": "api"}}
{"timestamp": "2026-02-08T22:25:55.250418Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "33c954c4-0558-4c09-b19f-e7996344d2c0", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "33c954c4-0558-4c09-b19f-e7996344d2c0", "service": "api"}}
{"timestamp": "2026-02-08T22:25:55.655167Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 1/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"turn": 1, "validation_type": "runtime", "issue_count": 1, "section_title": "Reversing Causality", "issue_samples": [{"category": "runtime", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "runtime:042e2bb9", "message": "TypeError: Mobject.__getattr__.<locals>.setter() takes 2 positional arguments"}], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:55.655167Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: TypeError: Mobject.__getattr__.<locals>.setter() takes 2 positional arguments", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:55.656166Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 1)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:25:55.656166Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: type_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:25:55.658312Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9260 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 4, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "4e4c0982-5565-4018-b0c5-5760ca6b2973", "timestamp": "2026-02-08T22:25:55.657672Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u20132 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines t... [truncated, total: 9260 chars]", "prompt_length": 9260, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:25:55.659317Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:25:58.232009Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "47da5813-1ca4-43d8-b3a2-e14973c4dc49", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "47da5813-1ca4-43d8-b3a2-e14973c4dc49", "service": "api"}}
{"timestamp": "2026-02-08T22:25:58.233703Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "25e608d4-5b4b-4035-8cfc-9ee6e2f3e1ed", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "25e608d4-5b4b-4035-8cfc-9ee6e2f3e1ed", "service": "api"}}
{"timestamp": "2026-02-08T22:25:58.238211Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "47da5813-1ca4-43d8-b3a2-e14973c4dc49", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "47da5813-1ca4-43d8-b3a2-e14973c4dc49", "service": "api"}}
{"timestamp": "2026-02-08T22:25:58.239214Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "25e608d4-5b4b-4035-8cfc-9ee6e2f3e1ed", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "25e608d4-5b4b-4035-8cfc-9ee6e2f3e1ed", "service": "api"}}
{"timestamp": "2026-02-08T22:26:00.580409Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 39.31s | Length: 695 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "121f5b53-8ca8-480d-a8f6-0dfa6a724829", "timestamp": "2026-02-08T22:26:00.580409Z", "response_text": "{\n  \"analysis\": \"MathTex does not have a get_cell method. Replaced get_cell with direct indexing of the MathTex submobjects to position the labels correctly.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        # Positioning labels below elements of dual pair\\n        label_value.next_to(dual_pair.get_cell(1, 2), DOWN, buff=0.8).shift(LEFT * 0.2)\\n        label_perturb.next_to(dual_pair[0][3:5], DOW... [truncated, total: 695 chars]", "duration_seconds": 39.314, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:26:00.581913Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 1 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:26:00.582918Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:26:00.582918Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 1 successful, 0 failed (out of 1 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"successful_edits": 1, "failed_edits": 0, "total_edits": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:26:00.582918Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 5646 -> 5637)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:26:00.583908Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Forward Mode and Dual Numbers' (Turn 5)", "module": "refiner", "function": "refine", "line": 219, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 5, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:26:00.583908Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement exhausted for 'Forward Mode and Dual Numbers'", "module": "refiner", "function": "refine", "line": 242, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempts": 5, "static_failures": 0, "runtime_failures": 5, "deterministic_fixes": 5, "llm_fixes": 5, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "exhausted", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:26:00.585165Z", "level": "ERROR", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Code not stabilized for 'Forward Mode and Dual Numbers' after refinement", "module": "orchestrator", "function": "_execute_pipeline", "line": 229, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:26:00.585165Z", "level": "ERROR", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage failure: Refinement failed to stabilize code for 'Forward Mode and Dual Numbers' - max validation attempts exhausted", "module": "orchestrator", "function": "generate", "line": 141, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempt": 1, "error_type": "ImplementationError", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:26:00.585165Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Waiting 1s before retry...", "module": "orchestrator", "function": "generate", "line": 153, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:26:01.237996Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f282cbe6-aee8-4839-b49f-8dacab4bea25", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f282cbe6-aee8-4839-b49f-8dacab4bea25", "service": "api"}}
{"timestamp": "2026-02-08T22:26:01.238998Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fc38441a-822c-4152-984c-625f9c50ffce", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "fc38441a-822c-4152-984c-625f9c50ffce", "service": "api"}}
{"timestamp": "2026-02-08T22:26:01.244238Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f282cbe6-aee8-4839-b49f-8dacab4bea25", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f282cbe6-aee8-4839-b49f-8dacab4bea25", "service": "api"}}
{"timestamp": "2026-02-08T22:26:01.245284Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fc38441a-822c-4152-984c-625f9c50ffce", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "fc38441a-822c-4152-984c-625f9c50ffce", "service": "api"}}
{"timestamp": "2026-02-08T22:26:01.592176Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Retry attempt 2/2 for 'Forward Mode and Dual Numbers'", "module": "orchestrator", "function": "generate", "line": 106, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempt": 2, "section_title": "Forward Mode and Dual Numbers", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:26:01.592176Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Forward Mode and Dual Numbers'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:26:01.595281Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9719 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "retry_attempt": 2, "retry_temperature": 0.7999999999999999, "previous_failure": "Refinement failed to stabilize code for 'Forward Mode and Dual Numbers' - max validation attempts exhausted", "stage": "choreography", "request_id": "939ea6e3-cf7b-4d06-a7ea-27e716b71206", "timestamp": "2026-02-08T22:26:01.594281Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Forward Mode and Dual Numbers\n**Duration**: 41.976s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=comprehe... [truncated, total: 9719 chars]", "prompt_length": 9719, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:26:01.597696Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:26:04.593937Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4d4e3bd2-ebcf-4b4d-9ddc-bebf3db12522", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "4d4e3bd2-ebcf-4b4d-9ddc-bebf3db12522", "service": "api"}}
{"timestamp": "2026-02-08T22:26:04.594641Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "da9bc0d1-b9a1-4063-9e2f-2292edf9406f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "da9bc0d1-b9a1-4063-9e2f-2292edf9406f", "service": "api"}}
{"timestamp": "2026-02-08T22:26:04.604372Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4d4e3bd2-ebcf-4b4d-9ddc-bebf3db12522", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "4d4e3bd2-ebcf-4b4d-9ddc-bebf3db12522", "service": "api"}}
{"timestamp": "2026-02-08T22:26:04.606379Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "da9bc0d1-b9a1-4063-9e2f-2292edf9406f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "da9bc0d1-b9a1-4063-9e2f-2292edf9406f", "service": "api"}}
{"timestamp": "2026-02-08T22:26:06.232515Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/1", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e450960e-2702-413e-92b7-4485bf979565", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/1", "client": "127.0.0.1", "request_id": "e450960e-2702-413e-92b7-4485bf979565", "service": "api"}}
{"timestamp": "2026-02-08T22:26:06.237190Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e450960e-2702-413e-92b7-4485bf979565", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/1", "request_id": "e450960e-2702-413e-92b7-4485bf979565", "service": "api"}}
{"timestamp": "2026-02-08T22:26:06.244276Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aab6cb0c-bff6-479a-ab14-0f0608769630", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "aab6cb0c-bff6-479a-ab14-0f0608769630", "service": "api"}}
{"timestamp": "2026-02-08T22:26:06.247169Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aab6cb0c-bff6-479a-ab14-0f0608769630", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "request_id": "aab6cb0c-bff6-479a-ab14-0f0608769630", "service": "api"}}
{"timestamp": "2026-02-08T22:26:06.255567Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3b46a445-4bca-4033-bb62-cac6cb8799d2", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "3b46a445-4bca-4033-bb62-cac6cb8799d2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:06.257574Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3b46a445-4bca-4033-bb62-cac6cb8799d2", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/1/final_section.mp4", "request_id": "3b46a445-4bca-4033-bb62-cac6cb8799d2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:07.215710Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b142ddfc-f462-4ae6-9c2d-f71d806a1258", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b142ddfc-f462-4ae6-9c2d-f71d806a1258", "service": "api"}}
{"timestamp": "2026-02-08T22:26:07.216715Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "cf668e06-b6ee-411c-b5fa-6f9a7454c6de", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "cf668e06-b6ee-411c-b5fa-6f9a7454c6de", "service": "api"}}
{"timestamp": "2026-02-08T22:26:07.223247Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b142ddfc-f462-4ae6-9c2d-f71d806a1258", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b142ddfc-f462-4ae6-9c2d-f71d806a1258", "service": "api"}}
{"timestamp": "2026-02-08T22:26:07.223755Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "cf668e06-b6ee-411c-b5fa-6f9a7454c6de", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "cf668e06-b6ee-411c-b5fa-6f9a7454c6de", "service": "api"}}
{"timestamp": "2026-02-08T22:26:10.239106Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0f4c2aac-8a4c-405b-b811-6e83817ec1b6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "0f4c2aac-8a4c-405b-b811-6e83817ec1b6", "service": "api"}}
{"timestamp": "2026-02-08T22:26:10.240107Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b6be663f-fbdb-4c82-ab0b-9434fa83b71a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "b6be663f-fbdb-4c82-ab0b-9434fa83b71a", "service": "api"}}
{"timestamp": "2026-02-08T22:26:10.240107Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0f4c2aac-8a4c-405b-b811-6e83817ec1b6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "0f4c2aac-8a4c-405b-b811-6e83817ec1b6", "service": "api"}}
{"timestamp": "2026-02-08T22:26:10.245126Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b6be663f-fbdb-4c82-ab0b-9434fa83b71a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "b6be663f-fbdb-4c82-ab0b-9434fa83b71a", "service": "api"}}
{"timestamp": "2026-02-08T22:26:13.233517Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "51653eb0-6979-4702-8757-a0ae14a0cab4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "51653eb0-6979-4702-8757-a0ae14a0cab4", "service": "api"}}
{"timestamp": "2026-02-08T22:26:13.234269Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "60a65b84-82d2-412f-8e97-c0a280d06893", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "60a65b84-82d2-412f-8e97-c0a280d06893", "service": "api"}}
{"timestamp": "2026-02-08T22:26:13.237601Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "51653eb0-6979-4702-8757-a0ae14a0cab4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "51653eb0-6979-4702-8757-a0ae14a0cab4", "service": "api"}}
{"timestamp": "2026-02-08T22:26:13.238600Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "60a65b84-82d2-412f-8e97-c0a280d06893", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "60a65b84-82d2-412f-8e97-c0a280d06893", "service": "api"}}
{"timestamp": "2026-02-08T22:26:16.232412Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "13e3c05f-91dd-409a-aa4b-b8b1ea921278", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "13e3c05f-91dd-409a-aa4b-b8b1ea921278", "service": "api"}}
{"timestamp": "2026-02-08T22:26:16.233419Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6d52914c-bdd1-4c0d-b898-a6df7ad34308", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "6d52914c-bdd1-4c0d-b898-a6df7ad34308", "service": "api"}}
{"timestamp": "2026-02-08T22:26:16.237656Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "13e3c05f-91dd-409a-aa4b-b8b1ea921278", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "13e3c05f-91dd-409a-aa4b-b8b1ea921278", "service": "api"}}
{"timestamp": "2026-02-08T22:26:16.237656Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6d52914c-bdd1-4c0d-b898-a6df7ad34308", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "6d52914c-bdd1-4c0d-b898-a6df7ad34308", "service": "api"}}
{"timestamp": "2026-02-08T22:26:18.195253Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 48.34s | Length: 5111 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 5, "job_id": "unknown", "stage": "implementation", "request_id": "040dcf5b-eb19-4d65-aef2-efd06a9f1f1a", "timestamp": "2026-02-08T22:26:18.195253Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\n# Scene class for \"From Linear Systems to Eigenvalues\"\n# Theme: Dracula\n# Total Duration: 41.76s\n\nclass SceneLinearAndNonlinear(Scene):\n    def construct(self):\n        # --- DRACULA THEME COLORS ---\n        DRACULA_BG = \"#282A36\"\n        DRACULA_FG = \"#F8F8F2\"\n        DRACULA_PURPLE = \"#BD93F9\"\n        DRACULA_CYAN = \"#8BE9FD\"\n        DRACULA_GREEN =... [truncated, total: 5111 chars]", "duration_seconds": 48.339, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:26:18.196253Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5097 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:26:18.198259Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\5\\scene_5.py (5236 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:26:18.198259Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 5, "attempt": 1, "code_chars": 5097, "pipeline_stage": "code_generated", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:26:18.198259Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'From Linear Systems to Eigenvalues'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:26:18.199266Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'From Linear Systems to Eigenvalues'", "module": "refiner", "function": "refine", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "From Linear Systems to Eigenvalues", "max_attempts": 5, "refinement_stage": "start", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:26:18.221153Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:26:19.236647Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "51e24ba3-018b-40b6-b6e0-da100acd8cc2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "51e24ba3-018b-40b6-b6e0-da100acd8cc2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:19.237993Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e3b812d5-4968-4b56-b15a-4f1d73e310e8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e3b812d5-4968-4b56-b15a-4f1d73e310e8", "service": "api"}}
{"timestamp": "2026-02-08T22:26:19.237993Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "51e24ba3-018b-40b6-b6e0-da100acd8cc2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "51e24ba3-018b-40b6-b6e0-da100acd8cc2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:19.242515Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e3b812d5-4968-4b56-b15a-4f1d73e310e8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e3b812d5-4968-4b56-b15a-4f1d73e310e8", "service": "api"}}
{"timestamp": "2026-02-08T22:26:22.204111Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3bf301b1-eb08-4716-b3b0-8bed32d2ea5f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "3bf301b1-eb08-4716-b3b0-8bed32d2ea5f", "service": "api"}}
{"timestamp": "2026-02-08T22:26:22.204111Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6a701208-d3a1-402a-8ab9-51a9f2dcfcfe", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "6a701208-d3a1-402a-8ab9-51a9f2dcfcfe", "service": "api"}}
{"timestamp": "2026-02-08T22:26:22.209620Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3bf301b1-eb08-4716-b3b0-8bed32d2ea5f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "3bf301b1-eb08-4716-b3b0-8bed32d2ea5f", "service": "api"}}
{"timestamp": "2026-02-08T22:26:22.210623Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6a701208-d3a1-402a-8ab9-51a9f2dcfcfe", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "6a701208-d3a1-402a-8ab9-51a9f2dcfcfe", "service": "api"}}
{"timestamp": "2026-02-08T22:26:22.470151Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b13b139b-6e29-4dc8-8ce6-4c662df0482c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "client": "127.0.0.1", "request_id": "b13b139b-6e29-4dc8-8ce6-4c662df0482c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:22.474175Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b13b139b-6e29-4dc8-8ce6-4c662df0482c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "request_id": "b13b139b-6e29-4dc8-8ce6-4c662df0482c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:25.214500Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "82867513-f9bb-4fd7-ad98-9b915799b59c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "82867513-f9bb-4fd7-ad98-9b915799b59c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:25.215502Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7451cd9d-41c2-4335-b8ba-e1986c2bdb2e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7451cd9d-41c2-4335-b8ba-e1986c2bdb2e", "service": "api"}}
{"timestamp": "2026-02-08T22:26:25.222515Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "82867513-f9bb-4fd7-ad98-9b915799b59c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "82867513-f9bb-4fd7-ad98-9b915799b59c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:25.223956Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7451cd9d-41c2-4335-b8ba-e1986c2bdb2e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7451cd9d-41c2-4335-b8ba-e1986c2bdb2e", "service": "api"}}
{"timestamp": "2026-02-08T22:26:28.235103Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bbd59239-a0b4-4d7d-bde7-d38e825347fb", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "bbd59239-a0b4-4d7d-bde7-d38e825347fb", "service": "api"}}
{"timestamp": "2026-02-08T22:26:28.237106Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "46e39db0-066a-4fa1-bff9-610d5728a2d5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "46e39db0-066a-4fa1-bff9-610d5728a2d5", "service": "api"}}
{"timestamp": "2026-02-08T22:26:28.242990Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bbd59239-a0b4-4d7d-bde7-d38e825347fb", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "bbd59239-a0b4-4d7d-bde7-d38e825347fb", "service": "api"}}
{"timestamp": "2026-02-08T22:26:28.243512Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "46e39db0-066a-4fa1-bff9-610d5728a2d5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "46e39db0-066a-4fa1-bff9-610d5728a2d5", "service": "api"}}
{"timestamp": "2026-02-08T22:26:30.095258Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 28.50s | Length: 9492 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "retry_attempt": 2, "retry_temperature": 0.7999999999999999, "previous_failure": "Refinement failed to stabilize code for 'Forward Mode and Dual Numbers' - max validation attempts exhausted", "stage": "choreography", "request_id": "939ea6e3-cf7b-4d06-a7ea-27e716b71206", "timestamp": "2026-02-08T22:26:30.095258Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Forward Mode & Dual Numbers\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 6.888,\n      \"notes\": \"Main title in Dracula primary color.\",\n      \"visual_description\": \"Bold text at the top of the screen.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"... [truncated, total: 9492 chars]", "duration_seconds": 28.501, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:26:30.096369Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (9492 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:26:30.097376Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\2\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:26:30.098375Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 2, "attempt": 2, "plan_chars": 9492, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\2\\choreography_plan.json", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:26:30.098375Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Forward Mode and Dual Numbers'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:26:30.099374Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 24363 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "retry_attempt": 2, "retry_temperature": 0.7999999999999999, "previous_failure": "Refinement failed to stabilize code for 'Forward Mode and Dual Numbers' - max validation attempts exhausted", "stage": "implementation", "request_id": "fff002e8-95d5-4ca5-8dbf-efaa2cf6fe49", "timestamp": "2026-02-08T22:26:30.098375Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Forward Mode & Dual Numbers\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 6.888,\n      \"notes\": \"Main title in Dracula primary color.\",\n      \"visual_description\"... [truncated, total: 24363 chars]", "prompt_length": 24363, "config": {"temperature": 0.7999999999999999, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:26:30.100693Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:26:31.238796Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "34772179-44f1-429e-a0ab-cac321783b12", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "34772179-44f1-429e-a0ab-cac321783b12", "service": "api"}}
{"timestamp": "2026-02-08T22:26:31.239797Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "699b636f-4115-4c5d-adbb-8408d1e312b8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "699b636f-4115-4c5d-adbb-8408d1e312b8", "service": "api"}}
{"timestamp": "2026-02-08T22:26:31.244924Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "34772179-44f1-429e-a0ab-cac321783b12", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "34772179-44f1-429e-a0ab-cac321783b12", "service": "api"}}
{"timestamp": "2026-02-08T22:26:31.244924Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "699b636f-4115-4c5d-adbb-8408d1e312b8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "699b636f-4115-4c5d-adbb-8408d1e312b8", "service": "api"}}
{"timestamp": "2026-02-08T22:26:31.558946Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'From Linear Systems to Eigenvalues' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:26:31.559948Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionLinearAndNonlinear", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:26:31.560976Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\5\\scene_5.py (5419 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:26:31.560976Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 5 Scene: SectionLinearAndNonlinear", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:26:34.241135Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c6f6644d-e88c-49f8-a1bf-ce63a0f88a1a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c6f6644d-e88c-49f8-a1bf-ce63a0f88a1a", "service": "api"}}
{"timestamp": "2026-02-08T22:26:34.242264Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "241faa28-6a71-4860-95a3-d330675a1e19", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "241faa28-6a71-4860-95a3-d330675a1e19", "service": "api"}}
{"timestamp": "2026-02-08T22:26:34.247027Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c6f6644d-e88c-49f8-a1bf-ce63a0f88a1a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c6f6644d-e88c-49f8-a1bf-ce63a0f88a1a", "service": "api"}}
{"timestamp": "2026-02-08T22:26:34.247027Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "241faa28-6a71-4860-95a3-d330675a1e19", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "241faa28-6a71-4860-95a3-d330675a1e19", "service": "api"}}
{"timestamp": "2026-02-08T22:26:37.240620Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "cfd014c6-6dcd-455b-b543-3a18ac1952e2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "cfd014c6-6dcd-455b-b543-3a18ac1952e2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:37.241618Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a4ed557a-e590-4b50-81f9-a672f1ca68f4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a4ed557a-e590-4b50-81f9-a672f1ca68f4", "service": "api"}}
{"timestamp": "2026-02-08T22:26:37.246238Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "cfd014c6-6dcd-455b-b543-3a18ac1952e2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "cfd014c6-6dcd-455b-b543-3a18ac1952e2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:37.247238Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a4ed557a-e590-4b50-81f9-a672f1ca68f4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a4ed557a-e590-4b50-81f9-a672f1ca68f4", "service": "api"}}
{"timestamp": "2026-02-08T22:26:40.243086Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f0e470c4-ca67-4804-8566-e480b2b20b6d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f0e470c4-ca67-4804-8566-e480b2b20b6d", "service": "api"}}
{"timestamp": "2026-02-08T22:26:40.243086Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "433ee370-d0c2-45d5-857d-a7e05d97de7c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "433ee370-d0c2-45d5-857d-a7e05d97de7c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:40.251170Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f0e470c4-ca67-4804-8566-e480b2b20b6d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f0e470c4-ca67-4804-8566-e480b2b20b6d", "service": "api"}}
{"timestamp": "2026-02-08T22:26:40.251170Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "433ee370-d0c2-45d5-857d-a7e05d97de7c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "433ee370-d0c2-45d5-857d-a7e05d97de7c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:42.941565Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\5\\videos\\scene_5\\480p15\\section_5.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:26:43.065854Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Merging video (41.7s) with audio (41.8s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:26:43.247518Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1a676e7e-e824-48a1-a816-f825f9a24755", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "1a676e7e-e824-48a1-a816-f825f9a24755", "service": "api"}}
{"timestamp": "2026-02-08T22:26:43.248935Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "065ff5ce-9e63-40f6-895e-d26f874ddb2a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "065ff5ce-9e63-40f6-895e-d26f874ddb2a", "service": "api"}}
{"timestamp": "2026-02-08T22:26:43.253991Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1a676e7e-e824-48a1-a816-f825f9a24755", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "1a676e7e-e824-48a1-a816-f825f9a24755", "service": "api"}}
{"timestamp": "2026-02-08T22:26:43.255355Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "065ff5ce-9e63-40f6-895e-d26f874ddb2a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "065ff5ce-9e63-40f6-895e-d26f874ddb2a", "service": "api"}}
{"timestamp": "2026-02-08T22:26:43.749409Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:26:43.750836Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 4/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "sections", "progress": 57, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:26:43.750836Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 6/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 5, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:26:43.750836Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 7/7: The Power of the Backward Pass", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 6, "total_sections": 7, "title": "The Power of the Backward Pass", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:26:43.750836Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:26:46.235859Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "16bdaf07-6fd2-4448-a476-163ba06dbca9", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "16bdaf07-6fd2-4448-a476-163ba06dbca9", "service": "api"}}
{"timestamp": "2026-02-08T22:26:46.236854Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e9f62c42-650f-4291-aded-e2da1fa00223", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e9f62c42-650f-4291-aded-e2da1fa00223", "service": "api"}}
{"timestamp": "2026-02-08T22:26:46.240853Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "16bdaf07-6fd2-4448-a476-163ba06dbca9", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "16bdaf07-6fd2-4448-a476-163ba06dbca9", "service": "api"}}
{"timestamp": "2026-02-08T22:26:46.241853Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e9f62c42-650f-4291-aded-e2da1fa00223", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e9f62c42-650f-4291-aded-e2da1fa00223", "service": "api"}}
{"timestamp": "2026-02-08T22:26:47.937442Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/5", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5b2f401c-6d91-4430-acf7-536d81dcf9d3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/5", "client": "127.0.0.1", "request_id": "5b2f401c-6d91-4430-acf7-536d81dcf9d3", "service": "api"}}
{"timestamp": "2026-02-08T22:26:47.941440Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5b2f401c-6d91-4430-acf7-536d81dcf9d3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/5", "request_id": "5b2f401c-6d91-4430-acf7-536d81dcf9d3", "service": "api"}}
{"timestamp": "2026-02-08T22:26:47.948560Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ec331efb-11b9-4fe4-8a98-140c27ff4519", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "ec331efb-11b9-4fe4-8a98-140c27ff4519", "service": "api"}}
{"timestamp": "2026-02-08T22:26:47.950569Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ec331efb-11b9-4fe4-8a98-140c27ff4519", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "ec331efb-11b9-4fe4-8a98-140c27ff4519", "service": "api"}}
{"timestamp": "2026-02-08T22:26:47.956271Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1850d279-5c6f-4fa0-a40f-489bbe72129e", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "1850d279-5c6f-4fa0-a40f-489bbe72129e", "service": "api"}}
{"timestamp": "2026-02-08T22:26:47.958270Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1850d279-5c6f-4fa0-a40f-489bbe72129e", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "1850d279-5c6f-4fa0-a40f-489bbe72129e", "service": "api"}}
{"timestamp": "2026-02-08T22:26:47.966291Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dd9c66a5-cefe-4962-8aed-c550ec54cfdb", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "dd9c66a5-cefe-4962-8aed-c550ec54cfdb", "service": "api"}}
{"timestamp": "2026-02-08T22:26:47.968619Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dd9c66a5-cefe-4962-8aed-c550ec54cfdb", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "dd9c66a5-cefe-4962-8aed-c550ec54cfdb", "service": "api"}}
{"timestamp": "2026-02-08T22:26:48.377128Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "67b3d812-bc14-4da9-834c-24108b5bd740", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "67b3d812-bc14-4da9-834c-24108b5bd740", "service": "api"}}
{"timestamp": "2026-02-08T22:26:48.379136Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "67b3d812-bc14-4da9-834c-24108b5bd740", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "67b3d812-bc14-4da9-834c-24108b5bd740", "service": "api"}}
{"timestamp": "2026-02-08T22:26:48.382616Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:26:49.525624Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3ad4a57d-1334-42a6-806f-315dcbba22b7", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "3ad4a57d-1334-42a6-806f-315dcbba22b7", "service": "api"}}
{"timestamp": "2026-02-08T22:26:49.527111Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ceba6edf-c072-421d-af86-1660b52803d2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "ceba6edf-c072-421d-af86-1660b52803d2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:49.535149Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3ad4a57d-1334-42a6-806f-315dcbba22b7", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "3ad4a57d-1334-42a6-806f-315dcbba22b7", "service": "api"}}
{"timestamp": "2026-02-08T22:26:49.535149Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ceba6edf-c072-421d-af86-1660b52803d2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "ceba6edf-c072-421d-af86-1660b52803d2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:51.367266Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f6112d4a-3b87-43de-8106-7986016f000c", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "f6112d4a-3b87-43de-8106-7986016f000c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:51.369268Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f6112d4a-3b87-43de-8106-7986016f000c", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "f6112d4a-3b87-43de-8106-7986016f000c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:52.212698Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "24bd86ee-c15f-4c00-86b0-9babbf8236c9", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "24bd86ee-c15f-4c00-86b0-9babbf8236c9", "service": "api"}}
{"timestamp": "2026-02-08T22:26:52.214203Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aae0937b-5d3a-4cf2-a62e-c1843b006a94", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "aae0937b-5d3a-4cf2-a62e-c1843b006a94", "service": "api"}}
{"timestamp": "2026-02-08T22:26:52.220215Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "24bd86ee-c15f-4c00-86b0-9babbf8236c9", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "24bd86ee-c15f-4c00-86b0-9babbf8236c9", "service": "api"}}
{"timestamp": "2026-02-08T22:26:52.221721Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aae0937b-5d3a-4cf2-a62e-c1843b006a94", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "aae0937b-5d3a-4cf2-a62e-c1843b006a94", "service": "api"}}
{"timestamp": "2026-02-08T22:26:55.215105Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b0076de1-e994-4469-82be-584a421ccde1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b0076de1-e994-4469-82be-584a421ccde1", "service": "api"}}
{"timestamp": "2026-02-08T22:26:55.215629Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "35aeaee6-9775-4134-b388-67a5afcecd4c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "35aeaee6-9775-4134-b388-67a5afcecd4c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:55.221629Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b0076de1-e994-4469-82be-584a421ccde1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b0076de1-e994-4469-82be-584a421ccde1", "service": "api"}}
{"timestamp": "2026-02-08T22:26:55.222628Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "35aeaee6-9775-4134-b388-67a5afcecd4c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "35aeaee6-9775-4134-b388-67a5afcecd4c", "service": "api"}}
{"timestamp": "2026-02-08T22:26:58.206942Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fbb799af-b6f3-4e92-a655-1b968b8205f2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "fbb799af-b6f3-4e92-a655-1b968b8205f2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:58.207946Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8bdddb63-ac90-40ab-b24a-fd56540ab19a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "8bdddb63-ac90-40ab-b24a-fd56540ab19a", "service": "api"}}
{"timestamp": "2026-02-08T22:26:58.214557Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fbb799af-b6f3-4e92-a655-1b968b8205f2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "fbb799af-b6f3-4e92-a655-1b968b8205f2", "service": "api"}}
{"timestamp": "2026-02-08T22:26:58.214557Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8bdddb63-ac90-40ab-b24a-fd56540ab19a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "8bdddb63-ac90-40ab-b24a-fd56540ab19a", "service": "api"}}
{"timestamp": "2026-02-08T22:27:00.998638Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Total audio duration = 41.6s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:27:01.073640Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Generating unified video using NEW Pipeline (41.6s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:27:01.074647Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 6 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:27:01.075153Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'The Power of the Backward Pass'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:27:01.078157Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10679 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "choreography", "request_id": "685f4bc8-c0f3-476c-a7dd-d7e06683ac51", "timestamp": "2026-02-08T22:27:01.076157Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: The Power of the Backward Pass\n**Duration**: 41.592s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=compreh... [truncated, total: 10679 chars]", "prompt_length": 10679, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:27:01.080165Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:27:01.212162Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "189c6b02-717b-4d46-8b5e-61c8fa90d99f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "189c6b02-717b-4d46-8b5e-61c8fa90d99f", "service": "api"}}
{"timestamp": "2026-02-08T22:27:01.213669Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ec71d7b5-93bf-4359-bc76-fce30b4062b8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "ec71d7b5-93bf-4359-bc76-fce30b4062b8", "service": "api"}}
{"timestamp": "2026-02-08T22:27:01.220214Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "189c6b02-717b-4d46-8b5e-61c8fa90d99f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "189c6b02-717b-4d46-8b5e-61c8fa90d99f", "service": "api"}}
{"timestamp": "2026-02-08T22:27:01.221213Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ec71d7b5-93bf-4359-bc76-fce30b4062b8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "ec71d7b5-93bf-4359-bc76-fce30b4062b8", "service": "api"}}
{"timestamp": "2026-02-08T22:27:04.209980Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d5557401-c775-4c42-a9e0-f95e6b40fc58", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "d5557401-c775-4c42-a9e0-f95e6b40fc58", "service": "api"}}
{"timestamp": "2026-02-08T22:27:04.210993Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "76d9575b-3727-4a29-a8bb-858da79575a0", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "76d9575b-3727-4a29-a8bb-858da79575a0", "service": "api"}}
{"timestamp": "2026-02-08T22:27:04.215684Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d5557401-c775-4c42-a9e0-f95e6b40fc58", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "d5557401-c775-4c42-a9e0-f95e6b40fc58", "service": "api"}}
{"timestamp": "2026-02-08T22:27:04.217191Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "76d9575b-3727-4a29-a8bb-858da79575a0", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "76d9575b-3727-4a29-a8bb-858da79575a0", "service": "api"}}
{"timestamp": "2026-02-08T22:27:04.752170Z", "level": "ERROR", "logger": "app.core.llm_logger", "message": "LLM Error | Duration: 3.67s | Error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "module": "llm_logger", "function": "log_response", "line": 486, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "choreography", "request_id": "685f4bc8-c0f3-476c-a7dd-d7e06683ac51", "timestamp": "2026-02-08T22:27:04.751169Z", "response_text": "", "duration_seconds": 3.674, "success": false, "error": "503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:27:05.465073Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 69.81s | Length: 670 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 4, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "4e4c0982-5565-4018-b0c5-5760ca6b2973", "timestamp": "2026-02-08T22:27:05.465073Z", "response_text": "{\"analysis\": \"The Text object in ManimCE does not support the set_color_by_text method. I replaced the manual coloring calls with the t2c (text-to-color) parameter in the Text constructor.\", \"edits\": [{\"search_text\": \"        tradeoff = Text(\\\"Time Saved vs. Memory Used\\\", font_size=32)\\n        tradeoff.set_color_by_text(\\\"Time Saved\\\", ACCENT_GREEN)\\n        tradeoff.set_color_by_text(\\\"Memory U... [truncated, total: 670 chars]", "duration_seconds": 69.807, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:27:05.466077Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 1 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:27:05.466077Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:27:05.466077Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 1 successful, 0 failed (out of 1 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"successful_edits": 1, "failed_edits": 0, "total_edits": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:27:05.466077Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 5447 -> 5383)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:05.467308Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Reversing Causality' (Turn 1)", "module": "refiner", "function": "refine", "line": 219, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Reversing Causality", "turn": 1, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:05.491542Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 2)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:05.767518Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10679 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "choreography", "request_id": "8cee6dea-c038-4471-8816-2c130fb0c3d6", "timestamp": "2026-02-08T22:27:05.766518Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: The Power of the Backward Pass\n**Duration**: 41.592s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=compreh... [truncated, total: 10679 chars]", "prompt_length": 10679, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:27:05.768518Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:27:07.212977Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8f0b6b74-e039-48e0-9312-73ebcfc2f50b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8f0b6b74-e039-48e0-9312-73ebcfc2f50b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:07.214479Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "26a72938-109d-4cf2-bcbe-50c348dac716", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "26a72938-109d-4cf2-bcbe-50c348dac716", "service": "api"}}
{"timestamp": "2026-02-08T22:27:07.220486Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8f0b6b74-e039-48e0-9312-73ebcfc2f50b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8f0b6b74-e039-48e0-9312-73ebcfc2f50b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:07.221487Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "26a72938-109d-4cf2-bcbe-50c348dac716", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "26a72938-109d-4cf2-bcbe-50c348dac716", "service": "api"}}
{"timestamp": "2026-02-08T22:27:07.680837Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 37.58s | Length: 4451 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "retry_attempt": 2, "retry_temperature": 0.7999999999999999, "previous_failure": "Refinement failed to stabilize code for 'Forward Mode and Dual Numbers' - max validation attempts exhausted", "stage": "implementation", "request_id": "fff002e8-95d5-4ca5-8dbf-efaa2cf6fe49", "timestamp": "2026-02-08T22:27:07.679827Z", "response_text": "```python\nfrom manim import *\n\nclass SceneForwardMode(Scene):\n    def construct(self):\n        # Theme: Dracula\n        # background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]\n        self.camera.background_color = \"#282A36\"\n        primary_color = \"#F8F8F2\"\n        secondary_color = \"#BD93F9\"\n        teal_accent = \"#8BE9FD\"\n        green_ac... [truncated, total: 4451 chars]", "duration_seconds": 37.58, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:27:07.681829Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4437 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:27:07.682837Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\2\\scene_2.py (4547 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:27:07.682837Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 2, "attempt": 2, "code_chars": 4437, "pipeline_stage": "code_generated", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:27:07.683830Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Forward Mode and Dual Numbers'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:27:07.683830Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Forward Mode and Dual Numbers'", "module": "refiner", "function": "refine", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "max_attempts": 5, "refinement_stage": "start", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:07.704557Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:10.207563Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f023c29e-54f1-4345-9498-10349a1f0c6d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f023c29e-54f1-4345-9498-10349a1f0c6d", "service": "api"}}
{"timestamp": "2026-02-08T22:27:10.208575Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "847317b6-84ce-414e-8fa6-8c9730b4d8fa", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "847317b6-84ce-414e-8fa6-8c9730b4d8fa", "service": "api"}}
{"timestamp": "2026-02-08T22:27:10.217552Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f023c29e-54f1-4345-9498-10349a1f0c6d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f023c29e-54f1-4345-9498-10349a1f0c6d", "service": "api"}}
{"timestamp": "2026-02-08T22:27:10.218554Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "847317b6-84ce-414e-8fa6-8c9730b4d8fa", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "847317b6-84ce-414e-8fa6-8c9730b4d8fa", "service": "api"}}
{"timestamp": "2026-02-08T22:27:13.210077Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "15afb6e4-07bd-40dc-814d-06afad188cf4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "15afb6e4-07bd-40dc-814d-06afad188cf4", "service": "api"}}
{"timestamp": "2026-02-08T22:27:13.211085Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "84502897-669d-4acc-a208-fd532144c573", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "84502897-669d-4acc-a208-fd532144c573", "service": "api"}}
{"timestamp": "2026-02-08T22:27:13.217352Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "15afb6e4-07bd-40dc-814d-06afad188cf4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "15afb6e4-07bd-40dc-814d-06afad188cf4", "service": "api"}}
{"timestamp": "2026-02-08T22:27:13.218353Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "84502897-669d-4acc-a208-fd532144c573", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "84502897-669d-4acc-a208-fd532144c573", "service": "api"}}
{"timestamp": "2026-02-08T22:27:16.188221Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 1/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"turn": 1, "validation_type": "runtime", "issue_count": 1, "section_title": "Forward Mode and Dual Numbers", "issue_samples": [{"category": "runtime", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "runtime:05efa13f", "message": "TypeError: Mobject.next_to() got an unexpected keyword argument 'font_size'"}], "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:16.188221Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: TypeError: Mobject.next_to() got an unexpected keyword argument 'font_size'", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:16.189224Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 1)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:16.189224Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: type_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:27:16.191223Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 8274 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "retry_attempt": 2, "retry_temperature": 0.7999999999999999, "previous_failure": "Refinement failed to stabilize code for 'Forward Mode and Dual Numbers' - max validation attempts exhausted", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "3b21cf4f-cbdb-48a4-b8ff-7ecdc3cbc2d7", "timestamp": "2026-02-08T22:27:16.190223Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u20132 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines t... [truncated, total: 8274 chars]", "prompt_length": 8274, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:27:16.192221Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:27:16.214835Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ed3715cf-e5d1-4bc5-b6fe-adfb93c536d4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "ed3715cf-e5d1-4bc5-b6fe-adfb93c536d4", "service": "api"}}
{"timestamp": "2026-02-08T22:27:16.215841Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3a2ec553-1e1a-4ebe-95d6-c384be902aa5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "3a2ec553-1e1a-4ebe-95d6-c384be902aa5", "service": "api"}}
{"timestamp": "2026-02-08T22:27:16.215841Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ed3715cf-e5d1-4bc5-b6fe-adfb93c536d4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "ed3715cf-e5d1-4bc5-b6fe-adfb93c536d4", "service": "api"}}
{"timestamp": "2026-02-08T22:27:16.223665Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3a2ec553-1e1a-4ebe-95d6-c384be902aa5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "3a2ec553-1e1a-4ebe-95d6-c384be902aa5", "service": "api"}}
{"timestamp": "2026-02-08T22:27:19.214296Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "df6f43a9-db55-4d5c-8dc2-7e6c409fbc7a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "df6f43a9-db55-4d5c-8dc2-7e6c409fbc7a", "service": "api"}}
{"timestamp": "2026-02-08T22:27:19.215696Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "53ebdfd7-527c-47b5-857f-7c514ea846c8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "53ebdfd7-527c-47b5-857f-7c514ea846c8", "service": "api"}}
{"timestamp": "2026-02-08T22:27:19.223352Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "df6f43a9-db55-4d5c-8dc2-7e6c409fbc7a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "df6f43a9-db55-4d5c-8dc2-7e6c409fbc7a", "service": "api"}}
{"timestamp": "2026-02-08T22:27:19.224353Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "53ebdfd7-527c-47b5-857f-7c514ea846c8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "53ebdfd7-527c-47b5-857f-7c514ea846c8", "service": "api"}}
{"timestamp": "2026-02-08T22:27:22.210583Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c327e8ac-562f-4ba7-908c-2ea541b5cdb8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c327e8ac-562f-4ba7-908c-2ea541b5cdb8", "service": "api"}}
{"timestamp": "2026-02-08T22:27:22.212581Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e35553cb-484d-435c-adea-06acd11e3068", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e35553cb-484d-435c-adea-06acd11e3068", "service": "api"}}
{"timestamp": "2026-02-08T22:27:22.218616Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c327e8ac-562f-4ba7-908c-2ea541b5cdb8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c327e8ac-562f-4ba7-908c-2ea541b5cdb8", "service": "api"}}
{"timestamp": "2026-02-08T22:27:22.219616Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e35553cb-484d-435c-adea-06acd11e3068", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e35553cb-484d-435c-adea-06acd11e3068", "service": "api"}}
{"timestamp": "2026-02-08T22:27:25.213440Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "407a08d1-dd56-4826-88ba-512e8ab49bf3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "407a08d1-dd56-4826-88ba-512e8ab49bf3", "service": "api"}}
{"timestamp": "2026-02-08T22:27:25.214941Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7d906f78-1496-49c1-9cde-ebae38960a9b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7d906f78-1496-49c1-9cde-ebae38960a9b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:25.221968Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "407a08d1-dd56-4826-88ba-512e8ab49bf3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "407a08d1-dd56-4826-88ba-512e8ab49bf3", "service": "api"}}
{"timestamp": "2026-02-08T22:27:25.222967Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7d906f78-1496-49c1-9cde-ebae38960a9b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7d906f78-1496-49c1-9cde-ebae38960a9b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:26.963265Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Reversing Causality' (Turn 2)", "module": "refiner", "function": "refine", "line": 191, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempts": 2, "static_failures": 0, "runtime_failures": 1, "deterministic_fixes": 0, "llm_fixes": 1, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:26.964265Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionReversingCausality", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:27:26.965323Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\4\\scene_4.py (5653 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:27:26.966330Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 4 Scene: SectionReversingCausality", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:27:28.207905Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8b007326-bca7-4963-9e7d-3fb9954e53a2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8b007326-bca7-4963-9e7d-3fb9954e53a2", "service": "api"}}
{"timestamp": "2026-02-08T22:27:28.208907Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "acd94f9a-1374-4829-92ec-3efa5f74dad0", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "acd94f9a-1374-4829-92ec-3efa5f74dad0", "service": "api"}}
{"timestamp": "2026-02-08T22:27:28.216634Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8b007326-bca7-4963-9e7d-3fb9954e53a2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8b007326-bca7-4963-9e7d-3fb9954e53a2", "service": "api"}}
{"timestamp": "2026-02-08T22:27:28.217647Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "acd94f9a-1374-4829-92ec-3efa5f74dad0", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "acd94f9a-1374-4829-92ec-3efa5f74dad0", "service": "api"}}
{"timestamp": "2026-02-08T22:27:31.205698Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f035219c-3cff-4131-a5a4-3cf859897e6c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f035219c-3cff-4131-a5a4-3cf859897e6c", "service": "api"}}
{"timestamp": "2026-02-08T22:27:31.206364Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "23e68976-4bc9-4589-9205-f81c69dca466", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "23e68976-4bc9-4589-9205-f81c69dca466", "service": "api"}}
{"timestamp": "2026-02-08T22:27:31.206364Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f035219c-3cff-4131-a5a4-3cf859897e6c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f035219c-3cff-4131-a5a4-3cf859897e6c", "service": "api"}}
{"timestamp": "2026-02-08T22:27:31.213419Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "23e68976-4bc9-4589-9205-f81c69dca466", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "23e68976-4bc9-4589-9205-f81c69dca466", "service": "api"}}
{"timestamp": "2026-02-08T22:27:34.207400Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "857168f7-fd95-4e47-871c-e113c1a52fcf", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "857168f7-fd95-4e47-871c-e113c1a52fcf", "service": "api"}}
{"timestamp": "2026-02-08T22:27:34.208400Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bb55471a-30f7-4c9b-9ed2-53c0228812c2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "bb55471a-30f7-4c9b-9ed2-53c0228812c2", "service": "api"}}
{"timestamp": "2026-02-08T22:27:34.215428Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "857168f7-fd95-4e47-871c-e113c1a52fcf", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "857168f7-fd95-4e47-871c-e113c1a52fcf", "service": "api"}}
{"timestamp": "2026-02-08T22:27:34.216434Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bb55471a-30f7-4c9b-9ed2-53c0228812c2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "bb55471a-30f7-4c9b-9ed2-53c0228812c2", "service": "api"}}
{"timestamp": "2026-02-08T22:27:34.982970Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b25e492a-5b45-4175-8826-3c8d59f39040", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/4", "client": "127.0.0.1", "request_id": "b25e492a-5b45-4175-8826-3c8d59f39040", "service": "api"}}
{"timestamp": "2026-02-08T22:27:34.987602Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b25e492a-5b45-4175-8826-3c8d59f39040", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/4", "request_id": "b25e492a-5b45-4175-8826-3c8d59f39040", "service": "api"}}
{"timestamp": "2026-02-08T22:27:35.939814Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 30.17s | Length: 9805 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "choreography", "request_id": "8cee6dea-c038-4471-8816-2c130fb0c3d6", "timestamp": "2026-02-08T22:27:35.938815Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"The Power of the Backward Pass\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 41.592,\n      \"notes\": \"Main title, persists throughout the video.\",\n      \"visual_description\": \"Bold title in Dracula primary text color.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"rel... [truncated, total: 9805 chars]", "duration_seconds": 30.172, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:27:35.941820Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (9805 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:27:35.946011Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\6\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:27:35.946576Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 6, "attempt": 1, "plan_chars": 9805, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\6\\choreography_plan.json", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:27:35.946576Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'The Power of the Backward Pass'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:27:35.949577Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 25365 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "implementation", "request_id": "3cda90ad-d109-45f9-9aeb-38d7005faf23", "timestamp": "2026-02-08T22:27:35.948581Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"The Power of the Backward Pass\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 41.592,\n      \"notes\": \"Main title, persists throughout the video.\",\n      \"visu... [truncated, total: 25365 chars]", "prompt_length": 25365, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:27:35.950578Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:27:37.217546Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aa74f5ae-b394-40ea-a6c4-069cce549aad", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "aa74f5ae-b394-40ea-a6c4-069cce549aad", "service": "api"}}
{"timestamp": "2026-02-08T22:27:37.218548Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ab9ff6a5-d976-42ab-a056-c3db89641956", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "ab9ff6a5-d976-42ab-a056-c3db89641956", "service": "api"}}
{"timestamp": "2026-02-08T22:27:37.224546Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aa74f5ae-b394-40ea-a6c4-069cce549aad", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "aa74f5ae-b394-40ea-a6c4-069cce549aad", "service": "api"}}
{"timestamp": "2026-02-08T22:27:37.225572Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ab9ff6a5-d976-42ab-a056-c3db89641956", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "ab9ff6a5-d976-42ab-a056-c3db89641956", "service": "api"}}
{"timestamp": "2026-02-08T22:27:39.738908Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/3", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7fd9b53d-bfc7-431e-b666-a71a565f897e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/3", "client": "127.0.0.1", "request_id": "7fd9b53d-bfc7-431e-b666-a71a565f897e", "service": "api"}}
{"timestamp": "2026-02-08T22:27:39.745425Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7fd9b53d-bfc7-431e-b666-a71a565f897e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/3", "request_id": "7fd9b53d-bfc7-431e-b666-a71a565f897e", "service": "api"}}
{"timestamp": "2026-02-08T22:27:39.751432Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "483a0b6d-be62-423c-a6e6-06a8ba323e20", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "483a0b6d-be62-423c-a6e6-06a8ba323e20", "service": "api"}}
{"timestamp": "2026-02-08T22:27:39.752433Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "483a0b6d-be62-423c-a6e6-06a8ba323e20", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "483a0b6d-be62-423c-a6e6-06a8ba323e20", "service": "api"}}
{"timestamp": "2026-02-08T22:27:39.756311Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:27:40.061515Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7ae59bcf-ec76-4d4c-92dd-a88cec64ee68", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "7ae59bcf-ec76-4d4c-92dd-a88cec64ee68", "service": "api"}}
{"timestamp": "2026-02-08T22:27:40.063515Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7ae59bcf-ec76-4d4c-92dd-a88cec64ee68", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "7ae59bcf-ec76-4d4c-92dd-a88cec64ee68", "service": "api"}}
{"timestamp": "2026-02-08T22:27:40.087890Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c219ae67-7ce3-4d38-9090-7a28955ba8b6", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "c219ae67-7ce3-4d38-9090-7a28955ba8b6", "service": "api"}}
{"timestamp": "2026-02-08T22:27:40.088889Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c219ae67-7ce3-4d38-9090-7a28955ba8b6", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "c219ae67-7ce3-4d38-9090-7a28955ba8b6", "service": "api"}}
{"timestamp": "2026-02-08T22:27:40.208665Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0a17e026-6930-467e-93a9-c7dc9f2195e6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "0a17e026-6930-467e-93a9-c7dc9f2195e6", "service": "api"}}
{"timestamp": "2026-02-08T22:27:40.209661Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "242a6487-27a3-477b-abf1-94675c5b940b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "242a6487-27a3-477b-abf1-94675c5b940b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:40.217690Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0a17e026-6930-467e-93a9-c7dc9f2195e6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "0a17e026-6930-467e-93a9-c7dc9f2195e6", "service": "api"}}
{"timestamp": "2026-02-08T22:27:40.218689Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "242a6487-27a3-477b-abf1-94675c5b940b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "242a6487-27a3-477b-abf1-94675c5b940b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:43.212557Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "73e071ce-14a7-4fe9-9af4-f6d1fbedc893", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "73e071ce-14a7-4fe9-9af4-f6d1fbedc893", "service": "api"}}
{"timestamp": "2026-02-08T22:27:43.213557Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f59afcb2-d228-47e1-8c1b-809594f3852b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "f59afcb2-d228-47e1-8c1b-809594f3852b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:43.219413Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "73e071ce-14a7-4fe9-9af4-f6d1fbedc893", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "73e071ce-14a7-4fe9-9af4-f6d1fbedc893", "service": "api"}}
{"timestamp": "2026-02-08T22:27:43.220920Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f59afcb2-d228-47e1-8c1b-809594f3852b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "f59afcb2-d228-47e1-8c1b-809594f3852b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:43.344729Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0549cb60-1c71-4ce2-9fdd-fbc7ff8b1239", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "client": "127.0.0.1", "request_id": "0549cb60-1c71-4ce2-9fdd-fbc7ff8b1239", "service": "api"}}
{"timestamp": "2026-02-08T22:27:43.347082Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0549cb60-1c71-4ce2-9fdd-fbc7ff8b1239", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/3/final_section.mp4", "request_id": "0549cb60-1c71-4ce2-9fdd-fbc7ff8b1239", "service": "api"}}
{"timestamp": "2026-02-08T22:27:43.350143Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:27:46.212049Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "08a567b5-2529-46b5-8d59-f05d457cc7cf", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "08a567b5-2529-46b5-8d59-f05d457cc7cf", "service": "api"}}
{"timestamp": "2026-02-08T22:27:46.213051Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "08a567b5-2529-46b5-8d59-f05d457cc7cf", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "08a567b5-2529-46b5-8d59-f05d457cc7cf", "service": "api"}}
{"timestamp": "2026-02-08T22:27:46.215560Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "903c145b-21c5-4796-9cd1-3650d329b80a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "903c145b-21c5-4796-9cd1-3650d329b80a", "service": "api"}}
{"timestamp": "2026-02-08T22:27:46.222095Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "903c145b-21c5-4796-9cd1-3650d329b80a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "903c145b-21c5-4796-9cd1-3650d329b80a", "service": "api"}}
{"timestamp": "2026-02-08T22:27:46.748228Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\4\\videos\\scene_4\\480p15\\section_4.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:27:46.870643Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Merging video (42.3s) with audio (42.3s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:27:47.536628Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:27:47.537635Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 5/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "sections", "progress": 71, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:27:47.538637Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 5/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 4, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:27:49.211430Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dafdacd3-882b-445d-86a8-bc1d68e246d9", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "dafdacd3-882b-445d-86a8-bc1d68e246d9", "service": "api"}}
{"timestamp": "2026-02-08T22:27:49.212433Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5d67a10e-d752-4770-bd57-b554580beb66", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5d67a10e-d752-4770-bd57-b554580beb66", "service": "api"}}
{"timestamp": "2026-02-08T22:27:49.217136Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dafdacd3-882b-445d-86a8-bc1d68e246d9", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "dafdacd3-882b-445d-86a8-bc1d68e246d9", "service": "api"}}
{"timestamp": "2026-02-08T22:27:49.218140Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5d67a10e-d752-4770-bd57-b554580beb66", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5d67a10e-d752-4770-bd57-b554580beb66", "service": "api"}}
{"timestamp": "2026-02-08T22:27:52.205854Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c235d49d-72f5-4e9b-9ff7-3405279fb848", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "c235d49d-72f5-4e9b-9ff7-3405279fb848", "service": "api"}}
{"timestamp": "2026-02-08T22:27:52.206865Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "403c0d23-b6a0-4e3e-b53e-3ca55d19214b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "403c0d23-b6a0-4e3e-b53e-3ca55d19214b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:52.207871Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c235d49d-72f5-4e9b-9ff7-3405279fb848", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c235d49d-72f5-4e9b-9ff7-3405279fb848", "service": "api"}}
{"timestamp": "2026-02-08T22:27:52.216676Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "403c0d23-b6a0-4e3e-b53e-3ca55d19214b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "403c0d23-b6a0-4e3e-b53e-3ca55d19214b", "service": "api"}}
{"timestamp": "2026-02-08T22:27:55.207756Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a806f9ec-2b4b-4a6d-b813-074d2e06b407", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "a806f9ec-2b4b-4a6d-b813-074d2e06b407", "service": "api"}}
{"timestamp": "2026-02-08T22:27:55.208753Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ab0b01f6-19d3-4489-878c-eefd54a21f5e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "ab0b01f6-19d3-4489-878c-eefd54a21f5e", "service": "api"}}
{"timestamp": "2026-02-08T22:27:55.215259Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a806f9ec-2b4b-4a6d-b813-074d2e06b407", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "a806f9ec-2b4b-4a6d-b813-074d2e06b407", "service": "api"}}
{"timestamp": "2026-02-08T22:27:55.215793Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ab0b01f6-19d3-4489-878c-eefd54a21f5e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "ab0b01f6-19d3-4489-878c-eefd54a21f5e", "service": "api"}}
{"timestamp": "2026-02-08T22:27:56.970025Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 21.02s | Length: 5863 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "implementation", "request_id": "3cda90ad-d109-45f9-9aeb-38d7005faf23", "timestamp": "2026-02-08T22:27:56.970025Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass SceneConclusionApplications(Scene):\n    def construct(self):\n        # --- THEME SETUP ---\n        self.camera.background_color = \"#282A36\"\n        primary_text_color = \"#F8F8F2\"\n        secondary_text_color = \"#BD93F9\"\n        accent_teal = \"#8BE9FD\"\n        accent_green = \"#50FA7B\"\n        accent_orange = \"#FFB86C\"\n        \n        # --- OBJEC... [truncated, total: 5863 chars]", "duration_seconds": 21.02, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:27:56.971025Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5849 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:27:56.973025Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\6\\scene_6.py (5993 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:27:56.973025Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 6, "attempt": 1, "code_chars": 5849, "pipeline_stage": "code_generated", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:27:56.973025Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'The Power of the Backward Pass'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:27:56.974027Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'The Power of the Backward Pass'", "module": "refiner", "function": "refine", "line": 129, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "The Power of the Backward Pass", "max_attempts": 5, "refinement_stage": "start", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:56.996948Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:27:58.210986Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fd1c0f34-5510-4a9c-a42f-b4140ac58738", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "fd1c0f34-5510-4a9c-a42f-b4140ac58738", "service": "api"}}
{"timestamp": "2026-02-08T22:27:58.211987Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "24d3c886-6b23-4397-bfa7-44883f78fe83", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "24d3c886-6b23-4397-bfa7-44883f78fe83", "service": "api"}}
{"timestamp": "2026-02-08T22:27:58.219912Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fd1c0f34-5510-4a9c-a42f-b4140ac58738", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "fd1c0f34-5510-4a9c-a42f-b4140ac58738", "service": "api"}}
{"timestamp": "2026-02-08T22:27:58.220915Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "24d3c886-6b23-4397-bfa7-44883f78fe83", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "24d3c886-6b23-4397-bfa7-44883f78fe83", "service": "api"}}
{"timestamp": "2026-02-08T22:28:01.211039Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7f3bcc0f-4b13-4b19-984a-5da4bc4a9e3c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "7f3bcc0f-4b13-4b19-984a-5da4bc4a9e3c", "service": "api"}}
{"timestamp": "2026-02-08T22:28:01.212040Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "01bf7f18-e4cb-4cb7-8751-3c634633f7fd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "01bf7f18-e4cb-4cb7-8751-3c634633f7fd", "service": "api"}}
{"timestamp": "2026-02-08T22:28:01.217054Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7f3bcc0f-4b13-4b19-984a-5da4bc4a9e3c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "7f3bcc0f-4b13-4b19-984a-5da4bc4a9e3c", "service": "api"}}
{"timestamp": "2026-02-08T22:28:01.218056Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "01bf7f18-e4cb-4cb7-8751-3c634633f7fd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "01bf7f18-e4cb-4cb7-8751-3c634633f7fd", "service": "api"}}
{"timestamp": "2026-02-08T22:28:02.614404Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/5", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1cdbff49-621d-4887-a401-64a6ee90d2f1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/5", "client": "127.0.0.1", "request_id": "1cdbff49-621d-4887-a401-64a6ee90d2f1", "service": "api"}}
{"timestamp": "2026-02-08T22:28:02.620422Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1cdbff49-621d-4887-a401-64a6ee90d2f1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/5", "request_id": "1cdbff49-621d-4887-a401-64a6ee90d2f1", "service": "api"}}
{"timestamp": "2026-02-08T22:28:02.630235Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e6394e9b-c379-48b9-9552-740bd22ff6ca", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "e6394e9b-c379-48b9-9552-740bd22ff6ca", "service": "api"}}
{"timestamp": "2026-02-08T22:28:02.632233Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e6394e9b-c379-48b9-9552-740bd22ff6ca", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "e6394e9b-c379-48b9-9552-740bd22ff6ca", "service": "api"}}
{"timestamp": "2026-02-08T22:28:02.636421Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3f1a06c9-5379-4a78-baf5-d0991f422cb7", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "3f1a06c9-5379-4a78-baf5-d0991f422cb7", "service": "api"}}
{"timestamp": "2026-02-08T22:28:02.637935Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3f1a06c9-5379-4a78-baf5-d0991f422cb7", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "3f1a06c9-5379-4a78-baf5-d0991f422cb7", "service": "api"}}
{"timestamp": "2026-02-08T22:28:02.658864Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8ff9ca06-02aa-45b7-9a1f-aeb28482ddd1", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "8ff9ca06-02aa-45b7-9a1f-aeb28482ddd1", "service": "api"}}
{"timestamp": "2026-02-08T22:28:02.659941Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8ff9ca06-02aa-45b7-9a1f-aeb28482ddd1", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "8ff9ca06-02aa-45b7-9a1f-aeb28482ddd1", "service": "api"}}
{"timestamp": "2026-02-08T22:28:04.213507Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "48a5a13f-01dc-4bea-a7f6-f5ec428cda3a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "48a5a13f-01dc-4bea-a7f6-f5ec428cda3a", "service": "api"}}
{"timestamp": "2026-02-08T22:28:04.214510Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "71cfdf22-fba4-4c8f-980a-4083244c089d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "71cfdf22-fba4-4c8f-980a-4083244c089d", "service": "api"}}
{"timestamp": "2026-02-08T22:28:04.221522Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "48a5a13f-01dc-4bea-a7f6-f5ec428cda3a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "48a5a13f-01dc-4bea-a7f6-f5ec428cda3a", "service": "api"}}
{"timestamp": "2026-02-08T22:28:04.221522Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "71cfdf22-fba4-4c8f-980a-4083244c089d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "71cfdf22-fba4-4c8f-980a-4083244c089d", "service": "api"}}
{"timestamp": "2026-02-08T22:28:06.613160Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a5e03a46-e8b9-447a-8b44-101a97c1076a", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "a5e03a46-e8b9-447a-8b44-101a97c1076a", "service": "api"}}
{"timestamp": "2026-02-08T22:28:06.615157Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a5e03a46-e8b9-447a-8b44-101a97c1076a", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "a5e03a46-e8b9-447a-8b44-101a97c1076a", "service": "api"}}
{"timestamp": "2026-02-08T22:28:07.256694Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "07d2921c-cdbd-49d5-a021-5981bb559bc0", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "07d2921c-cdbd-49d5-a021-5981bb559bc0", "service": "api"}}
{"timestamp": "2026-02-08T22:28:07.257359Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7e3d81c9-9fda-42ff-a07d-4d27b3e2e00d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7e3d81c9-9fda-42ff-a07d-4d27b3e2e00d", "service": "api"}}
{"timestamp": "2026-02-08T22:28:07.264544Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "07d2921c-cdbd-49d5-a021-5981bb559bc0", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "07d2921c-cdbd-49d5-a021-5981bb559bc0", "service": "api"}}
{"timestamp": "2026-02-08T22:28:07.266050Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7e3d81c9-9fda-42ff-a07d-4d27b3e2e00d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7e3d81c9-9fda-42ff-a07d-4d27b3e2e00d", "service": "api"}}
{"timestamp": "2026-02-08T22:28:08.080209Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f9f827c0-0959-4892-8c90-6f314d777a2f", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "f9f827c0-0959-4892-8c90-6f314d777a2f", "service": "api"}}
{"timestamp": "2026-02-08T22:28:08.082208Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f9f827c0-0959-4892-8c90-6f314d777a2f", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "f9f827c0-0959-4892-8c90-6f314d777a2f", "service": "api"}}
{"timestamp": "2026-02-08T22:28:08.110903Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8ad8bbc2-e4d0-44aa-8ad1-270843d55532", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "client": "127.0.0.1", "request_id": "8ad8bbc2-e4d0-44aa-8ad1-270843d55532", "service": "api"}}
{"timestamp": "2026-02-08T22:28:08.112912Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8ad8bbc2-e4d0-44aa-8ad1-270843d55532", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/5/final_section.mp4", "request_id": "8ad8bbc2-e4d0-44aa-8ad1-270843d55532", "service": "api"}}
{"timestamp": "2026-02-08T22:28:10.210954Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f1bb8ef6-e481-4143-ab42-74b22b2e3bef", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "f1bb8ef6-e481-4143-ab42-74b22b2e3bef", "service": "api"}}
{"timestamp": "2026-02-08T22:28:10.211950Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3d02fd61-6394-4312-af90-70cbbcf4b390", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "3d02fd61-6394-4312-af90-70cbbcf4b390", "service": "api"}}
{"timestamp": "2026-02-08T22:28:10.216963Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f1bb8ef6-e481-4143-ab42-74b22b2e3bef", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "f1bb8ef6-e481-4143-ab42-74b22b2e3bef", "service": "api"}}
{"timestamp": "2026-02-08T22:28:10.217970Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3d02fd61-6394-4312-af90-70cbbcf4b390", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "3d02fd61-6394-4312-af90-70cbbcf4b390", "service": "api"}}
{"timestamp": "2026-02-08T22:28:13.210376Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4d953093-e61a-409d-afb3-249020755f03", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "4d953093-e61a-409d-afb3-249020755f03", "service": "api"}}
{"timestamp": "2026-02-08T22:28:13.212373Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "58d0f36a-9f89-491f-8817-4c8d6f913c4e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "58d0f36a-9f89-491f-8817-4c8d6f913c4e", "service": "api"}}
{"timestamp": "2026-02-08T22:28:13.219952Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4d953093-e61a-409d-afb3-249020755f03", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "4d953093-e61a-409d-afb3-249020755f03", "service": "api"}}
{"timestamp": "2026-02-08T22:28:13.220952Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "58d0f36a-9f89-491f-8817-4c8d6f913c4e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "58d0f36a-9f89-491f-8817-4c8d6f913c4e", "service": "api"}}
{"timestamp": "2026-02-08T22:28:13.493653Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4e944170-4c27-43a3-a5aa-24c3c12589e7", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "client": "127.0.0.1", "request_id": "4e944170-4c27-43a3-a5aa-24c3c12589e7", "service": "api"}}
{"timestamp": "2026-02-08T22:28:13.498172Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4e944170-4c27-43a3-a5aa-24c3c12589e7", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "request_id": "4e944170-4c27-43a3-a5aa-24c3c12589e7", "service": "api"}}
{"timestamp": "2026-02-08T22:28:14.343332Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'The Power of the Backward Pass' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:28:14.343332Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionConclusionApplications", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:28:14.344331Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\6\\scene_6.py (6126 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:28:14.345837Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 6 Scene: SectionConclusionApplications", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:28:16.208633Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6cc678d2-44b3-4485-bb84-7be16b98512e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "6cc678d2-44b3-4485-bb84-7be16b98512e", "service": "api"}}
{"timestamp": "2026-02-08T22:28:16.209627Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ddd48431-ed75-48a5-87c8-60a049f83d52", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "ddd48431-ed75-48a5-87c8-60a049f83d52", "service": "api"}}
{"timestamp": "2026-02-08T22:28:16.215624Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6cc678d2-44b3-4485-bb84-7be16b98512e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "6cc678d2-44b3-4485-bb84-7be16b98512e", "service": "api"}}
{"timestamp": "2026-02-08T22:28:16.216645Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ddd48431-ed75-48a5-87c8-60a049f83d52", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "ddd48431-ed75-48a5-87c8-60a049f83d52", "service": "api"}}
{"timestamp": "2026-02-08T22:28:19.208813Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ba8d0cad-8807-404e-810a-b83f7b38b14c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "ba8d0cad-8807-404e-810a-b83f7b38b14c", "service": "api"}}
{"timestamp": "2026-02-08T22:28:19.209822Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b226b980-9e28-4b7c-a84a-005afd022390", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "b226b980-9e28-4b7c-a84a-005afd022390", "service": "api"}}
{"timestamp": "2026-02-08T22:28:19.214818Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ba8d0cad-8807-404e-810a-b83f7b38b14c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "ba8d0cad-8807-404e-810a-b83f7b38b14c", "service": "api"}}
{"timestamp": "2026-02-08T22:28:19.214818Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b226b980-9e28-4b7c-a84a-005afd022390", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "b226b980-9e28-4b7c-a84a-005afd022390", "service": "api"}}
{"timestamp": "2026-02-08T22:28:22.216673Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8d6f5f8b-b469-4267-8818-aeda5973eadb", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8d6f5f8b-b469-4267-8818-aeda5973eadb", "service": "api"}}
{"timestamp": "2026-02-08T22:28:22.217180Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "807a0f8e-7030-4634-9416-a0cf5d48763b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "807a0f8e-7030-4634-9416-a0cf5d48763b", "service": "api"}}
{"timestamp": "2026-02-08T22:28:22.220879Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8d6f5f8b-b469-4267-8818-aeda5973eadb", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8d6f5f8b-b469-4267-8818-aeda5973eadb", "service": "api"}}
{"timestamp": "2026-02-08T22:28:22.221880Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "807a0f8e-7030-4634-9416-a0cf5d48763b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "807a0f8e-7030-4634-9416-a0cf5d48763b", "service": "api"}}
{"timestamp": "2026-02-08T22:28:25.163741Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\6\\videos\\scene_6\\480p15\\section_6.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:28:25.214278Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5a72aabb-bed9-4599-bc3d-6c17f3b7da9b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "5a72aabb-bed9-4599-bc3d-6c17f3b7da9b", "service": "api"}}
{"timestamp": "2026-02-08T22:28:25.215781Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "edb04fa3-4bf2-4cc6-aef9-3e1e798c28c1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "edb04fa3-4bf2-4cc6-aef9-3e1e798c28c1", "service": "api"}}
{"timestamp": "2026-02-08T22:28:25.215781Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5a72aabb-bed9-4599-bc3d-6c17f3b7da9b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "5a72aabb-bed9-4599-bc3d-6c17f3b7da9b", "service": "api"}}
{"timestamp": "2026-02-08T22:28:25.219946Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "edb04fa3-4bf2-4cc6-aef9-3e1e798c28c1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "edb04fa3-4bf2-4cc6-aef9-3e1e798c28c1", "service": "api"}}
{"timestamp": "2026-02-08T22:28:25.299446Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Merging video (42.6s) with audio (41.6s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:28:25.955887Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:28:25.956894Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 6/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "sections", "progress": 85, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:28:25.956894Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 7/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 6, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:28:28.211867Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a929b3fa-5769-440b-8e6a-bb163d2636e5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "a929b3fa-5769-440b-8e6a-bb163d2636e5", "service": "api"}}
{"timestamp": "2026-02-08T22:28:28.212876Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f71868d7-df49-48b5-98fb-b2749a068357", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "f71868d7-df49-48b5-98fb-b2749a068357", "service": "api"}}
{"timestamp": "2026-02-08T22:28:28.219905Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a929b3fa-5769-440b-8e6a-bb163d2636e5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "a929b3fa-5769-440b-8e6a-bb163d2636e5", "service": "api"}}
{"timestamp": "2026-02-08T22:28:28.220910Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f71868d7-df49-48b5-98fb-b2749a068357", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "f71868d7-df49-48b5-98fb-b2749a068357", "service": "api"}}
{"timestamp": "2026-02-08T22:28:28.343195Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "81df390e-8a7c-4489-b00f-0e1bd85ab9aa", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "client": "127.0.0.1", "request_id": "81df390e-8a7c-4489-b00f-0e1bd85ab9aa", "service": "api"}}
{"timestamp": "2026-02-08T22:28:28.347698Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "81df390e-8a7c-4489-b00f-0e1bd85ab9aa", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "request_id": "81df390e-8a7c-4489-b00f-0e1bd85ab9aa", "service": "api"}}
{"timestamp": "2026-02-08T22:28:31.212132Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "280d3cc6-5a51-444d-966c-3b3f60b1e1d8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "280d3cc6-5a51-444d-966c-3b3f60b1e1d8", "service": "api"}}
{"timestamp": "2026-02-08T22:28:31.213134Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "893d12fc-f7b4-47d1-8da6-db0583b632a4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "893d12fc-f7b4-47d1-8da6-db0583b632a4", "service": "api"}}
{"timestamp": "2026-02-08T22:28:31.213134Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "280d3cc6-5a51-444d-966c-3b3f60b1e1d8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "280d3cc6-5a51-444d-966c-3b3f60b1e1d8", "service": "api"}}
{"timestamp": "2026-02-08T22:28:31.219026Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "893d12fc-f7b4-47d1-8da6-db0583b632a4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "893d12fc-f7b4-47d1-8da6-db0583b632a4", "service": "api"}}
{"timestamp": "2026-02-08T22:28:34.222999Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5d18b973-7780-40e7-823b-98aabc6c3a25", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "5d18b973-7780-40e7-823b-98aabc6c3a25", "service": "api"}}
{"timestamp": "2026-02-08T22:28:34.223997Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "02bc5174-176b-44ac-b79a-64e76dd517ea", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "02bc5174-176b-44ac-b79a-64e76dd517ea", "service": "api"}}
{"timestamp": "2026-02-08T22:28:34.229571Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5d18b973-7780-40e7-823b-98aabc6c3a25", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "5d18b973-7780-40e7-823b-98aabc6c3a25", "service": "api"}}
{"timestamp": "2026-02-08T22:28:34.229571Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "02bc5174-176b-44ac-b79a-64e76dd517ea", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "02bc5174-176b-44ac-b79a-64e76dd517ea", "service": "api"}}
{"timestamp": "2026-02-08T22:28:37.211565Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b02fb592-35ae-4f46-b842-3798242c76bf", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b02fb592-35ae-4f46-b842-3798242c76bf", "service": "api"}}
{"timestamp": "2026-02-08T22:28:37.212565Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "91e9fa6b-1d09-47f3-9b12-8caf8a2f30d6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "91e9fa6b-1d09-47f3-9b12-8caf8a2f30d6", "service": "api"}}
{"timestamp": "2026-02-08T22:28:37.212565Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b02fb592-35ae-4f46-b842-3798242c76bf", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b02fb592-35ae-4f46-b842-3798242c76bf", "service": "api"}}
{"timestamp": "2026-02-08T22:28:37.217079Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "91e9fa6b-1d09-47f3-9b12-8caf8a2f30d6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "91e9fa6b-1d09-47f3-9b12-8caf8a2f30d6", "service": "api"}}
{"timestamp": "2026-02-08T22:28:40.213346Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "65bb2565-6c36-4420-86bc-b40081e85ea3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "65bb2565-6c36-4420-86bc-b40081e85ea3", "service": "api"}}
{"timestamp": "2026-02-08T22:28:40.214346Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a38b20f5-0c1a-4ede-ab24-cbbd8a005289", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "a38b20f5-0c1a-4ede-ab24-cbbd8a005289", "service": "api"}}
{"timestamp": "2026-02-08T22:28:40.219246Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "65bb2565-6c36-4420-86bc-b40081e85ea3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "65bb2565-6c36-4420-86bc-b40081e85ea3", "service": "api"}}
{"timestamp": "2026-02-08T22:28:40.219751Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a38b20f5-0c1a-4ede-ab24-cbbd8a005289", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "a38b20f5-0c1a-4ede-ab24-cbbd8a005289", "service": "api"}}
{"timestamp": "2026-02-08T22:28:43.246154Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "86bffe21-44b5-4073-80d3-36b7a26bfb04", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "86bffe21-44b5-4073-80d3-36b7a26bfb04", "service": "api"}}
{"timestamp": "2026-02-08T22:28:43.247502Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d8810802-8010-43c8-b3c9-4a077c79dc6b", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "d8810802-8010-43c8-b3c9-4a077c79dc6b", "service": "api"}}
{"timestamp": "2026-02-08T22:28:43.247502Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "86bffe21-44b5-4073-80d3-36b7a26bfb04", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "86bffe21-44b5-4073-80d3-36b7a26bfb04", "service": "api"}}
{"timestamp": "2026-02-08T22:28:43.253321Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d8810802-8010-43c8-b3c9-4a077c79dc6b", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "d8810802-8010-43c8-b3c9-4a077c79dc6b", "service": "api"}}
{"timestamp": "2026-02-08T22:28:45.003446Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/6", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9d7090b3-2bcd-4997-b39a-c408e6512ca6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/6", "client": "127.0.0.1", "request_id": "9d7090b3-2bcd-4997-b39a-c408e6512ca6", "service": "api"}}
{"timestamp": "2026-02-08T22:28:45.008541Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9d7090b3-2bcd-4997-b39a-c408e6512ca6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/6", "request_id": "9d7090b3-2bcd-4997-b39a-c408e6512ca6", "service": "api"}}
{"timestamp": "2026-02-08T22:28:45.015539Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c353879f-f65f-42e2-bf26-5862bac643e0", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "client": "127.0.0.1", "request_id": "c353879f-f65f-42e2-bf26-5862bac643e0", "service": "api"}}
{"timestamp": "2026-02-08T22:28:45.017860Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c353879f-f65f-42e2-bf26-5862bac643e0", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "request_id": "c353879f-f65f-42e2-bf26-5862bac643e0", "service": "api"}}
{"timestamp": "2026-02-08T22:28:45.021678Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:28:45.021678Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "be0825bf-d0c7-4738-a0f6-3ac74151c765", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "client": "127.0.0.1", "request_id": "be0825bf-d0c7-4738-a0f6-3ac74151c765", "service": "api"}}
{"timestamp": "2026-02-08T22:28:45.026197Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "be0825bf-d0c7-4738-a0f6-3ac74151c765", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "request_id": "be0825bf-d0c7-4738-a0f6-3ac74151c765", "service": "api"}}
{"timestamp": "2026-02-08T22:28:45.342493Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c931eb3a-34c6-42b3-9cfe-229431c73366", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "client": "127.0.0.1", "request_id": "c931eb3a-34c6-42b3-9cfe-229431c73366", "service": "api"}}
{"timestamp": "2026-02-08T22:28:45.344825Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c931eb3a-34c6-42b3-9cfe-229431c73366", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "request_id": "c931eb3a-34c6-42b3-9cfe-229431c73366", "service": "api"}}
{"timestamp": "2026-02-08T22:28:45.347341Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:28:46.520528Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "48784156-3532-49b1-ad64-3438871cecfe", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "48784156-3532-49b1-ad64-3438871cecfe", "service": "api"}}
{"timestamp": "2026-02-08T22:28:46.521598Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "35682c05-d0b5-4b58-b619-f88948d625c4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "35682c05-d0b5-4b58-b619-f88948d625c4", "service": "api"}}
{"timestamp": "2026-02-08T22:28:46.527326Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "48784156-3532-49b1-ad64-3438871cecfe", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "48784156-3532-49b1-ad64-3438871cecfe", "service": "api"}}
{"timestamp": "2026-02-08T22:28:46.528365Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "35682c05-d0b5-4b58-b619-f88948d625c4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "35682c05-d0b5-4b58-b619-f88948d625c4", "service": "api"}}
{"timestamp": "2026-02-08T22:28:47.223002Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 8274 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "retry_attempt": 2, "retry_temperature": 0.7999999999999999, "previous_failure": "Refinement failed to stabilize code for 'Forward Mode and Dual Numbers' - max validation attempts exhausted", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "f922d5d9-f2a5-4231-8ec4-4be395d33dbf", "timestamp": "2026-02-08T22:28:47.222005Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u20132 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines t... [truncated, total: 8274 chars]", "prompt_length": 8274, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:28:47.225003Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b"}
{"timestamp": "2026-02-08T22:28:49.308396Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4287e25e-4c72-4045-85c0-bfb2cbe945ad", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "4287e25e-4c72-4045-85c0-bfb2cbe945ad", "service": "api"}}
{"timestamp": "2026-02-08T22:28:49.309444Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f9948a8b-39d4-40b6-a44f-1931acb130d5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "f9948a8b-39d4-40b6-a44f-1931acb130d5", "service": "api"}}
{"timestamp": "2026-02-08T22:28:49.313455Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4287e25e-4c72-4045-85c0-bfb2cbe945ad", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "4287e25e-4c72-4045-85c0-bfb2cbe945ad", "service": "api"}}
{"timestamp": "2026-02-08T22:28:49.313455Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f9948a8b-39d4-40b6-a44f-1931acb130d5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "f9948a8b-39d4-40b6-a44f-1931acb130d5", "service": "api"}}
{"timestamp": "2026-02-08T22:28:50.225197Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d18f7ed9-6f98-47b9-810b-12c63744e4af", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "client": "127.0.0.1", "request_id": "d18f7ed9-6f98-47b9-810b-12c63744e4af", "service": "api"}}
{"timestamp": "2026-02-08T22:28:50.227906Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d18f7ed9-6f98-47b9-810b-12c63744e4af", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "request_id": "d18f7ed9-6f98-47b9-810b-12c63744e4af", "service": "api"}}
{"timestamp": "2026-02-08T22:28:50.536501Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b685489d-4b47-4976-a848-71879dcb57c1", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "client": "127.0.0.1", "request_id": "b685489d-4b47-4976-a848-71879dcb57c1", "service": "api"}}
{"timestamp": "2026-02-08T22:28:50.537968Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b685489d-4b47-4976-a848-71879dcb57c1", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/sections/6/final_section.mp4", "request_id": "b685489d-4b47-4976-a848-71879dcb57c1", "service": "api"}}
{"timestamp": "2026-02-08T22:28:52.216310Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d1c03ffd-5062-4d31-93d0-6289759ec431", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "d1c03ffd-5062-4d31-93d0-6289759ec431", "service": "api"}}
{"timestamp": "2026-02-08T22:28:52.217314Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "889df751-c56e-49bf-ad18-84efee3d7384", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "889df751-c56e-49bf-ad18-84efee3d7384", "service": "api"}}
{"timestamp": "2026-02-08T22:28:52.221449Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d1c03ffd-5062-4d31-93d0-6289759ec431", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "d1c03ffd-5062-4d31-93d0-6289759ec431", "service": "api"}}
{"timestamp": "2026-02-08T22:28:52.222451Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "889df751-c56e-49bf-ad18-84efee3d7384", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "889df751-c56e-49bf-ad18-84efee3d7384", "service": "api"}}
{"timestamp": "2026-02-08T22:28:54.275266Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 98.08s | Length: 1016 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "retry_attempt": 2, "retry_temperature": 0.7999999999999999, "previous_failure": "Refinement failed to stabilize code for 'Forward Mode and Dual Numbers' - max validation attempts exhausted", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "3b21cf4f-cbdb-48a4-b8ff-7ecdc3cbc2d7", "timestamp": "2026-02-08T22:28:54.275266Z", "response_text": "{\"analysis\": \"Fixed runtime error by creating Text manually instead of using Brace.get_text, which incorrectly passes font_size to next_to. Repositioned exact_deriv to prevent screen clipping.\", \"edits\": [{\"search_text\": \"        pert_brace = Brace(mult_formula[1], DOWN, color=teal_accent)\\n        pert_brace_text = pert_brace.get_text(\\\"Product Rule\\\", font_size=28).set_color(teal_accent)\\n      ... [truncated, total: 1016 chars]", "duration_seconds": 98.084, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:28:55.211959Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8a396a80-fde4-4710-960d-4f5e73d07213", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8a396a80-fde4-4710-960d-4f5e73d07213", "service": "api"}}
{"timestamp": "2026-02-08T22:28:55.213007Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fde4cba4-4f8f-42ae-b3d9-5737bb30fd95", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "fde4cba4-4f8f-42ae-b3d9-5737bb30fd95", "service": "api"}}
{"timestamp": "2026-02-08T22:28:55.217175Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8a396a80-fde4-4710-960d-4f5e73d07213", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8a396a80-fde4-4710-960d-4f5e73d07213", "service": "api"}}
{"timestamp": "2026-02-08T22:28:55.217687Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fde4cba4-4f8f-42ae-b3d9-5737bb30fd95", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "fde4cba4-4f8f-42ae-b3d9-5737bb30fd95", "service": "api"}}
{"timestamp": "2026-02-08T22:28:58.210146Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0938c4cc-735b-4e9c-a16a-dd33954adce0", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "0938c4cc-735b-4e9c-a16a-dd33954adce0", "service": "api"}}
{"timestamp": "2026-02-08T22:28:58.211148Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5dfe2c93-9726-42b4-b1f0-6d90c016e3bf", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5dfe2c93-9726-42b4-b1f0-6d90c016e3bf", "service": "api"}}
{"timestamp": "2026-02-08T22:28:58.216648Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0938c4cc-735b-4e9c-a16a-dd33954adce0", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "0938c4cc-735b-4e9c-a16a-dd33954adce0", "service": "api"}}
{"timestamp": "2026-02-08T22:28:58.217654Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5dfe2c93-9726-42b4-b1f0-6d90c016e3bf", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5dfe2c93-9726-42b4-b1f0-6d90c016e3bf", "service": "api"}}
{"timestamp": "2026-02-08T22:29:01.209953Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8f0b2ff1-dc5b-43aa-98c1-ee541a6de7f6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8f0b2ff1-dc5b-43aa-98c1-ee541a6de7f6", "service": "api"}}
{"timestamp": "2026-02-08T22:29:01.210952Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "332ed7d6-cdf0-4807-9e70-1e289fbfae30", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "332ed7d6-cdf0-4807-9e70-1e289fbfae30", "service": "api"}}
{"timestamp": "2026-02-08T22:29:01.216951Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8f0b2ff1-dc5b-43aa-98c1-ee541a6de7f6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8f0b2ff1-dc5b-43aa-98c1-ee541a6de7f6", "service": "api"}}
{"timestamp": "2026-02-08T22:29:01.217455Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "332ed7d6-cdf0-4807-9e70-1e289fbfae30", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "332ed7d6-cdf0-4807-9e70-1e289fbfae30", "service": "api"}}
{"timestamp": "2026-02-08T22:29:04.208915Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7abac801-5768-46ee-bbad-89d156c45ed4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "7abac801-5768-46ee-bbad-89d156c45ed4", "service": "api"}}
{"timestamp": "2026-02-08T22:29:04.209913Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "789e7d19-aaaa-412f-8d1c-79f4f8677e6c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "789e7d19-aaaa-412f-8d1c-79f4f8677e6c", "service": "api"}}
{"timestamp": "2026-02-08T22:29:04.216914Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7abac801-5768-46ee-bbad-89d156c45ed4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "7abac801-5768-46ee-bbad-89d156c45ed4", "service": "api"}}
{"timestamp": "2026-02-08T22:29:04.218633Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "789e7d19-aaaa-412f-8d1c-79f4f8677e6c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "789e7d19-aaaa-412f-8d1c-79f4f8677e6c", "service": "api"}}
{"timestamp": "2026-02-08T22:29:07.211558Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bfca9f8f-93a9-4d60-ac89-f14ee67cb95f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "bfca9f8f-93a9-4d60-ac89-f14ee67cb95f", "service": "api"}}
{"timestamp": "2026-02-08T22:29:07.212555Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "267b0dd0-be2a-4e4e-aac1-3f7125846e8d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "267b0dd0-be2a-4e4e-aac1-3f7125846e8d", "service": "api"}}
{"timestamp": "2026-02-08T22:29:07.219619Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bfca9f8f-93a9-4d60-ac89-f14ee67cb95f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "bfca9f8f-93a9-4d60-ac89-f14ee67cb95f", "service": "api"}}
{"timestamp": "2026-02-08T22:29:07.220614Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "267b0dd0-be2a-4e4e-aac1-3f7125846e8d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "267b0dd0-be2a-4e4e-aac1-3f7125846e8d", "service": "api"}}
{"timestamp": "2026-02-08T22:29:10.210700Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "97720c58-f3b4-4944-99de-b40aa283f046", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "97720c58-f3b4-4944-99de-b40aa283f046", "service": "api"}}
{"timestamp": "2026-02-08T22:29:10.211700Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2a707935-0f50-43a5-a87c-f681bcca5019", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "2a707935-0f50-43a5-a87c-f681bcca5019", "service": "api"}}
{"timestamp": "2026-02-08T22:29:10.218742Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "97720c58-f3b4-4944-99de-b40aa283f046", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "97720c58-f3b4-4944-99de-b40aa283f046", "service": "api"}}
{"timestamp": "2026-02-08T22:29:10.219741Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2a707935-0f50-43a5-a87c-f681bcca5019", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "2a707935-0f50-43a5-a87c-f681bcca5019", "service": "api"}}
{"timestamp": "2026-02-08T22:29:11.060461Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e1f336fd-26f8-4a1e-961d-ec716a536be6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "client": "127.0.0.1", "request_id": "e1f336fd-26f8-4a1e-961d-ec716a536be6", "service": "api"}}
{"timestamp": "2026-02-08T22:29:11.065972Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e1f336fd-26f8-4a1e-961d-ec716a536be6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/section/2", "request_id": "e1f336fd-26f8-4a1e-961d-ec716a536be6", "service": "api"}}
{"timestamp": "2026-02-08T22:29:13.217260Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "858b5348-abb9-4156-8366-7d5e44797db8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "858b5348-abb9-4156-8366-7d5e44797db8", "service": "api"}}
{"timestamp": "2026-02-08T22:29:13.217776Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "94ceb0da-a6ec-48f0-844f-50107d8985d0", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "94ceb0da-a6ec-48f0-844f-50107d8985d0", "service": "api"}}
{"timestamp": "2026-02-08T22:29:13.218782Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "858b5348-abb9-4156-8366-7d5e44797db8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "858b5348-abb9-4156-8366-7d5e44797db8", "service": "api"}}
{"timestamp": "2026-02-08T22:29:13.223780Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "94ceb0da-a6ec-48f0-844f-50107d8985d0", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "94ceb0da-a6ec-48f0-844f-50107d8985d0", "service": "api"}}
{"timestamp": "2026-02-08T22:29:16.209983Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8e2ab85e-645f-4c97-a7f4-6b4f5d5fda2d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8e2ab85e-645f-4c97-a7f4-6b4f5d5fda2d", "service": "api"}}
{"timestamp": "2026-02-08T22:29:16.210984Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "12fd506c-a295-471b-9c8a-ff046b073e06", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "12fd506c-a295-471b-9c8a-ff046b073e06", "service": "api"}}
{"timestamp": "2026-02-08T22:29:16.210984Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8e2ab85e-645f-4c97-a7f4-6b4f5d5fda2d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8e2ab85e-645f-4c97-a7f4-6b4f5d5fda2d", "service": "api"}}
{"timestamp": "2026-02-08T22:29:16.215985Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "12fd506c-a295-471b-9c8a-ff046b073e06", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "12fd506c-a295-471b-9c8a-ff046b073e06", "service": "api"}}
{"timestamp": "2026-02-08T22:29:19.213488Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b66013a3-0adb-401d-a72d-b9a87f37e919", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b66013a3-0adb-401d-a72d-b9a87f37e919", "service": "api"}}
{"timestamp": "2026-02-08T22:29:19.214486Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5869c9b4-1912-4084-a093-3335ff8a5524", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5869c9b4-1912-4084-a093-3335ff8a5524", "service": "api"}}
{"timestamp": "2026-02-08T22:29:19.218702Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b66013a3-0adb-401d-a72d-b9a87f37e919", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b66013a3-0adb-401d-a72d-b9a87f37e919", "service": "api"}}
{"timestamp": "2026-02-08T22:29:19.219723Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5869c9b4-1912-4084-a093-3335ff8a5524", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5869c9b4-1912-4084-a093-3335ff8a5524", "service": "api"}}
{"timestamp": "2026-02-08T22:29:22.216367Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2a0aef5b-b762-4c27-99a0-e708b771cb2a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "2a0aef5b-b762-4c27-99a0-e708b771cb2a", "service": "api"}}
{"timestamp": "2026-02-08T22:29:22.216367Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "308fb96a-c6e7-4e1f-8dae-6bf4337a7416", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "308fb96a-c6e7-4e1f-8dae-6bf4337a7416", "service": "api"}}
{"timestamp": "2026-02-08T22:29:22.217367Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2a0aef5b-b762-4c27-99a0-e708b771cb2a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "2a0aef5b-b762-4c27-99a0-e708b771cb2a", "service": "api"}}
{"timestamp": "2026-02-08T22:29:22.221878Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "308fb96a-c6e7-4e1f-8dae-6bf4337a7416", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "308fb96a-c6e7-4e1f-8dae-6bf4337a7416", "service": "api"}}
{"timestamp": "2026-02-08T22:29:25.219345Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e15c2fed-66b2-44d4-a111-03fe27db7241", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "e15c2fed-66b2-44d4-a111-03fe27db7241", "service": "api"}}
{"timestamp": "2026-02-08T22:29:25.220352Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4628784f-51c1-438f-ba17-31265dca4cd2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "4628784f-51c1-438f-ba17-31265dca4cd2", "service": "api"}}
{"timestamp": "2026-02-08T22:29:25.224350Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e15c2fed-66b2-44d4-a111-03fe27db7241", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "e15c2fed-66b2-44d4-a111-03fe27db7241", "service": "api"}}
{"timestamp": "2026-02-08T22:29:25.225352Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4628784f-51c1-438f-ba17-31265dca4cd2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "4628784f-51c1-438f-ba17-31265dca4cd2", "service": "api"}}
{"timestamp": "2026-02-08T22:29:28.210490Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "cec0c4d8-63d4-4772-a14c-fab9d107366c", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "cec0c4d8-63d4-4772-a14c-fab9d107366c", "service": "api"}}
{"timestamp": "2026-02-08T22:29:28.210490Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "73f7b181-c736-4e25-9683-b95fd8f646ac", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "73f7b181-c736-4e25-9683-b95fd8f646ac", "service": "api"}}
{"timestamp": "2026-02-08T22:29:28.215488Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "cec0c4d8-63d4-4772-a14c-fab9d107366c", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "cec0c4d8-63d4-4772-a14c-fab9d107366c", "service": "api"}}
{"timestamp": "2026-02-08T22:29:28.216488Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "73f7b181-c736-4e25-9683-b95fd8f646ac", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "73f7b181-c736-4e25-9683-b95fd8f646ac", "service": "api"}}
{"timestamp": "2026-02-08T22:29:31.219341Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "da5146cb-148e-4330-8c5a-d5c0f22d33b3", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "da5146cb-148e-4330-8c5a-d5c0f22d33b3", "service": "api"}}
{"timestamp": "2026-02-08T22:29:31.220802Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "310b9882-225c-428b-890d-47c7f8afc40f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "310b9882-225c-428b-890d-47c7f8afc40f", "service": "api"}}
{"timestamp": "2026-02-08T22:29:31.225292Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "da5146cb-148e-4330-8c5a-d5c0f22d33b3", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "da5146cb-148e-4330-8c5a-d5c0f22d33b3", "service": "api"}}
{"timestamp": "2026-02-08T22:29:31.225292Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "310b9882-225c-428b-890d-47c7f8afc40f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "310b9882-225c-428b-890d-47c7f8afc40f", "service": "api"}}
{"timestamp": "2026-02-08T22:29:34.214342Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1f5c1313-9e35-47ff-824c-a767ed8ea137", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "1f5c1313-9e35-47ff-824c-a767ed8ea137", "service": "api"}}
{"timestamp": "2026-02-08T22:29:34.215341Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f13f76c5-8020-4dbd-ab38-aefed96add65", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "f13f76c5-8020-4dbd-ab38-aefed96add65", "service": "api"}}
{"timestamp": "2026-02-08T22:29:34.219081Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1f5c1313-9e35-47ff-824c-a767ed8ea137", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "1f5c1313-9e35-47ff-824c-a767ed8ea137", "service": "api"}}
{"timestamp": "2026-02-08T22:29:34.220585Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f13f76c5-8020-4dbd-ab38-aefed96add65", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "f13f76c5-8020-4dbd-ab38-aefed96add65", "service": "api"}}
{"timestamp": "2026-02-08T22:29:37.216390Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8f660ed7-9a44-4e4d-bc96-50d721542670", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8f660ed7-9a44-4e4d-bc96-50d721542670", "service": "api"}}
{"timestamp": "2026-02-08T22:29:37.217895Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "00246ed1-d9f5-4882-8b55-9d3c76c466e2", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "00246ed1-d9f5-4882-8b55-9d3c76c466e2", "service": "api"}}
{"timestamp": "2026-02-08T22:29:37.218411Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8f660ed7-9a44-4e4d-bc96-50d721542670", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8f660ed7-9a44-4e4d-bc96-50d721542670", "service": "api"}}
{"timestamp": "2026-02-08T22:29:37.222510Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "00246ed1-d9f5-4882-8b55-9d3c76c466e2", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "00246ed1-d9f5-4882-8b55-9d3c76c466e2", "service": "api"}}
{"timestamp": "2026-02-08T22:29:40.209251Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "43686d16-d018-4e58-ac2d-4015e3a434f5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "43686d16-d018-4e58-ac2d-4015e3a434f5", "service": "api"}}
{"timestamp": "2026-02-08T22:29:40.210496Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3f1dc40f-67a3-4b47-af42-be30ebd48545", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "3f1dc40f-67a3-4b47-af42-be30ebd48545", "service": "api"}}
{"timestamp": "2026-02-08T22:29:40.210496Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "43686d16-d018-4e58-ac2d-4015e3a434f5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "43686d16-d018-4e58-ac2d-4015e3a434f5", "service": "api"}}
{"timestamp": "2026-02-08T22:29:40.215647Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3f1dc40f-67a3-4b47-af42-be30ebd48545", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "3f1dc40f-67a3-4b47-af42-be30ebd48545", "service": "api"}}
{"timestamp": "2026-02-08T22:29:43.250988Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8eb0f6cf-0a8c-4fc3-879c-d34de3c5fe7a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "8eb0f6cf-0a8c-4fc3-879c-d34de3c5fe7a", "service": "api"}}
{"timestamp": "2026-02-08T22:29:43.250988Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5e407f2c-e969-4778-8994-230026e7bbf8", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "5e407f2c-e969-4778-8994-230026e7bbf8", "service": "api"}}
{"timestamp": "2026-02-08T22:29:43.254992Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8eb0f6cf-0a8c-4fc3-879c-d34de3c5fe7a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "8eb0f6cf-0a8c-4fc3-879c-d34de3c5fe7a", "service": "api"}}
{"timestamp": "2026-02-08T22:29:43.255995Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5e407f2c-e969-4778-8994-230026e7bbf8", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "5e407f2c-e969-4778-8994-230026e7bbf8", "service": "api"}}
{"timestamp": "2026-02-08T22:29:46.237873Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "73db4ce2-7bdf-450b-bdf2-9b74ab00bf80", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "73db4ce2-7bdf-450b-bdf2-9b74ab00bf80", "service": "api"}}
{"timestamp": "2026-02-08T22:29:46.239385Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b3e0f818-3565-4daa-bd7d-fcdb8f3dbda1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "b3e0f818-3565-4daa-bd7d-fcdb8f3dbda1", "service": "api"}}
{"timestamp": "2026-02-08T22:29:46.243606Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "73db4ce2-7bdf-450b-bdf2-9b74ab00bf80", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "73db4ce2-7bdf-450b-bdf2-9b74ab00bf80", "service": "api"}}
{"timestamp": "2026-02-08T22:29:46.243606Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b3e0f818-3565-4daa-bd7d-fcdb8f3dbda1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "b3e0f818-3565-4daa-bd7d-fcdb8f3dbda1", "service": "api"}}
{"timestamp": "2026-02-08T22:29:49.249872Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b02f2afd-8c5a-4aec-9d20-4b3aa092c02d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b02f2afd-8c5a-4aec-9d20-4b3aa092c02d", "service": "api"}}
{"timestamp": "2026-02-08T22:29:49.249872Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d34fbafa-a459-4093-88c2-a75a9c3781e5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "d34fbafa-a459-4093-88c2-a75a9c3781e5", "service": "api"}}
{"timestamp": "2026-02-08T22:29:49.256258Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b02f2afd-8c5a-4aec-9d20-4b3aa092c02d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b02f2afd-8c5a-4aec-9d20-4b3aa092c02d", "service": "api"}}
{"timestamp": "2026-02-08T22:29:49.256258Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d34fbafa-a459-4093-88c2-a75a9c3781e5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "d34fbafa-a459-4093-88c2-a75a9c3781e5", "service": "api"}}
{"timestamp": "2026-02-08T22:29:50.103991Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 62.88s | Length: 1035 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "retry_attempt": 2, "retry_temperature": 0.7999999999999999, "previous_failure": "Refinement failed to stabilize code for 'Forward Mode and Dual Numbers' - max validation attempts exhausted", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "f922d5d9-f2a5-4231-8ec4-4be395d33dbf", "timestamp": "2026-02-08T22:29:50.103991Z", "response_text": "{\n  \"analysis\": \"Fixed TypeError by creating Text manually instead of using Brace.get_text, which incorrectly passes font_size to next_to. Repositioned exact_deriv to prevent out-of-bounds clipping.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        pert_brace = Brace(mult_formula[1], DOWN, color=teal_accent)\\n        pert_brace_text = pert_brace.get_text(\\\"Product Rule\\\", font_size=28).set_color(... [truncated, total: 1035 chars]", "duration_seconds": 62.882, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:29:50.104990Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 1 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:29:50.104990Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:29:50.106410Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 1 successful, 0 failed (out of 1 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"successful_edits": 1, "failed_edits": 0, "total_edits": 1, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:29:50.106410Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 4437 -> 4443)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:29:50.106410Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Forward Mode and Dual Numbers' (Turn 1)", "module": "refiner", "function": "refine", "line": 219, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_title": "Forward Mode and Dual Numbers", "turn": 1, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:29:50.133200Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 2)", "module": "refiner", "function": "refine", "line": 158, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:29:52.238181Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d2f995f3-5fe2-4ed7-bc97-ccb140fbc75f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "d2f995f3-5fe2-4ed7-bc97-ccb140fbc75f", "service": "api"}}
{"timestamp": "2026-02-08T22:29:52.239234Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c251a52f-fdbc-49a8-899b-f0dcb916cedd", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "c251a52f-fdbc-49a8-899b-f0dcb916cedd", "service": "api"}}
{"timestamp": "2026-02-08T22:29:52.239844Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d2f995f3-5fe2-4ed7-bc97-ccb140fbc75f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "d2f995f3-5fe2-4ed7-bc97-ccb140fbc75f", "service": "api"}}
{"timestamp": "2026-02-08T22:29:52.244354Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c251a52f-fdbc-49a8-899b-f0dcb916cedd", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "c251a52f-fdbc-49a8-899b-f0dcb916cedd", "service": "api"}}
{"timestamp": "2026-02-08T22:29:55.252303Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7d282cb5-14f2-45b4-94b3-320f061acbb6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "7d282cb5-14f2-45b4-94b3-320f061acbb6", "service": "api"}}
{"timestamp": "2026-02-08T22:29:55.253303Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "113e6718-dfdc-43bd-b50e-b2a7edeeeffe", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "113e6718-dfdc-43bd-b50e-b2a7edeeeffe", "service": "api"}}
{"timestamp": "2026-02-08T22:29:55.256543Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7d282cb5-14f2-45b4-94b3-320f061acbb6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "7d282cb5-14f2-45b4-94b3-320f061acbb6", "service": "api"}}
{"timestamp": "2026-02-08T22:29:55.258049Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "113e6718-dfdc-43bd-b50e-b2a7edeeeffe", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "113e6718-dfdc-43bd-b50e-b2a7edeeeffe", "service": "api"}}
{"timestamp": "2026-02-08T22:29:58.250027Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fd9b91d6-8db0-4bae-8aee-70345c64798f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "fd9b91d6-8db0-4bae-8aee-70345c64798f", "service": "api"}}
{"timestamp": "2026-02-08T22:29:58.251031Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "285d3d84-7324-4f14-80e2-138233816ef6", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "285d3d84-7324-4f14-80e2-138233816ef6", "service": "api"}}
{"timestamp": "2026-02-08T22:29:58.255032Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fd9b91d6-8db0-4bae-8aee-70345c64798f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "fd9b91d6-8db0-4bae-8aee-70345c64798f", "service": "api"}}
{"timestamp": "2026-02-08T22:29:58.256031Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "285d3d84-7324-4f14-80e2-138233816ef6", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "285d3d84-7324-4f14-80e2-138233816ef6", "service": "api"}}
{"timestamp": "2026-02-08T22:30:01.241135Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e6fe7317-14ab-491e-a8e9-677d1c62b11e", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "e6fe7317-14ab-491e-a8e9-677d1c62b11e", "service": "api"}}
{"timestamp": "2026-02-08T22:30:01.243134Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4a4434a1-6cb2-4e6f-8932-18cf84aef8f1", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "4a4434a1-6cb2-4e6f-8932-18cf84aef8f1", "service": "api"}}
{"timestamp": "2026-02-08T22:30:01.248133Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e6fe7317-14ab-491e-a8e9-677d1c62b11e", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "e6fe7317-14ab-491e-a8e9-677d1c62b11e", "service": "api"}}
{"timestamp": "2026-02-08T22:30:01.248639Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4a4434a1-6cb2-4e6f-8932-18cf84aef8f1", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "4a4434a1-6cb2-4e6f-8932-18cf84aef8f1", "service": "api"}}
{"timestamp": "2026-02-08T22:30:02.959759Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Forward Mode and Dual Numbers' (Turn 2)", "module": "refiner", "function": "refine", "line": 191, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"attempts": 2, "static_failures": 0, "runtime_failures": 1, "deterministic_fixes": 0, "llm_fixes": 1, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:30:02.960768Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionForwardMode", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:30:02.961764Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\2\\scene_2.py (4686 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:30:02.962767Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 2 Scene: SectionForwardMode", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:30:04.246149Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5e7cb8a4-fa20-4d9e-b659-0889feba5f41", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "5e7cb8a4-fa20-4d9e-b659-0889feba5f41", "service": "api"}}
{"timestamp": "2026-02-08T22:30:04.246149Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "de04e687-196b-416f-983d-7d563002799f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "de04e687-196b-416f-983d-7d563002799f", "service": "api"}}
{"timestamp": "2026-02-08T22:30:04.247526Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5e7cb8a4-fa20-4d9e-b659-0889feba5f41", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "5e7cb8a4-fa20-4d9e-b659-0889feba5f41", "service": "api"}}
{"timestamp": "2026-02-08T22:30:04.253812Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "de04e687-196b-416f-983d-7d563002799f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "de04e687-196b-416f-983d-7d563002799f", "service": "api"}}
{"timestamp": "2026-02-08T22:30:07.249293Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6508ae7b-5fe7-4be2-9e93-47d4225401d5", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "6508ae7b-5fe7-4be2-9e93-47d4225401d5", "service": "api"}}
{"timestamp": "2026-02-08T22:30:07.250299Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e45cb764-08ed-43ce-980c-7d677d83c47d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e45cb764-08ed-43ce-980c-7d677d83c47d", "service": "api"}}
{"timestamp": "2026-02-08T22:30:07.250299Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6508ae7b-5fe7-4be2-9e93-47d4225401d5", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "6508ae7b-5fe7-4be2-9e93-47d4225401d5", "service": "api"}}
{"timestamp": "2026-02-08T22:30:07.255303Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e45cb764-08ed-43ce-980c-7d677d83c47d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e45cb764-08ed-43ce-980c-7d677d83c47d", "service": "api"}}
{"timestamp": "2026-02-08T22:30:10.250166Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6ff00711-459e-4bf0-971d-bffeaf5a6a58", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "6ff00711-459e-4bf0-971d-bffeaf5a6a58", "service": "api"}}
{"timestamp": "2026-02-08T22:30:10.250674Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aa2087fe-4fdf-4b60-a54a-093ee9adbb77", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "aa2087fe-4fdf-4b60-a54a-093ee9adbb77", "service": "api"}}
{"timestamp": "2026-02-08T22:30:10.251678Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6ff00711-459e-4bf0-971d-bffeaf5a6a58", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "6ff00711-459e-4bf0-971d-bffeaf5a6a58", "service": "api"}}
{"timestamp": "2026-02-08T22:30:10.256690Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aa2087fe-4fdf-4b60-a54a-093ee9adbb77", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "aa2087fe-4fdf-4b60-a54a-093ee9adbb77", "service": "api"}}
{"timestamp": "2026-02-08T22:30:13.249356Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b1f3fe62-c51f-4ed7-8e94-67aaf941686a", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b1f3fe62-c51f-4ed7-8e94-67aaf941686a", "service": "api"}}
{"timestamp": "2026-02-08T22:30:13.249356Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "78b757a5-7f4c-47ef-ae10-d5fa83ddbdf4", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "78b757a5-7f4c-47ef-ae10-d5fa83ddbdf4", "service": "api"}}
{"timestamp": "2026-02-08T22:30:13.250360Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b1f3fe62-c51f-4ed7-8e94-67aaf941686a", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b1f3fe62-c51f-4ed7-8e94-67aaf941686a", "service": "api"}}
{"timestamp": "2026-02-08T22:30:13.255365Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "78b757a5-7f4c-47ef-ae10-d5fa83ddbdf4", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "78b757a5-7f4c-47ef-ae10-d5fa83ddbdf4", "service": "api"}}
{"timestamp": "2026-02-08T22:30:16.252949Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e96b5a84-d67e-4ac1-b26a-e05f8c37b35f", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "e96b5a84-d67e-4ac1-b26a-e05f8c37b35f", "service": "api"}}
{"timestamp": "2026-02-08T22:30:16.252949Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7c301cd3-e947-49c0-a20d-b037558a1830", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "7c301cd3-e947-49c0-a20d-b037558a1830", "service": "api"}}
{"timestamp": "2026-02-08T22:30:16.257409Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e96b5a84-d67e-4ac1-b26a-e05f8c37b35f", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "e96b5a84-d67e-4ac1-b26a-e05f8c37b35f", "service": "api"}}
{"timestamp": "2026-02-08T22:30:16.258918Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7c301cd3-e947-49c0-a20d-b037558a1830", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "7c301cd3-e947-49c0-a20d-b037558a1830", "service": "api"}}
{"timestamp": "2026-02-08T22:30:16.415927Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections\\2\\videos\\scene_2\\480p15\\section_2.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:30:16.545961Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Merging video (41.7s) with audio (42.0s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:30:17.274074Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:30:17.276080Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 7/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "sections", "progress": 100, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:30:17.277080Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 3/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_index": 2, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:30:17.277080Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] All sections processed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "sections", "progress": 100, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:30:17.277080Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Section processing complete", "module": "orchestrator", "function": "process_sections_parallel", "line": 185, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"total_sections": 7, "successful": 7, "failed": 0, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:30:17.277080Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Completed: process_sections_parallel (7 sections)", "module": "logging", "function": "__exit__", "line": 345, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"duration_seconds": 533.5130970478058, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:30:17.277080Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Aggregated section results", "module": "orchestrator", "function": "aggregate_results", "line": 442, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"video_count": 7, "audio_count": 7, "chapter_count": 7, "total_duration": 289.272, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:30:17.279594Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Saved updated script with section metadata", "module": "video_generator", "function": "generate_video", "line": 289, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_count": 7, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:30:17.281074Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[combining] Combining sections...", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "combining", "progress": 0, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:30:17.281074Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Starting: combine_sections (7 sections)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_processor"}}
{"timestamp": "2026-02-08T22:30:17.281074Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Combining sections with FFmpeg helpers", "module": "processor", "function": "combine_sections", "line": 73, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"section_count": 7, "output_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\final_video.mp4", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_processor"}}
{"timestamp": "2026-02-08T22:30:19.241153Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b922dbae-e691-4d64-b98e-4ae7a371e005", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "b922dbae-e691-4d64-b98e-4ae7a371e005", "service": "api"}}
{"timestamp": "2026-02-08T22:30:19.242153Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e216ae4c-8616-4ff5-ab24-c5ec20a41413", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "e216ae4c-8616-4ff5-ab24-c5ec20a41413", "service": "api"}}
{"timestamp": "2026-02-08T22:30:19.251585Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b922dbae-e691-4d64-b98e-4ae7a371e005", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "b922dbae-e691-4d64-b98e-4ae7a371e005", "service": "api"}}
{"timestamp": "2026-02-08T22:30:19.252904Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e216ae4c-8616-4ff5-ab24-c5ec20a41413", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "e216ae4c-8616-4ff5-ab24-c5ec20a41413", "service": "api"}}
{"timestamp": "2026-02-08T22:30:22.241576Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2f2f1d99-b640-4c95-8947-bb2b75d58e65", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "2f2f1d99-b640-4c95-8947-bb2b75d58e65", "service": "api"}}
{"timestamp": "2026-02-08T22:30:22.242704Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9c6724a7-7c25-4edd-8a2b-607fc3cd2864", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "9c6724a7-7c25-4edd-8a2b-607fc3cd2864", "service": "api"}}
{"timestamp": "2026-02-08T22:30:22.249788Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2f2f1d99-b640-4c95-8947-bb2b75d58e65", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "2f2f1d99-b640-4c95-8947-bb2b75d58e65", "service": "api"}}
{"timestamp": "2026-02-08T22:30:22.251023Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9c6724a7-7c25-4edd-8a2b-607fc3cd2864", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "9c6724a7-7c25-4edd-8a2b-607fc3cd2864", "service": "api"}}
{"timestamp": "2026-02-08T22:30:22.887375Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Completed: combine_sections (7 sections)", "module": "logging", "function": "__exit__", "line": 345, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"duration_seconds": 5.6063010692596436, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_processor"}}
{"timestamp": "2026-02-08T22:30:22.888875Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[combining] Video complete!", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"stage": "combining", "progress": 100, "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:30:22.889880Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Cleaning up intermediate files", "module": "video_generator", "function": "_cleanup_intermediate_files", "line": 431, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"sections_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\sections", "job_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:30:23.048067Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Cleanup complete", "module": "video_generator", "function": "_cleanup_intermediate_files", "line": 452, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"files_removed": 3, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:30:23.048067Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Video generation completed successfully", "module": "video_generator", "function": "generate_video", "line": 326, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "video_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\ce990073-7717-4977-9df5-9ed84f218d4b\\final_video.mp4", "section_count": 7, "total_duration": 289.272, "total_cost": 0.1987, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:30:23.048067Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Completed: generate_video (job: ce990073)", "module": "logging", "function": "__exit__", "line": 345, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "extra": {"duration_seconds": 603.868292093277, "request_id": "c834954c-17d5-4c18-b985-9a9261888546", "job_id": "ce990073-7717-4977-9df5-9ed84f218d4b", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:30:25.210742Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aadf2f29-76ef-40fe-848f-5b1f3ca28123", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "client": "127.0.0.1", "request_id": "aadf2f29-76ef-40fe-848f-5b1f3ca28123", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.217752Z", "level": "INFO", "logger": "app.main", "message": "GET /job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "642817ea-3fd4-4a3e-82d0-e6614319764d", "extra": {"method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "client": "127.0.0.1", "request_id": "642817ea-3fd4-4a3e-82d0-e6614319764d", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.217752Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aadf2f29-76ef-40fe-848f-5b1f3ca28123", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b", "request_id": "aadf2f29-76ef-40fe-848f-5b1f3ca28123", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.219257Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "642817ea-3fd4-4a3e-82d0-e6614319764d", "extra": {"status_code": 200, "method": "GET", "path": "/job/ce990073-7717-4977-9df5-9ed84f218d4b/details", "request_id": "642817ea-3fd4-4a3e-82d0-e6614319764d", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.229960Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a16a17e2-3510-4102-81de-f008c3cff31e", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "client": "127.0.0.1", "request_id": "a16a17e2-3510-4102-81de-f008c3cff31e", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.230653Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a16a17e2-3510-4102-81de-f008c3cff31e", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "request_id": "a16a17e2-3510-4102-81de-f008c3cff31e", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.235234Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:30:25.236235Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "32208681-b90e-4f52-bb09-f8bea63f0f68", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "client": "127.0.0.1", "request_id": "32208681-b90e-4f52-bb09-f8bea63f0f68", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.239745Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "32208681-b90e-4f52-bb09-f8bea63f0f68", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "request_id": "32208681-b90e-4f52-bb09-f8bea63f0f68", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.252294Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "591b0120-83f8-4a97-b10a-4313236a0722", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "client": "127.0.0.1", "request_id": "591b0120-83f8-4a97-b10a-4313236a0722", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.255304Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "591b0120-83f8-4a97-b10a-4313236a0722", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "request_id": "591b0120-83f8-4a97-b10a-4313236a0722", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.564460Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3dc82b1f-bb42-466a-8a05-4efb5ba5ea33", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "client": "127.0.0.1", "request_id": "3dc82b1f-bb42-466a-8a05-4efb5ba5ea33", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.565460Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3dc82b1f-bb42-466a-8a05-4efb5ba5ea33", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "request_id": "3dc82b1f-bb42-466a-8a05-4efb5ba5ea33", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.593772Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3152579d-fdd6-43a4-9aeb-8e7071241949", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "client": "127.0.0.1", "request_id": "3152579d-fdd6-43a4-9aeb-8e7071241949", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.596236Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3152579d-fdd6-43a4-9aeb-8e7071241949", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "request_id": "3152579d-fdd6-43a4-9aeb-8e7071241949", "service": "api"}}
{"timestamp": "2026-02-08T22:30:25.599739Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:31:15.390283Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1a3c0c62-a331-4542-a842-b594302bf1a8", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "client": "127.0.0.1", "request_id": "1a3c0c62-a331-4542-a842-b594302bf1a8", "service": "api"}}
{"timestamp": "2026-02-08T22:31:15.391791Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1a3c0c62-a331-4542-a842-b594302bf1a8", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "request_id": "1a3c0c62-a331-4542-a842-b594302bf1a8", "service": "api"}}
{"timestamp": "2026-02-08T22:31:15.702345Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "915062d1-cde6-4ae1-b418-460813d81e55", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "client": "127.0.0.1", "request_id": "915062d1-cde6-4ae1-b418-460813d81e55", "service": "api"}}
{"timestamp": "2026-02-08T22:31:15.703338Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "915062d1-cde6-4ae1-b418-460813d81e55", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "request_id": "915062d1-cde6-4ae1-b418-460813d81e55", "service": "api"}}
{"timestamp": "2026-02-08T22:31:58.075944Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "27ada921-c2c6-42af-92e0-f80a9f729ab9", "extra": {"method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "client": "127.0.0.1", "request_id": "27ada921-c2c6-42af-92e0-f80a9f729ab9", "service": "api"}}
{"timestamp": "2026-02-08T22:31:58.078934Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "27ada921-c2c6-42af-92e0-f80a9f729ab9", "extra": {"status_code": 200, "method": "GET", "path": "/outputs/ce990073-7717-4977-9df5-9ed84f218d4b/final_video.mp4", "request_id": "27ada921-c2c6-42af-92e0-f80a9f729ab9", "service": "api"}}
{"timestamp": "2026-02-08T22:33:36.252313Z", "level": "INFO", "logger": "app.main", "message": "POST /upload", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "442fc683-465f-4e51-a83e-a78edf5768cb", "extra": {"method": "POST", "path": "/upload", "client": "127.0.0.1", "request_id": "442fc683-465f-4e51-a83e-a78edf5768cb", "service": "api"}}
{"timestamp": "2026-02-08T22:33:36.260467Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload initiated", "module": "upload", "function": "upload_file", "line": 48, "request_id": "442fc683-465f-4e51-a83e-a78edf5768cb", "extra": {"upload_filename": "adjoint-1.pdf", "content_type": "application/pdf", "request_id": "442fc683-465f-4e51-a83e-a78edf5768cb", "component": "upload_routes"}}
{"timestamp": "2026-02-08T22:33:36.262466Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload completed", "module": "upload", "function": "upload_file", "line": 58, "request_id": "442fc683-465f-4e51-a83e-a78edf5768cb", "extra": {"file_id": "bf5b0b2d-33a5-4d84-b781-8215af942cd6", "upload_filename": "adjoint-1.pdf", "request_id": "442fc683-465f-4e51-a83e-a78edf5768cb", "component": "upload_routes"}}
{"timestamp": "2026-02-08T22:33:36.262466Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "442fc683-465f-4e51-a83e-a78edf5768cb", "extra": {"status_code": 200, "method": "POST", "path": "/upload", "request_id": "442fc683-465f-4e51-a83e-a78edf5768cb", "service": "api"}}
{"timestamp": "2026-02-08T22:33:36.578602Z", "level": "INFO", "logger": "app.main", "message": "POST /analyze", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "extra": {"method": "POST", "path": "/analyze", "client": "127.0.0.1", "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "service": "api"}}
{"timestamp": "2026-02-08T22:33:36.581602Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Read PDF bytes for analysis", "module": "pdf", "function": "_build_pdf_part", "line": 76, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\bf5b0b2d-33a5-4d84-b781-8215af942cd6.pdf", "byte_count": 188376, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:33:36.581602Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Using full PDF for analysis", "module": "pdf", "function": "analyze", "line": 52, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "extra": {"total_pages": 4, "file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\bf5b0b2d-33a5-4d84-b781-8215af942cd6.pdf", "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:33:36.582602Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Built list payload for PDF analysis", "module": "pdf", "function": "_build_prompt_contents", "line": 102, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:33:36.584108Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-flash-lite-latest | Prompt: 2691 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "extra": {"event": "llm_request", "request_id": "bd900b06-5b5a-4533-8eb7-26879e8f15c2", "timestamp": "2026-02-08T22:33:36.582602Z", "model": "gemini-flash-lite-latest", "prompt": "You are an expert educator preparing comprehensive educational video content with animated visuals.\n\nAnalyze this content and determine the best video structure.\nIMPORTANT: Detect the SUBJECT AREA (math, computer science, physics, economics, biology, engineering, general) from the content.\n\nDOCUMENT INFO:\n- Total pages: 4\n- This is a standard-sized document - create ONE comprehensive video\n\nCONTEN... [truncated, total: 2691 chars]", "prompt_length": 2691, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"summary": {"type": "string"}, "main_subject": {"type": "string"}, "subject_area": {"type": "string", "enum": ["math", "cs", "physics", "economics", "biology", "engineering", "general"]}, "key_concepts": {"type": "array", "items": {"type": "string"}}, "detected_math_elements": {"type": "integer"}, "document_structure": {"type": "string"}, "suggested_topics": {"type": "array", "items": {"type": "object", "properties": {"index": {"type": "integer"}, "title": {"type": "string"}, "description": {"type": "string"}, "estimated_duration": {"type": "integer"}, "complexity": {"type": "string"}, "subject_area": {"type": "string"}, "subtopics": {"type": "array", "items": {"type": "string"}}, "prerequisites": {"type": "array", "items": {"type": "string"}}, "visual_ideas": {"type": "array", "items": {"type": "string"}}}, "required": ["index", "title", "description", "estimated_duration", "complexity"]}}, "estimated_total_videos": {"type": "integer"}}, "required": ["summary", "main_subject", "subject_area", "key_concepts", "suggested_topics", "estimated_total_videos"]}}, "system_instruction": null, "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:33:36.584642Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701"}
{"timestamp": "2026-02-08T22:33:41.220115Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 4.64s | Length: 4793 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "extra": {"event": "llm_response", "request_id": "bd900b06-5b5a-4533-8eb7-26879e8f15c2", "timestamp": "2026-02-08T22:33:41.220115Z", "response_text": "{\n  \"summary\": \"This document introduces the 'Adjoint Trick,' a highly efficient method for computing gradients, known variously as reverse-mode automatic differentiation, backpropagation, or the adjoint method. It contrasts this technique with finite differences and the forward mode of automatic differentiation. The core idea is establishing the relationship between forward and reverse sensitivit... [truncated, total: 4793 chars]", "duration_seconds": 4.638, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:33:41.222115Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "PDF analysis LLM call succeeded", "module": "pdf", "function": "_gemini_analyze", "line": 278, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "extra": {"response_length": 4793, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:33:41.224114Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "extra": {"status_code": 200, "method": "POST", "path": "/analyze", "request_id": "a094b2b8-247d-403b-8b41-938cd270f701", "service": "api"}}
{"timestamp": "2026-02-08T22:40:20.700380Z", "level": "INFO", "logger": "app.main", "message": "Starting MathViz Backend API", "module": "main", "function": "<module>", "line": 67, "extra": {"log_level": "INFO", "json_logs": false, "service": "api"}}
{"timestamp": "2026-02-08T22:40:20.700380Z", "level": "INFO", "logger": "app.main", "message": "Authentication mode", "module": "main", "function": "<module>", "line": 72, "extra": {"auth_enabled": true, "public_paths": {"exact": ["/", "/auth/login", "/auth/logout", "/auth/session", "/docs", "/health", "/openapi.json", "/redoc"], "prefixes": ["/docs/", "/redoc/", "/static/", "/outputs/"]}, "service": "api"}}
{"timestamp": "2026-02-08T22:40:31.071260Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "extra": {"component": "video_processor"}}
{"timestamp": "2026-02-08T22:40:31.072262Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:40:31.084718Z", "level": "INFO", "logger": "app.main", "message": "Startup runtime checks complete", "module": "main", "function": "_run_startup", "line": 107, "extra": {"runtime_report": {"directories": {"output": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "writable": true}, "upload": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads", "writable": true}}, "tools": {"required": ["ffmpeg", "ffprobe", "manim"], "missing": []}, "ok": true}, "service": "api"}}
{"timestamp": "2026-02-08T22:40:31.118682Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-08T22:40:31.134380Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-08T22:40:52.219278Z", "level": "INFO", "logger": "app.main", "message": "POST /upload", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fae98567-ae9e-415b-a8f9-d009624fa14c", "extra": {"method": "POST", "path": "/upload", "client": "127.0.0.1", "request_id": "fae98567-ae9e-415b-a8f9-d009624fa14c", "service": "api"}}
{"timestamp": "2026-02-08T22:40:52.223784Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload initiated", "module": "upload", "function": "upload_file", "line": 48, "request_id": "fae98567-ae9e-415b-a8f9-d009624fa14c", "extra": {"upload_filename": "adjoint-trick.pdf", "content_type": "application/pdf", "request_id": "fae98567-ae9e-415b-a8f9-d009624fa14c", "component": "upload_routes"}}
{"timestamp": "2026-02-08T22:40:52.224787Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload completed", "module": "upload", "function": "upload_file", "line": 58, "request_id": "fae98567-ae9e-415b-a8f9-d009624fa14c", "extra": {"file_id": "65faa077-ee84-452f-bc1d-75836588deff", "upload_filename": "adjoint-trick.pdf", "request_id": "fae98567-ae9e-415b-a8f9-d009624fa14c", "component": "upload_routes"}}
{"timestamp": "2026-02-08T22:40:52.225787Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fae98567-ae9e-415b-a8f9-d009624fa14c", "extra": {"status_code": 200, "method": "POST", "path": "/upload", "request_id": "fae98567-ae9e-415b-a8f9-d009624fa14c", "service": "api"}}
{"timestamp": "2026-02-08T22:40:52.236953Z", "level": "INFO", "logger": "app.main", "message": "POST /analyze", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "extra": {"method": "POST", "path": "/analyze", "client": "127.0.0.1", "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "service": "api"}}
{"timestamp": "2026-02-08T22:40:52.242945Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Read PDF bytes for analysis", "module": "pdf", "function": "_build_pdf_part", "line": 76, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\65faa077-ee84-452f-bc1d-75836588deff.pdf", "byte_count": 188376, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:40:52.242945Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Using full PDF for analysis", "module": "pdf", "function": "analyze", "line": 52, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "extra": {"total_pages": 4, "file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\65faa077-ee84-452f-bc1d-75836588deff.pdf", "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:40:52.244097Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Built list payload for PDF analysis", "module": "pdf", "function": "_build_prompt_contents", "line": 102, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:40:52.249097Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-flash-lite-latest | Prompt: 2691 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "extra": {"event": "llm_request", "request_id": "0ec23ac8-ae69-43da-8558-efb5651feadc", "timestamp": "2026-02-08T22:40:52.247096Z", "model": "gemini-flash-lite-latest", "prompt": "You are an expert educator preparing comprehensive educational video content with animated visuals.\n\nAnalyze this content and determine the best video structure.\nIMPORTANT: Detect the SUBJECT AREA (math, computer science, physics, economics, biology, engineering, general) from the content.\n\nDOCUMENT INFO:\n- Total pages: 4\n- This is a standard-sized document - create ONE comprehensive video\n\nCONTEN... [truncated, total: 2691 chars]", "prompt_length": 2691, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"summary": {"type": "string"}, "main_subject": {"type": "string"}, "subject_area": {"type": "string", "enum": ["math", "cs", "physics", "economics", "biology", "engineering", "general"]}, "key_concepts": {"type": "array", "items": {"type": "string"}}, "detected_math_elements": {"type": "integer"}, "document_structure": {"type": "string"}, "suggested_topics": {"type": "array", "items": {"type": "object", "properties": {"index": {"type": "integer"}, "title": {"type": "string"}, "description": {"type": "string"}, "estimated_duration": {"type": "integer"}, "complexity": {"type": "string"}, "subject_area": {"type": "string"}, "subtopics": {"type": "array", "items": {"type": "string"}}, "prerequisites": {"type": "array", "items": {"type": "string"}}, "visual_ideas": {"type": "array", "items": {"type": "string"}}}, "required": ["index", "title", "description", "estimated_duration", "complexity"]}}, "estimated_total_videos": {"type": "integer"}}, "required": ["summary", "main_subject", "subject_area", "key_concepts", "suggested_topics", "estimated_total_videos"]}}, "system_instruction": null, "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:40:52.251100Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2"}
{"timestamp": "2026-02-08T22:40:58.009670Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 5.76s | Length: 6829 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "extra": {"event": "llm_response", "request_id": "0ec23ac8-ae69-43da-8558-efb5651feadc", "timestamp": "2026-02-08T22:40:58.008670Z", "response_text": "{\n  \"summary\": \"This document introduces the 'Adjoint Trick,' a set of efficient techniques for computing derivatives, known variously as reverse/backwards-mode automatic differentiation, backpropagation, or the adjoint method. It contrasts this method with finite differences and forward-mode automatic differentiation, highlighting its asymptotic efficiency, especially when the output dimension (N... [truncated, total: 6829 chars]", "duration_seconds": 5.761, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:40:58.010679Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "PDF analysis LLM call succeeded", "module": "pdf", "function": "_gemini_analyze", "line": 278, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "extra": {"response_length": 6829, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:40:58.013678Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "extra": {"status_code": 200, "method": "POST", "path": "/analyze", "request_id": "1dc121c2-c3bf-4119-a42e-8f02091088d2", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.577686Z", "level": "INFO", "logger": "app.main", "message": "GET /voices", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6b386183-9dcb-4e51-ac32-690ed5f80d77", "extra": {"method": "GET", "path": "/voices", "client": "127.0.0.1", "request_id": "6b386183-9dcb-4e51-ac32-690ed5f80d77", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.580984Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6b386183-9dcb-4e51-ac32-690ed5f80d77", "extra": {"status_code": 200, "method": "GET", "path": "/voices", "request_id": "6b386183-9dcb-4e51-ac32-690ed5f80d77", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.588035Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/dracula.png", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b0b23c32-82be-454a-bc31-fca819557100", "extra": {"method": "GET", "path": "/static/style_previews/dracula.png", "client": "127.0.0.1", "request_id": "b0b23c32-82be-454a-bc31-fca819557100", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.694823Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b0b23c32-82be-454a-bc31-fca819557100", "extra": {"status_code": 304, "method": "GET", "path": "/static/style_previews/dracula.png", "request_id": "b0b23c32-82be-454a-bc31-fca819557100", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.696826Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/clean.png", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f5567ee6-b578-45ae-a37d-650e67fed5f0", "extra": {"method": "GET", "path": "/static/style_previews/clean.png", "client": "127.0.0.1", "request_id": "f5567ee6-b578-45ae-a37d-650e67fed5f0", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.697827Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f5567ee6-b578-45ae-a37d-650e67fed5f0", "extra": {"status_code": 304, "method": "GET", "path": "/static/style_previews/clean.png", "request_id": "f5567ee6-b578-45ae-a37d-650e67fed5f0", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.700859Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/3b1b.png", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "863feeb6-d534-44fa-80b1-60230a836b83", "extra": {"method": "GET", "path": "/static/style_previews/3b1b.png", "client": "127.0.0.1", "request_id": "863feeb6-d534-44fa-80b1-60230a836b83", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.703287Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "863feeb6-d534-44fa-80b1-60230a836b83", "extra": {"status_code": 304, "method": "GET", "path": "/static/style_previews/3b1b.png", "request_id": "863feeb6-d534-44fa-80b1-60230a836b83", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.703835Z", "level": "INFO", "logger": "app.main", "message": "GET /voices", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a2964a35-7dc4-4e7d-9093-8207f652ffba", "extra": {"method": "GET", "path": "/voices", "client": "127.0.0.1", "request_id": "a2964a35-7dc4-4e7d-9093-8207f652ffba", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.705408Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a2964a35-7dc4-4e7d-9093-8207f652ffba", "extra": {"status_code": 200, "method": "GET", "path": "/voices", "request_id": "a2964a35-7dc4-4e7d-9093-8207f652ffba", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.707535Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/nord.png", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "97a7ffce-069b-412b-b51c-49ece1e944ff", "extra": {"method": "GET", "path": "/static/style_previews/nord.png", "client": "127.0.0.1", "request_id": "97a7ffce-069b-412b-b51c-49ece1e944ff", "service": "api"}}
{"timestamp": "2026-02-08T22:41:08.710535Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "97a7ffce-069b-412b-b51c-49ece1e944ff", "extra": {"status_code": 304, "method": "GET", "path": "/static/style_previews/nord.png", "request_id": "97a7ffce-069b-412b-b51c-49ece1e944ff", "service": "api"}}
{"timestamp": "2026-02-08T22:41:33.206183Z", "level": "INFO", "logger": "app.main", "message": "GET /voices", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5cba6af7-dc37-4065-b10d-7dfd53fc5581", "extra": {"method": "GET", "path": "/voices", "client": "127.0.0.1", "request_id": "5cba6af7-dc37-4065-b10d-7dfd53fc5581", "service": "api"}}
{"timestamp": "2026-02-08T22:41:33.207184Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5cba6af7-dc37-4065-b10d-7dfd53fc5581", "extra": {"status_code": 200, "method": "GET", "path": "/voices", "request_id": "5cba6af7-dc37-4065-b10d-7dfd53fc5581", "service": "api"}}
{"timestamp": "2026-02-08T22:41:36.434390Z", "level": "INFO", "logger": "app.main", "message": "GET /static/voice_previews/en-GB-RyanNeural.mp3", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "575664fd-be2f-4650-b3aa-e4a027a06c05", "extra": {"method": "GET", "path": "/static/voice_previews/en-GB-RyanNeural.mp3", "client": "127.0.0.1", "request_id": "575664fd-be2f-4650-b3aa-e4a027a06c05", "service": "api"}}
{"timestamp": "2026-02-08T22:41:36.436395Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "575664fd-be2f-4650-b3aa-e4a027a06c05", "extra": {"status_code": 206, "method": "GET", "path": "/static/voice_previews/en-GB-RyanNeural.mp3", "request_id": "575664fd-be2f-4650-b3aa-e4a027a06c05", "service": "api"}}
{"timestamp": "2026-02-08T22:41:48.829938Z", "level": "INFO", "logger": "app.main", "message": "POST /generate", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "extra": {"method": "POST", "path": "/generate", "client": "127.0.0.1", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "service": "api"}}
{"timestamp": "2026-02-08T22:42:02.105842Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "video_processor"}}
{"timestamp": "2026-02-08T22:42:02.105842Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:42:02.108850Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "extra": {"status_code": 200, "method": "POST", "path": "/generate", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "service": "api"}}
{"timestamp": "2026-02-08T22:42:02.111850Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Starting: generate_video (job: 9b674d2c)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:42:02.112852Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "Initialized ProgressTracker for job 9b674d2c", "module": "progress", "function": "__init__", "line": 114, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "job_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:42:02.112852Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Starting video generation", "module": "video_generator", "function": "generate_video", "line": 195, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "resume": false, "voice": "en-GB-RyanNeural", "style": "dracula", "language": "en", "video_mode": "overview", "content_focus": "practice", "document_context": "auto", "max_concurrent": 3, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:42:02.114360Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "Found 0 completed sections", "module": "progress", "function": "check_existing_progress", "line": 184, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"completed_count": 0, "total_sections": 0, "completed_indices": [], "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:42:02.114360Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Generating new script (video_mode: overview)", "module": "video_generator", "function": "generate_video", "line": 227, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:42:02.116369Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[script] Generating script...", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "script", "progress": 0, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:42:02.116369Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Generating script from material", "module": "video_generator", "function": "_generate_script", "line": 391, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"material_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\65faa077-ee84-452f-bc1d-75836588deff.pdf", "video_mode": "overview", "content_focus": "practice", "document_context": "auto", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:42:02.119790Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Building PDF Part for attachment", "module": "base", "function": "build_pdf_part", "line": 129, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\65faa077-ee84-452f-bc1d-75836588deff.pdf", "byte_count": 188376, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:42:02.121196Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Falling back to Part.from_bytes for PDF attachment", "module": "base", "function": "build_pdf_part", "line": 139, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\65faa077-ee84-452f-bc1d-75836588deff.pdf", "byte_count": 188376, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:42:02.122205Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-flash-lite-latest | Prompt: 191 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "request_id": "44171ddd-f7c1-4a5e-b42d-fac11d33af67", "timestamp": "2026-02-08T22:42:02.121196Z", "model": "gemini-flash-lite-latest", "prompt": "Detect the primary language of this text. Respond with ONLY the ISO 639-1 code (e.g., \"en\", \"fr\", \"es\").\n\nText:\nAnalyze the attached PDF and return its 2-letter language code.\n\nLanguage code:", "prompt_length": 191, "config": {"temperature": 0.1, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***"}, "system_instruction": null, "tools": null, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:42:02.122205Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:42:02.127439Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4b632de5-524b-436b-a8b2-04d00c244bdf", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "4b632de5-524b-436b-a8b2-04d00c244bdf", "service": "api"}}
{"timestamp": "2026-02-08T22:42:02.128950Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4123ec9b-2139-4e71-94db-1a0bd5ba6043", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "4123ec9b-2139-4e71-94db-1a0bd5ba6043", "service": "api"}}
{"timestamp": "2026-02-08T22:42:02.132354Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4b632de5-524b-436b-a8b2-04d00c244bdf", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "4b632de5-524b-436b-a8b2-04d00c244bdf", "service": "api"}}
{"timestamp": "2026-02-08T22:42:02.133790Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4123ec9b-2139-4e71-94db-1a0bd5ba6043", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "4123ec9b-2139-4e71-94db-1a0bd5ba6043", "service": "api"}}
{"timestamp": "2026-02-08T22:42:02.135439Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "24acfefb-1f74-4a7d-b4e8-f7ffc749a5eb", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "24acfefb-1f74-4a7d-b4e8-f7ffc749a5eb", "service": "api"}}
{"timestamp": "2026-02-08T22:42:02.137447Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0bb99771-6b60-4df6-853d-579014e0b6ff", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "0bb99771-6b60-4df6-853d-579014e0b6ff", "service": "api"}}
{"timestamp": "2026-02-08T22:42:02.137447Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "24acfefb-1f74-4a7d-b4e8-f7ffc749a5eb", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "24acfefb-1f74-4a7d-b4e8-f7ffc749a5eb", "service": "api"}}
{"timestamp": "2026-02-08T22:42:02.139957Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0bb99771-6b60-4df6-853d-579014e0b6ff", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "0bb99771-6b60-4df6-853d-579014e0b6ff", "service": "api"}}
{"timestamp": "2026-02-08T22:42:04.062391Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 1.94s | Length: 2 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "request_id": "44171ddd-f7c1-4a5e-b42d-fac11d33af67", "timestamp": "2026-02-08T22:42:04.061881Z", "response_text": "en", "duration_seconds": 1.941, "success": true, "error": null, "metadata": null, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:42:04.063393Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.generator", "message": "Using OVERVIEW mode", "module": "generator", "function": "generate_script", "line": 91, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"video_mode": "overview", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "script_generator"}}
{"timestamp": "2026-02-08T22:42:04.063393Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview generation constraints", "module": "overview_generator", "function": "generate_overview_script", "line": 135, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"overview_constraints": {"min_duration_seconds": 180, "max_duration_seconds": 420, "min_sections": 5, "max_sections": 8, "section_min_words": 80, "section_max_words": 170, "constraint_retry_count": 1}, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:42:04.064395Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Building PDF Part for attachment", "module": "base", "function": "build_pdf_part", "line": 129, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\65faa077-ee84-452f-bc1d-75836588deff.pdf", "byte_count": 188376, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:42:04.064395Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Falling back to Part.from_bytes for PDF attachment", "module": "base", "function": "build_pdf_part", "line": 139, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\65faa077-ee84-452f-bc1d-75836588deff.pdf", "byte_count": 188376, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:42:04.065393Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview planning profile", "module": "overview_generator", "function": "_build_planning_profile", "line": 537, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"material_score": 3, "total_pages": 4, "content_length": 0, "estimated_duration_hint": 2300, "effective_min_sections": 6, "preferred_sections": 7, "preferred_duration_seconds": 384, "target_section_words": 153, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:42:04.065393Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Built list payload for prompt + attachment", "module": "base", "function": "build_prompt_contents", "line": 163, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:42:04.065393Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "LLM contents payload prepared", "module": "base", "function": "generate_with_engine", "line": 242, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"contents_type": "list", "contents_len": 2, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:42:04.066393Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 4892 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "request_id": "8740d713-dda1-405a-a519-e8008f6d721c", "timestamp": "2026-02-08T22:42:04.066393Z", "model": "gemini-3-flash-preview", "prompt": "You are an expert educator creating a SHORT, ENGAGING overview video script.\nGenerate ALL content in English.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n                         OVERVIEW VIDEO REQUIREMENTS\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nGOAL: Create a 3-7 MINUTE overview video that introduces the key concepts.\n... [truncated, total: 4892 chars]", "prompt_length": 4892, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"title": {"type": "string", "description": "Engaging video title"}, "subject_area": {"type": "string", "description": "Subject area (math, cs, physics, etc.)"}, "overview": {"type": "string", "description": "2-3 sentence description of what viewers will learn"}, "learning_objectives": {"type": "array", "items": {"type": "string"}, "description": "2-4 key learning objectives"}, "sections": {"type": "array", "minItems": 5, "maxItems": 8, "items": {"type": "object", "properties": {"id": {"type": "string", "description": "Unique section identifier (e.g., intro, concept_1, conclusion)"}, "title": {"type": "string", "description": "Section title"}, "narration": {"type": "string", "description": "Complete spoken narration for this section (80-170 words)"}, "tts_narration": {"type": "string", "description": "TTS-ready narration with math spelled out"}, "supporting_data": {"type": "array", "items": {"type": "object", "properties": {"type": {"type": "string"}, "label": {"type": "string"}, "value": {}, "notes": {"type": "string"}}, "required": ["type", "value"]}}}, "required": ["id", "title", "narration", "tts_narration"]}, "description": "5-8 sections for the video"}}, "required": ["title", "overview", "sections"]}}, "system_instruction": null, "tools": null, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:42:04.068396Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:42:05.120372Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ceb4f4f9-91db-4563-a70b-4b87e0badc89", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "ceb4f4f9-91db-4563-a70b-4b87e0badc89", "service": "api"}}
{"timestamp": "2026-02-08T22:42:05.122381Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bedb7ea3-a607-4a34-aa57-ff2326ac0eaf", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "bedb7ea3-a607-4a34-aa57-ff2326ac0eaf", "service": "api"}}
{"timestamp": "2026-02-08T22:42:05.123379Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ceb4f4f9-91db-4563-a70b-4b87e0badc89", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "ceb4f4f9-91db-4563-a70b-4b87e0badc89", "service": "api"}}
{"timestamp": "2026-02-08T22:42:05.124377Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bedb7ea3-a607-4a34-aa57-ff2326ac0eaf", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "bedb7ea3-a607-4a34-aa57-ff2326ac0eaf", "service": "api"}}
{"timestamp": "2026-02-08T22:42:08.122351Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fc4b0f3f-d7f0-4213-9f9c-27fc51c244f2", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "fc4b0f3f-d7f0-4213-9f9c-27fc51c244f2", "service": "api"}}
{"timestamp": "2026-02-08T22:42:08.123352Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8f71c198-6646-4ffb-ab0b-3e4a4dc6c52f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "8f71c198-6646-4ffb-ab0b-3e4a4dc6c52f", "service": "api"}}
{"timestamp": "2026-02-08T22:42:08.124350Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fc4b0f3f-d7f0-4213-9f9c-27fc51c244f2", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "fc4b0f3f-d7f0-4213-9f9c-27fc51c244f2", "service": "api"}}
{"timestamp": "2026-02-08T22:42:08.125616Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8f71c198-6646-4ffb-ab0b-3e4a4dc6c52f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "8f71c198-6646-4ffb-ab0b-3e4a4dc6c52f", "service": "api"}}
{"timestamp": "2026-02-08T22:42:11.122626Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "83b83250-424b-473c-b383-d34a462fb5ab", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "83b83250-424b-473c-b383-d34a462fb5ab", "service": "api"}}
{"timestamp": "2026-02-08T22:42:11.122626Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9b8cea3c-0b2f-4b85-8d40-7aa5b24466a5", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "9b8cea3c-0b2f-4b85-8d40-7aa5b24466a5", "service": "api"}}
{"timestamp": "2026-02-08T22:42:11.125145Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "83b83250-424b-473c-b383-d34a462fb5ab", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "83b83250-424b-473c-b383-d34a462fb5ab", "service": "api"}}
{"timestamp": "2026-02-08T22:42:11.125145Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9b8cea3c-0b2f-4b85-8d40-7aa5b24466a5", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "9b8cea3c-0b2f-4b85-8d40-7aa5b24466a5", "service": "api"}}
{"timestamp": "2026-02-08T22:42:14.120386Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ab5fe3d7-c2e3-4f35-987b-c47a06f37a39", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "ab5fe3d7-c2e3-4f35-987b-c47a06f37a39", "service": "api"}}
{"timestamp": "2026-02-08T22:42:14.121385Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4f39074d-ab02-40a0-888a-ea250612c9cd", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "4f39074d-ab02-40a0-888a-ea250612c9cd", "service": "api"}}
{"timestamp": "2026-02-08T22:42:14.122407Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ab5fe3d7-c2e3-4f35-987b-c47a06f37a39", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "ab5fe3d7-c2e3-4f35-987b-c47a06f37a39", "service": "api"}}
{"timestamp": "2026-02-08T22:42:14.123406Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4f39074d-ab02-40a0-888a-ea250612c9cd", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "4f39074d-ab02-40a0-888a-ea250612c9cd", "service": "api"}}
{"timestamp": "2026-02-08T22:42:17.121392Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "84d8b294-cbb3-4e27-9e8a-c0132e5b0be9", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "84d8b294-cbb3-4e27-9e8a-c0132e5b0be9", "service": "api"}}
{"timestamp": "2026-02-08T22:42:17.122398Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ccaff65d-9e91-4b60-8add-7c45a8dea085", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "ccaff65d-9e91-4b60-8add-7c45a8dea085", "service": "api"}}
{"timestamp": "2026-02-08T22:42:17.124058Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "84d8b294-cbb3-4e27-9e8a-c0132e5b0be9", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "84d8b294-cbb3-4e27-9e8a-c0132e5b0be9", "service": "api"}}
{"timestamp": "2026-02-08T22:42:17.124621Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ccaff65d-9e91-4b60-8add-7c45a8dea085", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "ccaff65d-9e91-4b60-8add-7c45a8dea085", "service": "api"}}
{"timestamp": "2026-02-08T22:42:20.122514Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "051a00d9-97e2-425b-88b3-8172de04e4fd", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "051a00d9-97e2-425b-88b3-8172de04e4fd", "service": "api"}}
{"timestamp": "2026-02-08T22:42:20.123511Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "196dd8a0-bf26-46b6-978e-5cc3f801f05d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "196dd8a0-bf26-46b6-978e-5cc3f801f05d", "service": "api"}}
{"timestamp": "2026-02-08T22:42:20.124512Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "051a00d9-97e2-425b-88b3-8172de04e4fd", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "051a00d9-97e2-425b-88b3-8172de04e4fd", "service": "api"}}
{"timestamp": "2026-02-08T22:42:20.125019Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "196dd8a0-bf26-46b6-978e-5cc3f801f05d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "196dd8a0-bf26-46b6-978e-5cc3f801f05d", "service": "api"}}
{"timestamp": "2026-02-08T22:42:23.121186Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "87c46d02-bc86-4f72-9301-73e3dd96b4cd", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "87c46d02-bc86-4f72-9301-73e3dd96b4cd", "service": "api"}}
{"timestamp": "2026-02-08T22:42:23.122184Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b8747988-6b80-4ab6-8f8a-485035f43946", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "b8747988-6b80-4ab6-8f8a-485035f43946", "service": "api"}}
{"timestamp": "2026-02-08T22:42:23.123184Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "87c46d02-bc86-4f72-9301-73e3dd96b4cd", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "87c46d02-bc86-4f72-9301-73e3dd96b4cd", "service": "api"}}
{"timestamp": "2026-02-08T22:42:23.124182Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b8747988-6b80-4ab6-8f8a-485035f43946", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "b8747988-6b80-4ab6-8f8a-485035f43946", "service": "api"}}
{"timestamp": "2026-02-08T22:42:26.122696Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "682eb7c3-13aa-42c8-82c8-cf5fdee35a42", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "682eb7c3-13aa-42c8-82c8-cf5fdee35a42", "service": "api"}}
{"timestamp": "2026-02-08T22:42:26.122696Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "11c6890a-e1c1-4b9d-bf8a-3338306a2e05", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "11c6890a-e1c1-4b9d-bf8a-3338306a2e05", "service": "api"}}
{"timestamp": "2026-02-08T22:42:26.124204Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "682eb7c3-13aa-42c8-82c8-cf5fdee35a42", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "682eb7c3-13aa-42c8-82c8-cf5fdee35a42", "service": "api"}}
{"timestamp": "2026-02-08T22:42:26.125212Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "11c6890a-e1c1-4b9d-bf8a-3338306a2e05", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "11c6890a-e1c1-4b9d-bf8a-3338306a2e05", "service": "api"}}
{"timestamp": "2026-02-08T22:42:29.121509Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "86de8c97-1c6f-4d24-b0a1-4e8c1e5416ed", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "86de8c97-1c6f-4d24-b0a1-4e8c1e5416ed", "service": "api"}}
{"timestamp": "2026-02-08T22:42:29.121509Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3ea3304b-bed1-4093-adaa-e6230d687232", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "3ea3304b-bed1-4093-adaa-e6230d687232", "service": "api"}}
{"timestamp": "2026-02-08T22:42:29.123510Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "86de8c97-1c6f-4d24-b0a1-4e8c1e5416ed", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "86de8c97-1c6f-4d24-b0a1-4e8c1e5416ed", "service": "api"}}
{"timestamp": "2026-02-08T22:42:29.123510Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3ea3304b-bed1-4093-adaa-e6230d687232", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "3ea3304b-bed1-4093-adaa-e6230d687232", "service": "api"}}
{"timestamp": "2026-02-08T22:42:32.121464Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "86fffe6e-3e03-461f-be8e-b6bc2a616949", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "86fffe6e-3e03-461f-be8e-b6bc2a616949", "service": "api"}}
{"timestamp": "2026-02-08T22:42:32.122462Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1c384fa5-489e-4142-9020-ca55a9834f82", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "1c384fa5-489e-4142-9020-ca55a9834f82", "service": "api"}}
{"timestamp": "2026-02-08T22:42:32.123464Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "86fffe6e-3e03-461f-be8e-b6bc2a616949", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "86fffe6e-3e03-461f-be8e-b6bc2a616949", "service": "api"}}
{"timestamp": "2026-02-08T22:42:32.124461Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1c384fa5-489e-4142-9020-ca55a9834f82", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "1c384fa5-489e-4142-9020-ca55a9834f82", "service": "api"}}
{"timestamp": "2026-02-08T22:42:35.121273Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fb81a266-b339-4df0-b746-67db6ac6e8ba", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "fb81a266-b339-4df0-b746-67db6ac6e8ba", "service": "api"}}
{"timestamp": "2026-02-08T22:42:35.122276Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "615c5466-a880-4314-854f-21ec866fd646", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "615c5466-a880-4314-854f-21ec866fd646", "service": "api"}}
{"timestamp": "2026-02-08T22:42:35.123276Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fb81a266-b339-4df0-b746-67db6ac6e8ba", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "fb81a266-b339-4df0-b746-67db6ac6e8ba", "service": "api"}}
{"timestamp": "2026-02-08T22:42:35.124275Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "615c5466-a880-4314-854f-21ec866fd646", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "615c5466-a880-4314-854f-21ec866fd646", "service": "api"}}
{"timestamp": "2026-02-08T22:42:35.507009Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 31.44s | Length: 16586 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "request_id": "8740d713-dda1-405a-a519-e8008f6d721c", "timestamp": "2026-02-08T22:42:35.506003Z", "response_text": "{\n  \"title\": \"The Adjoint Trick: Mastering Automatic Differentiation\",\n  \"subject_area\": \"cs\",\n  \"overview\": \"Discover how the adjoint trick revolutionizes gradient computation in machine learning and physics. You will learn why traditional finite differences fail, how forward-mode differentiation works using dual numbers, and why reverse-mode differentiation\u2014the secret behind backpropagation\u2014is a... [truncated, total: 16586 chars]", "duration_seconds": 31.44, "success": true, "error": null, "metadata": null, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:42:35.513010Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script metrics", "module": "overview_generator", "function": "_log_script_metrics", "line": 638, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempt": 1, "metrics": {"section_count": 7, "total_words": 960, "estimated_duration_seconds": 467, "section_word_counts": [150, 147, 143, 141, 125, 128, 126]}, "violations": ["duration_too_high"], "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:42:35.513010Z", "level": "WARNING", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script constraints missed; retrying generation", "module": "overview_generator", "function": "generate_overview_script", "line": 224, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempt": 1, "max_attempts": 2, "violations": ["duration_too_high"], "metrics": {"section_count": 7, "section_word_counts": [150, 147, 143, 141, 125, 128, 126], "total_words": 960, "estimated_duration_seconds": 467}, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:42:35.513010Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Built list payload for prompt + attachment", "module": "base", "function": "build_prompt_contents", "line": 163, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:42:35.513010Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "LLM contents payload prepared", "module": "base", "function": "generate_with_engine", "line": 242, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"contents_type": "list", "contents_len": 2, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:42:35.515526Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 5394 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "request_id": "55dc1a03-18f9-495f-83f6-043359652c03", "timestamp": "2026-02-08T22:42:35.514517Z", "model": "gemini-3-flash-preview", "prompt": "You are an expert educator creating a SHORT, ENGAGING overview video script.\nGenerate ALL content in English.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n                         OVERVIEW VIDEO REQUIREMENTS\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nGOAL: Create a 3-7 MINUTE overview video that introduces the key concepts.\n... [truncated, total: 5394 chars]", "prompt_length": 5394, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"title": {"type": "string", "description": "Engaging video title"}, "subject_area": {"type": "string", "description": "Subject area (math, cs, physics, etc.)"}, "overview": {"type": "string", "description": "2-3 sentence description of what viewers will learn"}, "learning_objectives": {"type": "array", "items": {"type": "string"}, "description": "2-4 key learning objectives"}, "sections": {"type": "array", "minItems": 5, "maxItems": 8, "items": {"type": "object", "properties": {"id": {"type": "string", "description": "Unique section identifier (e.g., intro, concept_1, conclusion)"}, "title": {"type": "string", "description": "Section title"}, "narration": {"type": "string", "description": "Complete spoken narration for this section (80-170 words)"}, "tts_narration": {"type": "string", "description": "TTS-ready narration with math spelled out"}, "supporting_data": {"type": "array", "items": {"type": "object", "properties": {"type": {"type": "string"}, "label": {"type": "string"}, "value": {}, "notes": {"type": "string"}}, "required": ["type", "value"], "property_ordering": ["type", "label", "value", "notes"]}}}, "required": ["id", "title", "narration", "tts_narration"], "property_ordering": ["id", "title", "narration", "tts_narration", "supporting_data"]}, "description": "5-8 sections for the video"}}, "required": ["title", "overview", "sections"]}}, "system_instruction": null, "tools": null, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:42:35.516526Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:42:38.121603Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "93050340-deaf-43ad-b773-a62e2de836df", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "93050340-deaf-43ad-b773-a62e2de836df", "service": "api"}}
{"timestamp": "2026-02-08T22:42:38.122603Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5c3b9c25-72e8-40c7-b786-e4fa014a0ea5", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "5c3b9c25-72e8-40c7-b786-e4fa014a0ea5", "service": "api"}}
{"timestamp": "2026-02-08T22:42:38.123602Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "93050340-deaf-43ad-b773-a62e2de836df", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "93050340-deaf-43ad-b773-a62e2de836df", "service": "api"}}
{"timestamp": "2026-02-08T22:42:38.124603Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5c3b9c25-72e8-40c7-b786-e4fa014a0ea5", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "5c3b9c25-72e8-40c7-b786-e4fa014a0ea5", "service": "api"}}
{"timestamp": "2026-02-08T22:42:41.120482Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "56e86ccb-8353-4058-a2b8-75e01ec23eb1", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "56e86ccb-8353-4058-a2b8-75e01ec23eb1", "service": "api"}}
{"timestamp": "2026-02-08T22:42:41.122468Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "238b8591-319c-4d6a-8ae2-b015f29c086f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "238b8591-319c-4d6a-8ae2-b015f29c086f", "service": "api"}}
{"timestamp": "2026-02-08T22:42:41.123640Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "56e86ccb-8353-4058-a2b8-75e01ec23eb1", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "56e86ccb-8353-4058-a2b8-75e01ec23eb1", "service": "api"}}
{"timestamp": "2026-02-08T22:42:41.123640Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "238b8591-319c-4d6a-8ae2-b015f29c086f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "238b8591-319c-4d6a-8ae2-b015f29c086f", "service": "api"}}
{"timestamp": "2026-02-08T22:42:44.122420Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a4244e34-10e0-4b64-977f-332380898602", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "a4244e34-10e0-4b64-977f-332380898602", "service": "api"}}
{"timestamp": "2026-02-08T22:42:44.123420Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fb917a30-5dd6-4cd3-b623-71ae94d207ef", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "fb917a30-5dd6-4cd3-b623-71ae94d207ef", "service": "api"}}
{"timestamp": "2026-02-08T22:42:44.124420Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a4244e34-10e0-4b64-977f-332380898602", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "a4244e34-10e0-4b64-977f-332380898602", "service": "api"}}
{"timestamp": "2026-02-08T22:42:44.125682Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fb917a30-5dd6-4cd3-b623-71ae94d207ef", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "fb917a30-5dd6-4cd3-b623-71ae94d207ef", "service": "api"}}
{"timestamp": "2026-02-08T22:42:47.122602Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "764cb3e9-7286-40e5-8d19-95142c82c49f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "764cb3e9-7286-40e5-8d19-95142c82c49f", "service": "api"}}
{"timestamp": "2026-02-08T22:42:47.123604Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1c97dd3e-71ce-499f-9e95-bfee1ac4d438", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "1c97dd3e-71ce-499f-9e95-bfee1ac4d438", "service": "api"}}
{"timestamp": "2026-02-08T22:42:47.124604Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "764cb3e9-7286-40e5-8d19-95142c82c49f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "764cb3e9-7286-40e5-8d19-95142c82c49f", "service": "api"}}
{"timestamp": "2026-02-08T22:42:47.124604Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1c97dd3e-71ce-499f-9e95-bfee1ac4d438", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "1c97dd3e-71ce-499f-9e95-bfee1ac4d438", "service": "api"}}
{"timestamp": "2026-02-08T22:42:50.120937Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "790dcbcd-663d-48a3-abb8-04c977bcab3d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "790dcbcd-663d-48a3-abb8-04c977bcab3d", "service": "api"}}
{"timestamp": "2026-02-08T22:42:50.121935Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "199442ec-163f-4685-97a0-26509024fa4d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "199442ec-163f-4685-97a0-26509024fa4d", "service": "api"}}
{"timestamp": "2026-02-08T22:42:50.123441Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "790dcbcd-663d-48a3-abb8-04c977bcab3d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "790dcbcd-663d-48a3-abb8-04c977bcab3d", "service": "api"}}
{"timestamp": "2026-02-08T22:42:50.123441Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "199442ec-163f-4685-97a0-26509024fa4d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "199442ec-163f-4685-97a0-26509024fa4d", "service": "api"}}
{"timestamp": "2026-02-08T22:42:53.121747Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "192bc9ea-8a69-4e73-bf17-e0c851d5e8b0", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "192bc9ea-8a69-4e73-bf17-e0c851d5e8b0", "service": "api"}}
{"timestamp": "2026-02-08T22:42:53.122750Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2287545b-0c0d-49dd-825a-06177b5c7495", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "2287545b-0c0d-49dd-825a-06177b5c7495", "service": "api"}}
{"timestamp": "2026-02-08T22:42:53.123750Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "192bc9ea-8a69-4e73-bf17-e0c851d5e8b0", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "192bc9ea-8a69-4e73-bf17-e0c851d5e8b0", "service": "api"}}
{"timestamp": "2026-02-08T22:42:53.124754Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2287545b-0c0d-49dd-825a-06177b5c7495", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "2287545b-0c0d-49dd-825a-06177b5c7495", "service": "api"}}
{"timestamp": "2026-02-08T22:42:56.132150Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d98db70e-784b-4662-b7ce-1b11b82ca0c2", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "d98db70e-784b-4662-b7ce-1b11b82ca0c2", "service": "api"}}
{"timestamp": "2026-02-08T22:42:56.133150Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a7eb40d7-1f8e-4425-821a-88bdabb11c0f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "a7eb40d7-1f8e-4425-821a-88bdabb11c0f", "service": "api"}}
{"timestamp": "2026-02-08T22:42:56.134861Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d98db70e-784b-4662-b7ce-1b11b82ca0c2", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "d98db70e-784b-4662-b7ce-1b11b82ca0c2", "service": "api"}}
{"timestamp": "2026-02-08T22:42:56.135870Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a7eb40d7-1f8e-4425-821a-88bdabb11c0f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "a7eb40d7-1f8e-4425-821a-88bdabb11c0f", "service": "api"}}
{"timestamp": "2026-02-08T22:42:59.121384Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "29d7ba1d-c537-4247-a5e3-2521b592f7ce", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "29d7ba1d-c537-4247-a5e3-2521b592f7ce", "service": "api"}}
{"timestamp": "2026-02-08T22:42:59.122890Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "12d85ffe-3603-4461-8600-ef3fcb813d8d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "12d85ffe-3603-4461-8600-ef3fcb813d8d", "service": "api"}}
{"timestamp": "2026-02-08T22:42:59.123897Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "29d7ba1d-c537-4247-a5e3-2521b592f7ce", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "29d7ba1d-c537-4247-a5e3-2521b592f7ce", "service": "api"}}
{"timestamp": "2026-02-08T22:42:59.124896Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "12d85ffe-3603-4461-8600-ef3fcb813d8d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "12d85ffe-3603-4461-8600-ef3fcb813d8d", "service": "api"}}
{"timestamp": "2026-02-08T22:43:02.121890Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c14d5cfe-7f67-40c0-9fa5-5075c10184d6", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "c14d5cfe-7f67-40c0-9fa5-5075c10184d6", "service": "api"}}
{"timestamp": "2026-02-08T22:43:02.122890Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e38ae4c6-565a-4f2e-a3c4-dea5f880ceea", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "e38ae4c6-565a-4f2e-a3c4-dea5f880ceea", "service": "api"}}
{"timestamp": "2026-02-08T22:43:02.122890Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c14d5cfe-7f67-40c0-9fa5-5075c10184d6", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "c14d5cfe-7f67-40c0-9fa5-5075c10184d6", "service": "api"}}
{"timestamp": "2026-02-08T22:43:02.123998Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e38ae4c6-565a-4f2e-a3c4-dea5f880ceea", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "e38ae4c6-565a-4f2e-a3c4-dea5f880ceea", "service": "api"}}
{"timestamp": "2026-02-08T22:43:05.122314Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "17262272-0a22-43f9-beea-52c9f9f601bb", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "17262272-0a22-43f9-beea-52c9f9f601bb", "service": "api"}}
{"timestamp": "2026-02-08T22:43:05.123311Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "42f7517e-97f5-4544-973a-77cf3ea67d81", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "42f7517e-97f5-4544-973a-77cf3ea67d81", "service": "api"}}
{"timestamp": "2026-02-08T22:43:05.124818Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "17262272-0a22-43f9-beea-52c9f9f601bb", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "17262272-0a22-43f9-beea-52c9f9f601bb", "service": "api"}}
{"timestamp": "2026-02-08T22:43:05.125824Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "42f7517e-97f5-4544-973a-77cf3ea67d81", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "42f7517e-97f5-4544-973a-77cf3ea67d81", "service": "api"}}
{"timestamp": "2026-02-08T22:43:08.122152Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "505b9732-cf61-461d-b948-eb1f61ef41aa", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "505b9732-cf61-461d-b948-eb1f61ef41aa", "service": "api"}}
{"timestamp": "2026-02-08T22:43:08.123153Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "faafcd3a-a347-48a5-bfbc-97953e4db9e7", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "faafcd3a-a347-48a5-bfbc-97953e4db9e7", "service": "api"}}
{"timestamp": "2026-02-08T22:43:08.123153Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "505b9732-cf61-461d-b948-eb1f61ef41aa", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "505b9732-cf61-461d-b948-eb1f61ef41aa", "service": "api"}}
{"timestamp": "2026-02-08T22:43:08.124658Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "faafcd3a-a347-48a5-bfbc-97953e4db9e7", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "faafcd3a-a347-48a5-bfbc-97953e4db9e7", "service": "api"}}
{"timestamp": "2026-02-08T22:43:08.206759Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 32.69s | Length: 15379 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "request_id": "55dc1a03-18f9-495f-83f6-043359652c03", "timestamp": "2026-02-08T22:43:08.205763Z", "response_text": "{\n  \"title\": \"The Adjoint Trick: Mastering Automatic Differentiation\",\n  \"subject_area\": \"cs\",\n  \"overview\": \"Discover how the 'Adjoint Trick' revolutionizes gradient computation across computer science, machine learning, and physics. You will learn the fundamental differences between forward and reverse mode differentiation and why the cost of computing a gradient is surprisingly independent of t... [truncated, total: 15379 chars]", "duration_seconds": 32.691, "success": true, "error": null, "metadata": null, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:08.210760Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script metrics", "module": "overview_generator", "function": "_log_script_metrics", "line": 638, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempt": 2, "metrics": {"section_count": 7, "total_words": 838, "estimated_duration_seconds": 404, "section_word_counts": [129, 133, 120, 116, 110, 112, 118]}, "violations": [], "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:43:08.215890Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[script] Script generated", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "script", "progress": 100, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:43:08.218394Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Processing 7 sections", "module": "video_generator", "function": "generate_video", "line": 258, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_count": 7, "effective_language": "en", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:43:08.219972Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Initialized SectionOrchestrator", "module": "orchestrator", "function": "__init__", "line": 79, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"max_concurrent": 3, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:43:08.219972Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Starting: process_sections_parallel (7 sections)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:43:08.219972Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Starting parallel section processing", "module": "orchestrator", "function": "process_sections_parallel", "line": 121, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"total_sections": 7, "max_concurrent": 3, "resume": false, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:43:08.220980Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Processing 7 sections (max 3 concurrent)...", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "sections", "progress": 0, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:43:08.221978Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 1/7: The Problem with Finite Differences", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 0, "total_sections": 7, "title": "The Problem with Finite Differences", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:43:08.221978Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:43:08.639452Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 2/7: Forward Mode: Propagating Perturbations", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 1, "total_sections": 7, "title": "Forward Mode: Propagating Perturbations", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:43:08.639452Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Processing 8 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:43:09.048874Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 3/7: The Magic of the Adjoint Trick", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 2, "total_sections": 7, "title": "The Magic of the Adjoint Trick", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:43:09.048874Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Processing 6 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:43:11.121973Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4f8cc9dc-9dd8-4a3c-90b8-e3b1a860e231", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "4f8cc9dc-9dd8-4a3c-90b8-e3b1a860e231", "service": "api"}}
{"timestamp": "2026-02-08T22:43:11.122974Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0e315a7e-084f-43c9-9641-25011033d033", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "0e315a7e-084f-43c9-9641-25011033d033", "service": "api"}}
{"timestamp": "2026-02-08T22:43:11.131780Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4f8cc9dc-9dd8-4a3c-90b8-e3b1a860e231", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "4f8cc9dc-9dd8-4a3c-90b8-e3b1a860e231", "service": "api"}}
{"timestamp": "2026-02-08T22:43:11.133777Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0e315a7e-084f-43c9-9641-25011033d033", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "0e315a7e-084f-43c9-9641-25011033d033", "service": "api"}}
{"timestamp": "2026-02-08T22:43:14.348603Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bb6a5726-06d6-443e-b76b-7959c62f0b4e", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "bb6a5726-06d6-443e-b76b-7959c62f0b4e", "service": "api"}}
{"timestamp": "2026-02-08T22:43:14.349610Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1528453b-db23-46e7-8ef9-84645a3347a4", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "1528453b-db23-46e7-8ef9-84645a3347a4", "service": "api"}}
{"timestamp": "2026-02-08T22:43:14.356214Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bb6a5726-06d6-443e-b76b-7959c62f0b4e", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "bb6a5726-06d6-443e-b76b-7959c62f0b4e", "service": "api"}}
{"timestamp": "2026-02-08T22:43:14.358217Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1528453b-db23-46e7-8ef9-84645a3347a4", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "1528453b-db23-46e7-8ef9-84645a3347a4", "service": "api"}}
{"timestamp": "2026-02-08T22:43:17.939869Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e720d28f-84e7-4b30-b0f2-8f5ff9d4a6f2", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e720d28f-84e7-4b30-b0f2-8f5ff9d4a6f2", "service": "api"}}
{"timestamp": "2026-02-08T22:43:17.939869Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "46b50be1-0b15-4cac-9fc3-851b1fc65e94", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "46b50be1-0b15-4cac-9fc3-851b1fc65e94", "service": "api"}}
{"timestamp": "2026-02-08T22:43:18.054934Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e720d28f-84e7-4b30-b0f2-8f5ff9d4a6f2", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e720d28f-84e7-4b30-b0f2-8f5ff9d4a6f2", "service": "api"}}
{"timestamp": "2026-02-08T22:43:18.055942Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "46b50be1-0b15-4cac-9fc3-851b1fc65e94", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "46b50be1-0b15-4cac-9fc3-851b1fc65e94", "service": "api"}}
{"timestamp": "2026-02-08T22:43:20.384841Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b0202d77-d095-44d6-b5be-701e6643dba5", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "b0202d77-d095-44d6-b5be-701e6643dba5", "service": "api"}}
{"timestamp": "2026-02-08T22:43:20.384841Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9ffe3e4e-e46d-4df3-8160-2c37583127d7", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "9ffe3e4e-e46d-4df3-8160-2c37583127d7", "service": "api"}}
{"timestamp": "2026-02-08T22:43:20.393400Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b0202d77-d095-44d6-b5be-701e6643dba5", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "b0202d77-d095-44d6-b5be-701e6643dba5", "service": "api"}}
{"timestamp": "2026-02-08T22:43:20.394907Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9ffe3e4e-e46d-4df3-8160-2c37583127d7", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "9ffe3e4e-e46d-4df3-8160-2c37583127d7", "service": "api"}}
{"timestamp": "2026-02-08T22:43:21.100761Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Total audio duration = 43.8s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:43:21.110785Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Total audio duration = 39.6s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:43:21.217873Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Generating unified video using NEW Pipeline (39.6s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:43:21.219872Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 2 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:43:21.220891Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'The Magic of the Adjoint Trick'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:43:21.224265Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9621 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "choreography", "request_id": "f7fb8708-1dee-4026-a83f-42d3b0557993", "timestamp": "2026-02-08T22:43:21.222897Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: The Magic of the Adjoint Trick\n**Duration**: 39.6s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=comprehen... [truncated, total: 9621 chars]", "prompt_length": 9621, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"anyOf": [{"type": "string"}, {"type": "null"}]}, "relation": {"anyOf": [{"type": "string", "enum": ["above", "below", "left_of", "right_of"]}, {"type": "null"}]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:21.226583Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:43:21.229809Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Generating unified video using NEW Pipeline (43.8s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:43:21.230775Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 0 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:43:21.232403Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'The Problem with Finite Differences'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:43:21.234966Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9819 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "choreography", "request_id": "98e04191-f5b6-41ea-8d89-16a402578ed0", "timestamp": "2026-02-08T22:43:21.233421Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: The Problem with Finite Differences\n**Duration**: 43.752s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=co... [truncated, total: 9819 chars]", "prompt_length": 9819, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "property_ordering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "property_ordering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "property_ordering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:21.236974Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:43:21.607621Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Total audio duration = 45.6s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:43:21.688802Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Generating unified video using NEW Pipeline (45.6s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:43:21.689802Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 1 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:43:21.691308Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Forward Mode: Propagating Perturbations'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:43:21.693315Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10180 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "choreography", "request_id": "cbb04637-694b-4e72-854c-857b8fc59756", "timestamp": "2026-02-08T22:43:21.692315Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Forward Mode: Propagating Perturbations\n**Duration**: 45.647999999999996s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Str... [truncated, total: 10180 chars]", "prompt_length": 10180, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:21.694820Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:43:23.122905Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e5a0f0ca-7197-4668-90bd-4c7e1d3bbfda", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e5a0f0ca-7197-4668-90bd-4c7e1d3bbfda", "service": "api"}}
{"timestamp": "2026-02-08T22:43:23.122905Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d5ad7bfa-3118-4d0f-92b8-d8009a1e2e18", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "d5ad7bfa-3118-4d0f-92b8-d8009a1e2e18", "service": "api"}}
{"timestamp": "2026-02-08T22:43:23.130116Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e5a0f0ca-7197-4668-90bd-4c7e1d3bbfda", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e5a0f0ca-7197-4668-90bd-4c7e1d3bbfda", "service": "api"}}
{"timestamp": "2026-02-08T22:43:23.131112Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d5ad7bfa-3118-4d0f-92b8-d8009a1e2e18", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "d5ad7bfa-3118-4d0f-92b8-d8009a1e2e18", "service": "api"}}
{"timestamp": "2026-02-08T22:43:26.122844Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "161130ab-089c-4101-a415-f8a6746be999", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "161130ab-089c-4101-a415-f8a6746be999", "service": "api"}}
{"timestamp": "2026-02-08T22:43:26.123845Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "703f919c-49a9-475e-b994-ddbc96ee2d4d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "703f919c-49a9-475e-b994-ddbc96ee2d4d", "service": "api"}}
{"timestamp": "2026-02-08T22:43:26.129839Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "161130ab-089c-4101-a415-f8a6746be999", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "161130ab-089c-4101-a415-f8a6746be999", "service": "api"}}
{"timestamp": "2026-02-08T22:43:26.130877Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "703f919c-49a9-475e-b994-ddbc96ee2d4d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "703f919c-49a9-475e-b994-ddbc96ee2d4d", "service": "api"}}
{"timestamp": "2026-02-08T22:43:29.121919Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "20ab02ce-eebf-4e57-98e8-6d6f64bec880", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "20ab02ce-eebf-4e57-98e8-6d6f64bec880", "service": "api"}}
{"timestamp": "2026-02-08T22:43:29.122919Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e975fd61-0a8f-461d-a6a3-32c20effffde", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "e975fd61-0a8f-461d-a6a3-32c20effffde", "service": "api"}}
{"timestamp": "2026-02-08T22:43:29.128435Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "20ab02ce-eebf-4e57-98e8-6d6f64bec880", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "20ab02ce-eebf-4e57-98e8-6d6f64bec880", "service": "api"}}
{"timestamp": "2026-02-08T22:43:29.128435Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e975fd61-0a8f-461d-a6a3-32c20effffde", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "e975fd61-0a8f-461d-a6a3-32c20effffde", "service": "api"}}
{"timestamp": "2026-02-08T22:43:32.123303Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "55e7bdeb-7dae-4e3b-8138-d186b5c08adb", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "55e7bdeb-7dae-4e3b-8138-d186b5c08adb", "service": "api"}}
{"timestamp": "2026-02-08T22:43:32.125817Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b8df91c3-4011-4c04-b2bc-51cdd05536c1", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "b8df91c3-4011-4c04-b2bc-51cdd05536c1", "service": "api"}}
{"timestamp": "2026-02-08T22:43:32.131343Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "55e7bdeb-7dae-4e3b-8138-d186b5c08adb", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "55e7bdeb-7dae-4e3b-8138-d186b5c08adb", "service": "api"}}
{"timestamp": "2026-02-08T22:43:32.132351Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b8df91c3-4011-4c04-b2bc-51cdd05536c1", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "b8df91c3-4011-4c04-b2bc-51cdd05536c1", "service": "api"}}
{"timestamp": "2026-02-08T22:43:35.122393Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "42f30e35-0be1-41df-a9f4-834233ec8c34", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "42f30e35-0be1-41df-a9f4-834233ec8c34", "service": "api"}}
{"timestamp": "2026-02-08T22:43:35.123899Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6a31eeaa-ee80-4a44-9f76-ed5d58202a7c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "6a31eeaa-ee80-4a44-9f76-ed5d58202a7c", "service": "api"}}
{"timestamp": "2026-02-08T22:43:35.128915Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "42f30e35-0be1-41df-a9f4-834233ec8c34", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "42f30e35-0be1-41df-a9f4-834233ec8c34", "service": "api"}}
{"timestamp": "2026-02-08T22:43:35.130463Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6a31eeaa-ee80-4a44-9f76-ed5d58202a7c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "6a31eeaa-ee80-4a44-9f76-ed5d58202a7c", "service": "api"}}
{"timestamp": "2026-02-08T22:43:38.122998Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "985e1470-de73-43cf-bf3c-c300c66c73c5", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "985e1470-de73-43cf-bf3c-c300c66c73c5", "service": "api"}}
{"timestamp": "2026-02-08T22:43:38.124007Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "985e1470-de73-43cf-bf3c-c300c66c73c5", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "985e1470-de73-43cf-bf3c-c300c66c73c5", "service": "api"}}
{"timestamp": "2026-02-08T22:43:38.125004Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c6f72a44-e566-4aff-bcd0-dfca3e4b3636", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "c6f72a44-e566-4aff-bcd0-dfca3e4b3636", "service": "api"}}
{"timestamp": "2026-02-08T22:43:38.132111Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c6f72a44-e566-4aff-bcd0-dfca3e4b3636", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "c6f72a44-e566-4aff-bcd0-dfca3e4b3636", "service": "api"}}
{"timestamp": "2026-02-08T22:43:41.122284Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0bbb1253-55dc-421b-bfc6-f3d9bb285850", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "0bbb1253-55dc-421b-bfc6-f3d9bb285850", "service": "api"}}
{"timestamp": "2026-02-08T22:43:41.123680Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "66b2632c-3a74-49c5-ac02-fc1dd1c28645", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "66b2632c-3a74-49c5-ac02-fc1dd1c28645", "service": "api"}}
{"timestamp": "2026-02-08T22:43:41.123680Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0bbb1253-55dc-421b-bfc6-f3d9bb285850", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "0bbb1253-55dc-421b-bfc6-f3d9bb285850", "service": "api"}}
{"timestamp": "2026-02-08T22:43:41.131195Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "66b2632c-3a74-49c5-ac02-fc1dd1c28645", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "66b2632c-3a74-49c5-ac02-fc1dd1c28645", "service": "api"}}
{"timestamp": "2026-02-08T22:43:44.122131Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "497ad621-08b6-496f-963b-3ba7da6439c5", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "497ad621-08b6-496f-963b-3ba7da6439c5", "service": "api"}}
{"timestamp": "2026-02-08T22:43:44.123510Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "159dead8-2818-417a-8181-3bc71c43ba31", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "159dead8-2818-417a-8181-3bc71c43ba31", "service": "api"}}
{"timestamp": "2026-02-08T22:43:44.129022Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "497ad621-08b6-496f-963b-3ba7da6439c5", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "497ad621-08b6-496f-963b-3ba7da6439c5", "service": "api"}}
{"timestamp": "2026-02-08T22:43:44.130030Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "159dead8-2818-417a-8181-3bc71c43ba31", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "159dead8-2818-417a-8181-3bc71c43ba31", "service": "api"}}
{"timestamp": "2026-02-08T22:43:47.122324Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ea1b4954-8718-4622-99e4-b401ba1079d7", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "ea1b4954-8718-4622-99e4-b401ba1079d7", "service": "api"}}
{"timestamp": "2026-02-08T22:43:47.123324Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fc697c95-9089-48ae-a613-76f0bb9d9e38", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "fc697c95-9089-48ae-a613-76f0bb9d9e38", "service": "api"}}
{"timestamp": "2026-02-08T22:43:47.130369Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ea1b4954-8718-4622-99e4-b401ba1079d7", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "ea1b4954-8718-4622-99e4-b401ba1079d7", "service": "api"}}
{"timestamp": "2026-02-08T22:43:47.131374Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fc697c95-9089-48ae-a613-76f0bb9d9e38", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "fc697c95-9089-48ae-a613-76f0bb9d9e38", "service": "api"}}
{"timestamp": "2026-02-08T22:43:47.547600Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 25.85s | Length: 7364 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 1, "job_id": "unknown", "stage": "choreography", "request_id": "cbb04637-694b-4e72-854c-857b8fc59756", "timestamp": "2026-02-08T22:43:47.546601Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Forward Mode: Propagating Perturbations\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 6.288,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n    },\n    {\n      \"id\": \"func_chain\",\n      \"type\": \"MathTex\",\n      \"latex\": \"F_1 \\\\rightarrow... [truncated, total: 7364 chars]", "duration_seconds": 25.854, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:47.548600Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (7364 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:43:47.549599Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\1\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:43:47.549599Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 1, "attempt": 1, "plan_chars": 7364, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\1\\choreography_plan.json", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:43:47.550969Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Forward Mode: Propagating Perturbations'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:43:47.553484Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 22472 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "implementation", "request_id": "8b5755ad-ef56-4952-a44f-6d8690b4a6af", "timestamp": "2026-02-08T22:43:47.551475Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Forward Mode: Propagating Perturbations\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 6.288,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"... [truncated, total: 22472 chars]", "prompt_length": 22472, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:47.554482Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:43:50.123499Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "25e0ce13-5c79-4673-82b3-6285b33a8d24", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "25e0ce13-5c79-4673-82b3-6285b33a8d24", "service": "api"}}
{"timestamp": "2026-02-08T22:43:50.123499Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "74fc3172-c126-4737-bebf-20c143c12bef", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "74fc3172-c126-4737-bebf-20c143c12bef", "service": "api"}}
{"timestamp": "2026-02-08T22:43:50.130017Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "25e0ce13-5c79-4673-82b3-6285b33a8d24", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "25e0ce13-5c79-4673-82b3-6285b33a8d24", "service": "api"}}
{"timestamp": "2026-02-08T22:43:50.130017Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "74fc3172-c126-4737-bebf-20c143c12bef", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "74fc3172-c126-4737-bebf-20c143c12bef", "service": "api"}}
{"timestamp": "2026-02-08T22:43:51.568633Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 30.34s | Length: 8005 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 0, "job_id": "unknown", "stage": "choreography", "request_id": "98e04191-f5b6-41ea-8d89-16a402578ed0", "timestamp": "2026-02-08T22:43:51.568633Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Problem with Finite Differences\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 13.008,\n      \"notes\": \"Main title in Dracula primary text color.\",\n      \"visual_description\": \"Bold title text centered at the top.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\"... [truncated, total: 8005 chars]", "duration_seconds": 30.335, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:51.570140Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (8005 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:43:51.572148Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\0\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:43:51.572148Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 0, "attempt": 1, "plan_chars": 8005, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\0\\choreography_plan.json", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:43:51.572654Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'The Problem with Finite Differences'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:43:51.573660Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 23029 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "implementation", "request_id": "8eb8f70c-62b8-4d7e-8921-252bf2a769d1", "timestamp": "2026-02-08T22:43:51.572654Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Problem with Finite Differences\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 13.008,\n      \"notes\": \"Main title in Dracula primary text color.\",\n      \"visua... [truncated, total: 23029 chars]", "prompt_length": 23029, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:51.575167Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:43:52.782091Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 31.56s | Length: 7496 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "choreography", "request_id": "f7fb8708-1dee-4026-a83f-42d3b0557993", "timestamp": "2026-02-08T22:43:52.782091Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Magic of the Adjoint Trick\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 39.6,\n      \"notes\": \"Main title in primary Dracula color\",\n      \"visual_description\": \"Large bold title text\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0... [truncated, total: 7496 chars]", "duration_seconds": 31.559, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:52.783092Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (7496 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:43:52.785096Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\2\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:43:52.785096Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 2, "attempt": 1, "plan_chars": 7496, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\2\\choreography_plan.json", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:43:52.786097Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'The Magic of the Adjoint Trick'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:43:52.788095Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 22425 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "implementation", "request_id": "160ac10d-feb4-433f-bb4d-6c92730e9812", "timestamp": "2026-02-08T22:43:52.786097Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Magic of the Adjoint Trick\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 39.6,\n      \"notes\": \"Main title in primary Dracula color\",\n      \"visual_description... [truncated, total: 22425 chars]", "prompt_length": 22425, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:43:52.789099Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:43:53.125398Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "adb36d53-816d-4384-8688-46dfdc83de1c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "adb36d53-816d-4384-8688-46dfdc83de1c", "service": "api"}}
{"timestamp": "2026-02-08T22:43:53.126398Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "93e4dd5e-3057-4108-a725-40798d4053a2", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "93e4dd5e-3057-4108-a725-40798d4053a2", "service": "api"}}
{"timestamp": "2026-02-08T22:43:53.133399Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "adb36d53-816d-4384-8688-46dfdc83de1c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "adb36d53-816d-4384-8688-46dfdc83de1c", "service": "api"}}
{"timestamp": "2026-02-08T22:43:53.134400Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "93e4dd5e-3057-4108-a725-40798d4053a2", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "93e4dd5e-3057-4108-a725-40798d4053a2", "service": "api"}}
{"timestamp": "2026-02-08T22:43:56.126922Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7d808044-3318-4675-8f6a-41ea3e0244a3", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "7d808044-3318-4675-8f6a-41ea3e0244a3", "service": "api"}}
{"timestamp": "2026-02-08T22:43:56.128932Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "14c0a275-1e47-4953-908b-cff89fae25ad", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "14c0a275-1e47-4953-908b-cff89fae25ad", "service": "api"}}
{"timestamp": "2026-02-08T22:43:56.133960Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7d808044-3318-4675-8f6a-41ea3e0244a3", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7d808044-3318-4675-8f6a-41ea3e0244a3", "service": "api"}}
{"timestamp": "2026-02-08T22:43:56.134968Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "14c0a275-1e47-4953-908b-cff89fae25ad", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "14c0a275-1e47-4953-908b-cff89fae25ad", "service": "api"}}
{"timestamp": "2026-02-08T22:43:59.127768Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "999ef002-563a-461f-96ab-f9a3dbd5456c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "999ef002-563a-461f-96ab-f9a3dbd5456c", "service": "api"}}
{"timestamp": "2026-02-08T22:43:59.128772Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e542a7e4-b883-4b1b-beeb-360ec3563bfe", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "e542a7e4-b883-4b1b-beeb-360ec3563bfe", "service": "api"}}
{"timestamp": "2026-02-08T22:43:59.135287Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "999ef002-563a-461f-96ab-f9a3dbd5456c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "999ef002-563a-461f-96ab-f9a3dbd5456c", "service": "api"}}
{"timestamp": "2026-02-08T22:43:59.136289Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e542a7e4-b883-4b1b-beeb-360ec3563bfe", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "e542a7e4-b883-4b1b-beeb-360ec3563bfe", "service": "api"}}
{"timestamp": "2026-02-08T22:44:02.124801Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e79b5815-7f97-44f5-af2e-6e885b918e26", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e79b5815-7f97-44f5-af2e-6e885b918e26", "service": "api"}}
{"timestamp": "2026-02-08T22:44:02.126800Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5c7bebf0-01c8-4f6b-aabf-a1367e9263d4", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "5c7bebf0-01c8-4f6b-aabf-a1367e9263d4", "service": "api"}}
{"timestamp": "2026-02-08T22:44:02.132325Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e79b5815-7f97-44f5-af2e-6e885b918e26", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e79b5815-7f97-44f5-af2e-6e885b918e26", "service": "api"}}
{"timestamp": "2026-02-08T22:44:02.133323Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5c7bebf0-01c8-4f6b-aabf-a1367e9263d4", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "5c7bebf0-01c8-4f6b-aabf-a1367e9263d4", "service": "api"}}
{"timestamp": "2026-02-08T22:44:05.123024Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "31279ee1-c385-4b8a-aff4-2553da71861d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "31279ee1-c385-4b8a-aff4-2553da71861d", "service": "api"}}
{"timestamp": "2026-02-08T22:44:05.124076Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b31323d8-a408-4fdb-970e-cef9805c869b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "b31323d8-a408-4fdb-970e-cef9805c869b", "service": "api"}}
{"timestamp": "2026-02-08T22:44:05.131010Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "31279ee1-c385-4b8a-aff4-2553da71861d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "31279ee1-c385-4b8a-aff4-2553da71861d", "service": "api"}}
{"timestamp": "2026-02-08T22:44:05.132558Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b31323d8-a408-4fdb-970e-cef9805c869b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "b31323d8-a408-4fdb-970e-cef9805c869b", "service": "api"}}
{"timestamp": "2026-02-08T22:44:08.129204Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "06dbd8b8-1cad-4abc-a5e7-451c15ea7cab", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "06dbd8b8-1cad-4abc-a5e7-451c15ea7cab", "service": "api"}}
{"timestamp": "2026-02-08T22:44:08.130200Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c0d4971e-0e27-49bc-bc4d-4166c57acfd2", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "c0d4971e-0e27-49bc-bc4d-4166c57acfd2", "service": "api"}}
{"timestamp": "2026-02-08T22:44:08.134717Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "06dbd8b8-1cad-4abc-a5e7-451c15ea7cab", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "06dbd8b8-1cad-4abc-a5e7-451c15ea7cab", "service": "api"}}
{"timestamp": "2026-02-08T22:44:08.135719Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c0d4971e-0e27-49bc-bc4d-4166c57acfd2", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "c0d4971e-0e27-49bc-bc4d-4166c57acfd2", "service": "api"}}
{"timestamp": "2026-02-08T22:44:11.128313Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5b563267-d461-4601-982b-a1aae6ae73d8", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "5b563267-d461-4601-982b-a1aae6ae73d8", "service": "api"}}
{"timestamp": "2026-02-08T22:44:11.130318Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ed0e9f11-1fbc-4776-8c2e-0910200e5794", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "ed0e9f11-1fbc-4776-8c2e-0910200e5794", "service": "api"}}
{"timestamp": "2026-02-08T22:44:11.135832Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5b563267-d461-4601-982b-a1aae6ae73d8", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "5b563267-d461-4601-982b-a1aae6ae73d8", "service": "api"}}
{"timestamp": "2026-02-08T22:44:11.136833Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ed0e9f11-1fbc-4776-8c2e-0910200e5794", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "ed0e9f11-1fbc-4776-8c2e-0910200e5794", "service": "api"}}
{"timestamp": "2026-02-08T22:44:14.129001Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e14a9cb4-c069-467e-a98a-34a88f421c01", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e14a9cb4-c069-467e-a98a-34a88f421c01", "service": "api"}}
{"timestamp": "2026-02-08T22:44:14.130002Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4c62ac9c-66e6-4140-9d01-ad1e5101678b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "4c62ac9c-66e6-4140-9d01-ad1e5101678b", "service": "api"}}
{"timestamp": "2026-02-08T22:44:14.136474Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e14a9cb4-c069-467e-a98a-34a88f421c01", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e14a9cb4-c069-467e-a98a-34a88f421c01", "service": "api"}}
{"timestamp": "2026-02-08T22:44:14.137474Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4c62ac9c-66e6-4140-9d01-ad1e5101678b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "4c62ac9c-66e6-4140-9d01-ad1e5101678b", "service": "api"}}
{"timestamp": "2026-02-08T22:44:15.900062Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 28.35s | Length: 4329 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 1, "job_id": "unknown", "stage": "implementation", "request_id": "8b5755ad-ef56-4952-a44f-6d8690b4a6af", "timestamp": "2026-02-08T22:44:15.898555Z", "response_text": "```python\nfrom manim import *\n\nclass SceneForwardModeAd(Scene):\n    def construct(self):\n        # Set background color based on theme\n        self.camera.background_color = \"#282A36\"\n        \n        # Color definitions from Dracula theme\n        primary_text = \"#F8F8F2\"\n        secondary_text = \"#BD93F9\"\n        accent_blue = \"#8BE9FD\"\n        accent_green = \"#50FA7B\"\n        accent_orange = \"#F... [truncated, total: 4329 chars]", "duration_seconds": 28.345, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:44:15.901075Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4315 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:44:15.903073Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\1\\scene_1.py (4445 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:44:15.903073Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 1, "attempt": 1, "code_chars": 4315, "pipeline_stage": "code_generated", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:44:15.904073Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Forward Mode: Propagating Perturbations'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:44:15.904073Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Forward Mode: Propagating Perturbations'", "module": "refiner", "function": "refine", "line": 129, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_title": "Forward Mode: Propagating Perturbations", "max_attempts": 5, "refinement_stage": "start", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:15.939026Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:17.128743Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "315f6471-c68b-48f9-b13a-df77bb416d9f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "315f6471-c68b-48f9-b13a-df77bb416d9f", "service": "api"}}
{"timestamp": "2026-02-08T22:44:17.131550Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e00d0ba4-4a89-437e-bab3-4e3b9afdae8c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "e00d0ba4-4a89-437e-bab3-4e3b9afdae8c", "service": "api"}}
{"timestamp": "2026-02-08T22:44:17.132564Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "315f6471-c68b-48f9-b13a-df77bb416d9f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "315f6471-c68b-48f9-b13a-df77bb416d9f", "service": "api"}}
{"timestamp": "2026-02-08T22:44:17.141854Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e00d0ba4-4a89-437e-bab3-4e3b9afdae8c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "e00d0ba4-4a89-437e-bab3-4e3b9afdae8c", "service": "api"}}
{"timestamp": "2026-02-08T22:44:20.129013Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e39771bb-ec9f-4414-bb56-67cffd8947ac", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e39771bb-ec9f-4414-bb56-67cffd8947ac", "service": "api"}}
{"timestamp": "2026-02-08T22:44:20.131030Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5646fe4b-0fbf-40ca-8f72-9b3c63ffff7a", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "5646fe4b-0fbf-40ca-8f72-9b3c63ffff7a", "service": "api"}}
{"timestamp": "2026-02-08T22:44:20.137410Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e39771bb-ec9f-4414-bb56-67cffd8947ac", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e39771bb-ec9f-4414-bb56-67cffd8947ac", "service": "api"}}
{"timestamp": "2026-02-08T22:44:20.139779Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5646fe4b-0fbf-40ca-8f72-9b3c63ffff7a", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "5646fe4b-0fbf-40ca-8f72-9b3c63ffff7a", "service": "api"}}
{"timestamp": "2026-02-08T22:44:22.090481Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 29.30s | Length: 5096 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "implementation", "request_id": "160ac10d-feb4-433f-bb4d-6c92730e9812", "timestamp": "2026-02-08T22:44:22.089256Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\n# VERSION: Manim Community v0.19.2\n# THEME: Dracula\n# Background: #282A36\n# Primary Text: #F8F8F2\n# Secondary Text: #BD93F9\n# Accents: #8BE9FD (TEAL), #50FA7B (GREEN), #FFB86C (ORANGE), #FF5555 (RED)\n\nclass SceneTheAdjointClaim(Scene):\n    def construct(self):\n        # Set background color explicitly to Dracula theme\n        self.camera.background_co... [truncated, total: 5096 chars]", "duration_seconds": 29.302, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:44:22.091488Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5082 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:44:22.093488Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\2\\scene_2.py (5230 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:44:22.093488Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 2, "attempt": 1, "code_chars": 5082, "pipeline_stage": "code_generated", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:44:22.094489Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'The Magic of the Adjoint Trick'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:44:22.094489Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'The Magic of the Adjoint Trick'", "module": "refiner", "function": "refine", "line": 129, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_title": "The Magic of the Adjoint Trick", "max_attempts": 5, "refinement_stage": "start", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:22.119417Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:23.128363Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0d2f941c-a6f2-4fe2-a6a2-f9ae15816235", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "0d2f941c-a6f2-4fe2-a6a2-f9ae15816235", "service": "api"}}
{"timestamp": "2026-02-08T22:44:23.130403Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "066aeaba-ff8b-4a90-9d27-7aa86c84e4cd", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "066aeaba-ff8b-4a90-9d27-7aa86c84e4cd", "service": "api"}}
{"timestamp": "2026-02-08T22:44:23.136607Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0d2f941c-a6f2-4fe2-a6a2-f9ae15816235", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "0d2f941c-a6f2-4fe2-a6a2-f9ae15816235", "service": "api"}}
{"timestamp": "2026-02-08T22:44:23.137112Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "066aeaba-ff8b-4a90-9d27-7aa86c84e4cd", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "066aeaba-ff8b-4a90-9d27-7aa86c84e4cd", "service": "api"}}
{"timestamp": "2026-02-08T22:44:26.129050Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "65135388-9d7c-42e5-a898-3b618cba82fd", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "65135388-9d7c-42e5-a898-3b618cba82fd", "service": "api"}}
{"timestamp": "2026-02-08T22:44:26.129050Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1601369e-dd0c-4964-b129-b7a81db4c130", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "1601369e-dd0c-4964-b129-b7a81db4c130", "service": "api"}}
{"timestamp": "2026-02-08T22:44:26.134578Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "65135388-9d7c-42e5-a898-3b618cba82fd", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "65135388-9d7c-42e5-a898-3b618cba82fd", "service": "api"}}
{"timestamp": "2026-02-08T22:44:26.135576Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1601369e-dd0c-4964-b129-b7a81db4c130", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "1601369e-dd0c-4964-b129-b7a81db4c130", "service": "api"}}
{"timestamp": "2026-02-08T22:44:29.129162Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6e626f8b-37bf-43b9-85d3-c34f10e6f885", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "6e626f8b-37bf-43b9-85d3-c34f10e6f885", "service": "api"}}
{"timestamp": "2026-02-08T22:44:29.130677Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bef4e056-2178-44a2-b8ed-967d87b75007", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "bef4e056-2178-44a2-b8ed-967d87b75007", "service": "api"}}
{"timestamp": "2026-02-08T22:44:29.136681Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6e626f8b-37bf-43b9-85d3-c34f10e6f885", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "6e626f8b-37bf-43b9-85d3-c34f10e6f885", "service": "api"}}
{"timestamp": "2026-02-08T22:44:29.137680Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bef4e056-2178-44a2-b8ed-967d87b75007", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "bef4e056-2178-44a2-b8ed-967d87b75007", "service": "api"}}
{"timestamp": "2026-02-08T22:44:31.861746Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Forward Mode: Propagating Perturbations' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:31.862753Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionForwardModeAd", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:44:31.863753Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\1\\scene_1.py (4578 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:44:31.864752Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 1 Scene: SectionForwardModeAd", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:44:32.127017Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "117987ae-1e2b-4960-937d-38e008700737", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "117987ae-1e2b-4960-937d-38e008700737", "service": "api"}}
{"timestamp": "2026-02-08T22:44:32.128386Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "685f74c7-c8c7-42de-8ff9-6b926601ecb3", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "685f74c7-c8c7-42de-8ff9-6b926601ecb3", "service": "api"}}
{"timestamp": "2026-02-08T22:44:32.133911Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "117987ae-1e2b-4960-937d-38e008700737", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "117987ae-1e2b-4960-937d-38e008700737", "service": "api"}}
{"timestamp": "2026-02-08T22:44:32.134913Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "685f74c7-c8c7-42de-8ff9-6b926601ecb3", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "685f74c7-c8c7-42de-8ff9-6b926601ecb3", "service": "api"}}
{"timestamp": "2026-02-08T22:44:35.128160Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6265a0c7-c9c4-468b-b5e6-2735d80bb40e", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "6265a0c7-c9c4-468b-b5e6-2735d80bb40e", "service": "api"}}
{"timestamp": "2026-02-08T22:44:35.129162Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3e20b898-d4f6-4348-8c94-f5ce6740bcca", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "3e20b898-d4f6-4348-8c94-f5ce6740bcca", "service": "api"}}
{"timestamp": "2026-02-08T22:44:35.136517Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6265a0c7-c9c4-468b-b5e6-2735d80bb40e", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "6265a0c7-c9c4-468b-b5e6-2735d80bb40e", "service": "api"}}
{"timestamp": "2026-02-08T22:44:35.137518Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3e20b898-d4f6-4348-8c94-f5ce6740bcca", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "3e20b898-d4f6-4348-8c94-f5ce6740bcca", "service": "api"}}
{"timestamp": "2026-02-08T22:44:35.542872Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 43.97s | Length: 4815 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 0, "job_id": "unknown", "stage": "implementation", "request_id": "8eb8f70c-62b8-4d7e-8921-252bf2a769d1", "timestamp": "2026-02-08T22:44:35.542872Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass SceneIntroFiniteDifferences(Scene):\n    def construct(self):\n        # Theme: Dracula\n        # background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]\n        self.camera.background_color = \"#282A36\"\n        \n        # Colors\n        PRIMARY_TEXT = \"#F8F8F2\"\n        SECONDARY_TEXT = \"#BD93F... [truncated, total: 4815 chars]", "duration_seconds": 43.969, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:44:35.543870Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4801 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:44:35.545871Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\0\\scene_0.py (4936 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:44:35.545871Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 0, "attempt": 1, "code_chars": 4801, "pipeline_stage": "code_generated", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:44:35.546870Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'The Problem with Finite Differences'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:44:35.546870Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'The Problem with Finite Differences'", "module": "refiner", "function": "refine", "line": 129, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_title": "The Problem with Finite Differences", "max_attempts": 5, "refinement_stage": "start", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:35.571171Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation FAILED (Turn 1/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"turn": 1, "validation_type": "static", "issue_count": 1, "section_title": "The Problem with Finite Differences", "issue_samples": [{"category": "security", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": 134, "is_certain": true, "is_uncertain": false, "whitelist_key": "security:d41d8cd9", "message": "Forbidden import: os"}], "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:35.572180Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: Forbidden import: os", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:35.573180Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 1)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:35.573180Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: general", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:44:35.575178Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 7098 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "general", "request_id": "f015b967-1e1c-434b-ab56-2d02f38729be", "timestamp": "2026-02-08T22:44:35.574179Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 7098 chars]", "prompt_length": 7098, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:44:35.577180Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:44:38.128473Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "578238e1-53c4-4e27-9225-e39c4d59d657", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "578238e1-53c4-4e27-9225-e39c4d59d657", "service": "api"}}
{"timestamp": "2026-02-08T22:44:38.129472Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4a27633f-663c-44d1-8e22-8e6a2c6e3690", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "4a27633f-663c-44d1-8e22-8e6a2c6e3690", "service": "api"}}
{"timestamp": "2026-02-08T22:44:38.134998Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "578238e1-53c4-4e27-9225-e39c4d59d657", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "578238e1-53c4-4e27-9225-e39c4d59d657", "service": "api"}}
{"timestamp": "2026-02-08T22:44:38.135998Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4a27633f-663c-44d1-8e22-8e6a2c6e3690", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "4a27633f-663c-44d1-8e22-8e6a2c6e3690", "service": "api"}}
{"timestamp": "2026-02-08T22:44:38.871660Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 3.30s | Length: 339 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 0, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "general", "request_id": "f015b967-1e1c-434b-ab56-2d02f38729be", "timestamp": "2026-02-08T22:44:38.871660Z", "response_text": "{\n  \"analysis\": \"The script contains a forbidden 'os' import and system call in the __main__ block, which is not allowed in this environment.\",\n  \"edits\": [\n    {\n      \"search_text\": \"if __name__ == \\\"__main__\\\":\\n    import os\\n    os.system(\\\"manim -pql scene.py SceneIntroFiniteDifferences\\\")\",\n      \"replacement_text\": \"\"\n    }\n  ]\n}", "duration_seconds": 3.296, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:44:38.873059Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 1 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:44:38.873059Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:44:38.874066Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 1 successful, 0 failed (out of 1 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"successful_edits": 1, "failed_edits": 0, "total_edits": 1, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:44:38.874066Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 4801 -> 4696)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:38.896192Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 2)", "module": "refiner", "function": "refine", "line": 158, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:41.128994Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "64adf8e4-1369-4d18-8a6c-0753090e040f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "64adf8e4-1369-4d18-8a6c-0753090e040f", "service": "api"}}
{"timestamp": "2026-02-08T22:44:41.129647Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "55ed9d23-90c0-445c-bc65-c053243d9c75", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "55ed9d23-90c0-445c-bc65-c053243d9c75", "service": "api"}}
{"timestamp": "2026-02-08T22:44:41.136690Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "64adf8e4-1369-4d18-8a6c-0753090e040f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "64adf8e4-1369-4d18-8a6c-0753090e040f", "service": "api"}}
{"timestamp": "2026-02-08T22:44:41.137670Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "55ed9d23-90c0-445c-bc65-c053243d9c75", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "55ed9d23-90c0-445c-bc65-c053243d9c75", "service": "api"}}
{"timestamp": "2026-02-08T22:44:44.125975Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2d128461-2a09-4f26-b1dd-3515bba0d53c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "2d128461-2a09-4f26-b1dd-3515bba0d53c", "service": "api"}}
{"timestamp": "2026-02-08T22:44:44.126988Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "94cd7720-1ea1-4d94-923c-daa2dd8cb737", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "94cd7720-1ea1-4d94-923c-daa2dd8cb737", "service": "api"}}
{"timestamp": "2026-02-08T22:44:44.133719Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2d128461-2a09-4f26-b1dd-3515bba0d53c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "2d128461-2a09-4f26-b1dd-3515bba0d53c", "service": "api"}}
{"timestamp": "2026-02-08T22:44:44.134722Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "94cd7720-1ea1-4d94-923c-daa2dd8cb737", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "94cd7720-1ea1-4d94-923c-daa2dd8cb737", "service": "api"}}
{"timestamp": "2026-02-08T22:44:46.351738Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'The Magic of the Adjoint Trick' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:46.353739Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionTheAdjointClaim", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:44:46.355087Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\2\\scene_2.py (5363 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:44:46.356088Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 2 Scene: SectionTheAdjointClaim", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:44:47.125527Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ffd3d4ef-f707-407a-a29a-51b3cbc8b02c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "ffd3d4ef-f707-407a-a29a-51b3cbc8b02c", "service": "api"}}
{"timestamp": "2026-02-08T22:44:47.126621Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3336bb2d-a8ea-410f-92be-6d5f81d8d1b9", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "3336bb2d-a8ea-410f-92be-6d5f81d8d1b9", "service": "api"}}
{"timestamp": "2026-02-08T22:44:47.131574Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ffd3d4ef-f707-407a-a29a-51b3cbc8b02c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "ffd3d4ef-f707-407a-a29a-51b3cbc8b02c", "service": "api"}}
{"timestamp": "2026-02-08T22:44:47.133575Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3336bb2d-a8ea-410f-92be-6d5f81d8d1b9", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "3336bb2d-a8ea-410f-92be-6d5f81d8d1b9", "service": "api"}}
{"timestamp": "2026-02-08T22:44:48.398354Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\1\\videos\\scene_1\\480p15\\section_1.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:44:48.537632Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Merging video (45.5s) with audio (45.6s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:44:49.511966Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:44:49.514975Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 1/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "sections", "progress": 14, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:44:49.514975Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 2/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 1, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:44:49.515979Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 4/7: Reverse Mode: The Backward Pass", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 3, "total_sections": 7, "title": "Reverse Mode: The Backward Pass", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:44:49.516973Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Processing 5 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:44:50.127786Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "515311cd-fc04-460a-9f9f-85389263e95c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "515311cd-fc04-460a-9f9f-85389263e95c", "service": "api"}}
{"timestamp": "2026-02-08T22:44:50.129272Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "324fccdf-a5ed-4d44-b01b-eae7add20600", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "324fccdf-a5ed-4d44-b01b-eae7add20600", "service": "api"}}
{"timestamp": "2026-02-08T22:44:50.134788Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "515311cd-fc04-460a-9f9f-85389263e95c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "515311cd-fc04-460a-9f9f-85389263e95c", "service": "api"}}
{"timestamp": "2026-02-08T22:44:50.135817Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "324fccdf-a5ed-4d44-b01b-eae7add20600", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "324fccdf-a5ed-4d44-b01b-eae7add20600", "service": "api"}}
{"timestamp": "2026-02-08T22:44:52.716291Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'The Problem with Finite Differences' (Turn 2)", "module": "refiner", "function": "refine", "line": 191, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempts": 2, "static_failures": 1, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 1, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:44:52.717291Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionIntroFiniteDifferences", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:44:52.719290Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\0\\scene_0.py (4962 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:44:52.719290Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 0 Scene: SectionIntroFiniteDifferences", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:44:53.127484Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e4ad6c85-e05d-428d-ac9c-3eba4f023dbb", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e4ad6c85-e05d-428d-ac9c-3eba4f023dbb", "service": "api"}}
{"timestamp": "2026-02-08T22:44:53.128483Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c5569095-4dcf-4b58-ab53-a65cf9beb186", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "c5569095-4dcf-4b58-ab53-a65cf9beb186", "service": "api"}}
{"timestamp": "2026-02-08T22:44:53.133587Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e4ad6c85-e05d-428d-ac9c-3eba4f023dbb", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e4ad6c85-e05d-428d-ac9c-3eba4f023dbb", "service": "api"}}
{"timestamp": "2026-02-08T22:44:53.134586Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c5569095-4dcf-4b58-ab53-a65cf9beb186", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "c5569095-4dcf-4b58-ab53-a65cf9beb186", "service": "api"}}
{"timestamp": "2026-02-08T22:44:56.128010Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d7df2a5d-cc76-447a-b4d5-d3dec87b1f65", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "d7df2a5d-cc76-447a-b4d5-d3dec87b1f65", "service": "api"}}
{"timestamp": "2026-02-08T22:44:56.129010Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "46db25be-2c29-4778-8bf4-9a0ecf9d5156", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "46db25be-2c29-4778-8bf4-9a0ecf9d5156", "service": "api"}}
{"timestamp": "2026-02-08T22:44:56.130517Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d7df2a5d-cc76-447a-b4d5-d3dec87b1f65", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "d7df2a5d-cc76-447a-b4d5-d3dec87b1f65", "service": "api"}}
{"timestamp": "2026-02-08T22:44:56.136554Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "46db25be-2c29-4778-8bf4-9a0ecf9d5156", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "46db25be-2c29-4778-8bf4-9a0ecf9d5156", "service": "api"}}
{"timestamp": "2026-02-08T22:44:57.089749Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Total audio duration = 37.7s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:44:57.175285Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Generating unified video using NEW Pipeline (37.7s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:44:57.177285Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 3 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:44:57.177285Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Reverse Mode: The Backward Pass'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:44:57.180246Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9429 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "350079aa-b6b6-4eb3-9b1c-54e5be9839ed", "timestamp": "2026-02-08T22:44:57.178791Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Reverse Mode: The Backward Pass\n**Duration**: 37.656000000000006s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:... [truncated, total: 9429 chars]", "prompt_length": 9429, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:44:57.182769Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:44:59.128751Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f6c6285d-98c2-490c-a0ca-ab6f2ec8de6d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "f6c6285d-98c2-490c-a0ca-ab6f2ec8de6d", "service": "api"}}
{"timestamp": "2026-02-08T22:44:59.129754Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "76ec7bfd-4f2f-48aa-ac0c-3bef37badcdc", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "76ec7bfd-4f2f-48aa-ac0c-3bef37badcdc", "service": "api"}}
{"timestamp": "2026-02-08T22:44:59.136279Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f6c6285d-98c2-490c-a0ca-ab6f2ec8de6d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "f6c6285d-98c2-490c-a0ca-ab6f2ec8de6d", "service": "api"}}
{"timestamp": "2026-02-08T22:44:59.137279Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "76ec7bfd-4f2f-48aa-ac0c-3bef37badcdc", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "76ec7bfd-4f2f-48aa-ac0c-3bef37badcdc", "service": "api"}}
{"timestamp": "2026-02-08T22:45:01.463863Z", "level": "ERROR", "logger": "app.core.llm_logger", "message": "LLM Error | Duration: 4.29s | Error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "module": "llm_logger", "function": "log_response", "line": 486, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "350079aa-b6b6-4eb3-9b1c-54e5be9839ed", "timestamp": "2026-02-08T22:45:01.463863Z", "response_text": "", "duration_seconds": 4.285, "success": false, "error": "503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:02.126900Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7e057774-5df4-478c-b434-671239d6e1c4", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "7e057774-5df4-478c-b434-671239d6e1c4", "service": "api"}}
{"timestamp": "2026-02-08T22:45:02.129339Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b490699b-2d6b-4cab-9e4e-132adb1e553b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "b490699b-2d6b-4cab-9e4e-132adb1e553b", "service": "api"}}
{"timestamp": "2026-02-08T22:45:02.135856Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7e057774-5df4-478c-b434-671239d6e1c4", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7e057774-5df4-478c-b434-671239d6e1c4", "service": "api"}}
{"timestamp": "2026-02-08T22:45:02.136857Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b490699b-2d6b-4cab-9e4e-132adb1e553b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "b490699b-2d6b-4cab-9e4e-132adb1e553b", "service": "api"}}
{"timestamp": "2026-02-08T22:45:02.471861Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9429 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "12d111f2-88a1-4712-ad88-474f0aaaf44a", "timestamp": "2026-02-08T22:45:02.470854Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Reverse Mode: The Backward Pass\n**Duration**: 37.656000000000006s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:... [truncated, total: 9429 chars]", "prompt_length": 9429, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:02.473867Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:45:05.126981Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "079bfaec-4fb6-46ce-a515-f3177bc88cbc", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "079bfaec-4fb6-46ce-a515-f3177bc88cbc", "service": "api"}}
{"timestamp": "2026-02-08T22:45:05.129001Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "06d64bfb-529c-4602-a54c-e4b14444ec3d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "06d64bfb-529c-4602-a54c-e4b14444ec3d", "service": "api"}}
{"timestamp": "2026-02-08T22:45:05.138544Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "079bfaec-4fb6-46ce-a515-f3177bc88cbc", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "079bfaec-4fb6-46ce-a515-f3177bc88cbc", "service": "api"}}
{"timestamp": "2026-02-08T22:45:05.140544Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "06d64bfb-529c-4602-a54c-e4b14444ec3d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "06d64bfb-529c-4602-a54c-e4b14444ec3d", "service": "api"}}
{"timestamp": "2026-02-08T22:45:06.687355Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\2\\videos\\scene_2\\480p15\\section_2.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:45:06.828916Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Merging video (39.9s) with audio (39.6s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:07.132262Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\0\\videos\\scene_0\\480p15\\section_0.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:45:07.319383Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Merging video (43.6s) with audio (43.8s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:07.672700Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:07.674901Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 2/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "sections", "progress": 28, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:45:07.674901Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 3/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 2, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:45:07.676408Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 5/7: Backpropagation and Neural Networks", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 4, "total_sections": 7, "title": "Backpropagation and Neural Networks", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:45:07.676408Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Processing 6 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:08.144582Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fd7bcd4f-4642-4dc3-a695-d38d1fa32584", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "fd7bcd4f-4642-4dc3-a695-d38d1fa32584", "service": "api"}}
{"timestamp": "2026-02-08T22:45:08.145582Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "af55f372-8732-41ab-a9d2-d3a049d48666", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "af55f372-8732-41ab-a9d2-d3a049d48666", "service": "api"}}
{"timestamp": "2026-02-08T22:45:08.153051Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fd7bcd4f-4642-4dc3-a695-d38d1fa32584", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "fd7bcd4f-4642-4dc3-a695-d38d1fa32584", "service": "api"}}
{"timestamp": "2026-02-08T22:45:08.154051Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "af55f372-8732-41ab-a9d2-d3a049d48666", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "af55f372-8732-41ab-a9d2-d3a049d48666", "service": "api"}}
{"timestamp": "2026-02-08T22:45:08.208970Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:08.211498Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 3/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "sections", "progress": 42, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:45:08.211498Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 1/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 0, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:45:08.212504Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 6/7: Adjoints in Linear and Non-linear Systems", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 5, "total_sections": 7, "title": "Adjoints in Linear and Non-linear Systems", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:45:08.213513Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Processing 6 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:11.370926Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0418b159-e735-4436-8274-78c72a5f7870", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "0418b159-e735-4436-8274-78c72a5f7870", "service": "api"}}
{"timestamp": "2026-02-08T22:45:11.370926Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "196e9635-0186-4092-98de-842bf8af3f10", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "196e9635-0186-4092-98de-842bf8af3f10", "service": "api"}}
{"timestamp": "2026-02-08T22:45:11.380957Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0418b159-e735-4436-8274-78c72a5f7870", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "0418b159-e735-4436-8274-78c72a5f7870", "service": "api"}}
{"timestamp": "2026-02-08T22:45:11.381965Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "196e9635-0186-4092-98de-842bf8af3f10", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "196e9635-0186-4092-98de-842bf8af3f10", "service": "api"}}
{"timestamp": "2026-02-08T22:45:14.125955Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b39bb10f-ede3-49fa-a95f-65e801d71c27", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "b39bb10f-ede3-49fa-a95f-65e801d71c27", "service": "api"}}
{"timestamp": "2026-02-08T22:45:14.127954Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "00e91e54-f179-4a04-a2b0-0c3c510c803b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "00e91e54-f179-4a04-a2b0-0c3c510c803b", "service": "api"}}
{"timestamp": "2026-02-08T22:45:14.133480Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b39bb10f-ede3-49fa-a95f-65e801d71c27", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "b39bb10f-ede3-49fa-a95f-65e801d71c27", "service": "api"}}
{"timestamp": "2026-02-08T22:45:14.134481Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "00e91e54-f179-4a04-a2b0-0c3c510c803b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "00e91e54-f179-4a04-a2b0-0c3c510c803b", "service": "api"}}
{"timestamp": "2026-02-08T22:45:15.916030Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Total audio duration = 38.7s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:15.996457Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Generating unified video using NEW Pipeline (38.7s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:15.997461Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 5 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:45:15.998460Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Adjoints in Linear and Non-linear Systems'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:45:16.001956Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 11320 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 5, "job_id": "unknown", "stage": "choreography", "request_id": "f4eebf36-0b1c-480d-80ff-63a7a9371960", "timestamp": "2026-02-08T22:45:15.999917Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Adjoints in Linear and Non-linear Systems\n**Duration**: 38.663999999999994s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual S... [truncated, total: 11320 chars]", "prompt_length": 11320, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:16.004964Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:45:16.825420Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Total audio duration = 36.1s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:16.903892Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Generating unified video using NEW Pipeline (36.1s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:45:16.905893Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 4 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:45:16.906895Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Backpropagation and Neural Networks'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:45:16.909893Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10218 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 4, "job_id": "unknown", "stage": "choreography", "request_id": "fedebae7-ed81-4421-8f4d-c41889ba5747", "timestamp": "2026-02-08T22:45:16.907896Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Backpropagation and Neural Networks\n**Duration**: 36.096s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMode=co... [truncated, total: 10218 chars]", "prompt_length": 10218, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:16.914404Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:45:17.126941Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b3b0c182-232d-4b13-8d13-062dc3912c0a", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "b3b0c182-232d-4b13-8d13-062dc3912c0a", "service": "api"}}
{"timestamp": "2026-02-08T22:45:17.127946Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5d0c33d1-5b6f-4f5d-9bdb-e1fc57362737", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "5d0c33d1-5b6f-4f5d-9bdb-e1fc57362737", "service": "api"}}
{"timestamp": "2026-02-08T22:45:17.127946Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b3b0c182-232d-4b13-8d13-062dc3912c0a", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "b3b0c182-232d-4b13-8d13-062dc3912c0a", "service": "api"}}
{"timestamp": "2026-02-08T22:45:17.136472Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5d0c33d1-5b6f-4f5d-9bdb-e1fc57362737", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "5d0c33d1-5b6f-4f5d-9bdb-e1fc57362737", "service": "api"}}
{"timestamp": "2026-02-08T22:45:19.219747Z", "level": "ERROR", "logger": "app.core.llm_logger", "message": "LLM Error | Duration: 3.22s | Error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "module": "llm_logger", "function": "log_response", "line": 486, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 5, "job_id": "unknown", "stage": "choreography", "request_id": "f4eebf36-0b1c-480d-80ff-63a7a9371960", "timestamp": "2026-02-08T22:45:19.218747Z", "response_text": "", "duration_seconds": 3.218, "success": false, "error": "503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:20.125843Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "147f3e20-0403-427c-9e31-572492dc18c9", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "147f3e20-0403-427c-9e31-572492dc18c9", "service": "api"}}
{"timestamp": "2026-02-08T22:45:20.126844Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7ad5b0fa-6a28-4a02-aaa2-fe83f5a72175", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "7ad5b0fa-6a28-4a02-aaa2-fe83f5a72175", "service": "api"}}
{"timestamp": "2026-02-08T22:45:20.134129Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "147f3e20-0403-427c-9e31-572492dc18c9", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "147f3e20-0403-427c-9e31-572492dc18c9", "service": "api"}}
{"timestamp": "2026-02-08T22:45:20.135129Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7ad5b0fa-6a28-4a02-aaa2-fe83f5a72175", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "7ad5b0fa-6a28-4a02-aaa2-fe83f5a72175", "service": "api"}}
{"timestamp": "2026-02-08T22:45:20.225571Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 11320 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 5, "job_id": "unknown", "stage": "choreography", "request_id": "886cded5-f2d8-4564-a285-aa35f142d185", "timestamp": "2026-02-08T22:45:20.224573Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Adjoints in Linear and Non-linear Systems\n**Duration**: 38.663999999999994s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual S... [truncated, total: 11320 chars]", "prompt_length": 11320, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:20.228570Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:45:23.125998Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aeeee708-4d9a-4080-ac8e-c36e8ed1ed3e", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "aeeee708-4d9a-4080-ac8e-c36e8ed1ed3e", "service": "api"}}
{"timestamp": "2026-02-08T22:45:23.126996Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2098a623-7d86-4da9-a85f-2922a4ff9e97", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "2098a623-7d86-4da9-a85f-2922a4ff9e97", "service": "api"}}
{"timestamp": "2026-02-08T22:45:23.132511Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aeeee708-4d9a-4080-ac8e-c36e8ed1ed3e", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "aeeee708-4d9a-4080-ac8e-c36e8ed1ed3e", "service": "api"}}
{"timestamp": "2026-02-08T22:45:23.133519Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2098a623-7d86-4da9-a85f-2922a4ff9e97", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "2098a623-7d86-4da9-a85f-2922a4ff9e97", "service": "api"}}
{"timestamp": "2026-02-08T22:45:26.125991Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9220fad8-e099-423f-9b9d-640ec38d0d3d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "9220fad8-e099-423f-9b9d-640ec38d0d3d", "service": "api"}}
{"timestamp": "2026-02-08T22:45:26.126994Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e34845f5-168f-406f-a89d-285ea6baa45b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "e34845f5-168f-406f-a89d-285ea6baa45b", "service": "api"}}
{"timestamp": "2026-02-08T22:45:26.134252Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9220fad8-e099-423f-9b9d-640ec38d0d3d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "9220fad8-e099-423f-9b9d-640ec38d0d3d", "service": "api"}}
{"timestamp": "2026-02-08T22:45:26.135253Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e34845f5-168f-406f-a89d-285ea6baa45b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "e34845f5-168f-406f-a89d-285ea6baa45b", "service": "api"}}
{"timestamp": "2026-02-08T22:45:29.046616Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 26.57s | Length: 6325 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "12d111f2-88a1-4712-ad88-474f0aaaf44a", "timestamp": "2026-02-08T22:45:29.045618Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Reverse Mode: The Backward Pass\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 37.656,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n    },\n    {\n      \"id\": \"forward_graph\",\n      \"type\": \"Text\",\n      \"text\": \"x \u2192 h\u2081 \u2192 h\u2082 \u2192 y\",\n      ... [truncated, total: 6325 chars]", "duration_seconds": 26.575, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:29.047620Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (6325 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:45:29.049617Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\3\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:45:29.049617Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 3, "attempt": 1, "plan_chars": 6325, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\3\\choreography_plan.json", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:45:29.049617Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Reverse Mode: The Backward Pass'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:45:29.053127Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 21249 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "implementation", "request_id": "0d39d611-5cd7-4da7-a581-a001f04ebe31", "timestamp": "2026-02-08T22:45:29.051122Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Reverse Mode: The Backward Pass\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 37.656,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relatio... [truncated, total: 21249 chars]", "prompt_length": 21249, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:29.054131Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:45:29.126620Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7be5e740-8935-448b-ab33-10d6d78b95a1", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "7be5e740-8935-448b-ab33-10d6d78b95a1", "service": "api"}}
{"timestamp": "2026-02-08T22:45:29.127124Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f3094dc5-ecc2-4385-90cd-775f2df7d456", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "f3094dc5-ecc2-4385-90cd-775f2df7d456", "service": "api"}}
{"timestamp": "2026-02-08T22:45:29.132330Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7be5e740-8935-448b-ab33-10d6d78b95a1", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7be5e740-8935-448b-ab33-10d6d78b95a1", "service": "api"}}
{"timestamp": "2026-02-08T22:45:29.133338Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f3094dc5-ecc2-4385-90cd-775f2df7d456", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "f3094dc5-ecc2-4385-90cd-775f2df7d456", "service": "api"}}
{"timestamp": "2026-02-08T22:45:32.125591Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8059ba0a-dafd-4b69-945c-01d4960a967f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "8059ba0a-dafd-4b69-945c-01d4960a967f", "service": "api"}}
{"timestamp": "2026-02-08T22:45:32.126593Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1c67ad0e-17dd-458a-b978-dc92bc695cdf", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "1c67ad0e-17dd-458a-b978-dc92bc695cdf", "service": "api"}}
{"timestamp": "2026-02-08T22:45:32.132393Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8059ba0a-dafd-4b69-945c-01d4960a967f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "8059ba0a-dafd-4b69-945c-01d4960a967f", "service": "api"}}
{"timestamp": "2026-02-08T22:45:32.133394Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1c67ad0e-17dd-458a-b978-dc92bc695cdf", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "1c67ad0e-17dd-458a-b978-dc92bc695cdf", "service": "api"}}
{"timestamp": "2026-02-08T22:45:35.126481Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "83b1d54b-2a76-4849-ba35-c7b637526f06", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "83b1d54b-2a76-4849-ba35-c7b637526f06", "service": "api"}}
{"timestamp": "2026-02-08T22:45:35.127483Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "24804733-5124-48bd-9be7-81c8a5643456", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "24804733-5124-48bd-9be7-81c8a5643456", "service": "api"}}
{"timestamp": "2026-02-08T22:45:35.133520Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "83b1d54b-2a76-4849-ba35-c7b637526f06", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "83b1d54b-2a76-4849-ba35-c7b637526f06", "service": "api"}}
{"timestamp": "2026-02-08T22:45:35.134523Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "24804733-5124-48bd-9be7-81c8a5643456", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "24804733-5124-48bd-9be7-81c8a5643456", "service": "api"}}
{"timestamp": "2026-02-08T22:45:38.127281Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "91cb9d2d-e98e-4606-899a-e39cacf23e32", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "91cb9d2d-e98e-4606-899a-e39cacf23e32", "service": "api"}}
{"timestamp": "2026-02-08T22:45:38.129287Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a902e62b-9b24-4b40-a073-f697b78ffe48", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "a902e62b-9b24-4b40-a073-f697b78ffe48", "service": "api"}}
{"timestamp": "2026-02-08T22:45:38.136816Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "91cb9d2d-e98e-4606-899a-e39cacf23e32", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "91cb9d2d-e98e-4606-899a-e39cacf23e32", "service": "api"}}
{"timestamp": "2026-02-08T22:45:38.137819Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a902e62b-9b24-4b40-a073-f697b78ffe48", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "a902e62b-9b24-4b40-a073-f697b78ffe48", "service": "api"}}
{"timestamp": "2026-02-08T22:45:41.125187Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5903ccf4-ad3d-4900-9741-1f35437d451a", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "5903ccf4-ad3d-4900-9741-1f35437d451a", "service": "api"}}
{"timestamp": "2026-02-08T22:45:41.126185Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f8d40b1d-00f3-4920-8223-7e3118bf109f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "f8d40b1d-00f3-4920-8223-7e3118bf109f", "service": "api"}}
{"timestamp": "2026-02-08T22:45:41.133812Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5903ccf4-ad3d-4900-9741-1f35437d451a", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "5903ccf4-ad3d-4900-9741-1f35437d451a", "service": "api"}}
{"timestamp": "2026-02-08T22:45:41.134818Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f8d40b1d-00f3-4920-8223-7e3118bf109f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "f8d40b1d-00f3-4920-8223-7e3118bf109f", "service": "api"}}
{"timestamp": "2026-02-08T22:45:42.532891Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 25.62s | Length: 8269 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 4, "job_id": "unknown", "stage": "choreography", "request_id": "fedebae7-ed81-4421-8f4d-c41889ba5747", "timestamp": "2026-02-08T22:45:42.532891Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"Backpropagation\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 4.848,\n      \"notes\": \"Primary title in Dracula purple.\",\n      \"visual_description\": \"Bold text in #BD93F9.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n    },\n    ... [truncated, total: 8269 chars]", "duration_seconds": 25.624, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:42.533892Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (8269 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:45:42.535892Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\4\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:45:42.536894Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 4, "attempt": 1, "plan_chars": 8269, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\4\\choreography_plan.json", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:45:42.536894Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Backpropagation and Neural Networks'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:45:42.538894Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 23794 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 4, "job_id": "unknown", "stage": "implementation", "request_id": "dc1360bc-1a37-4fe6-9eed-743896a61511", "timestamp": "2026-02-08T22:45:42.537893Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"Backpropagation\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 4.848,\n      \"notes\": \"Primary title in Dracula purple.\",\n      \"visual_description\": \"Bold tex... [truncated, total: 23794 chars]", "prompt_length": 23794, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:42.539893Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:45:44.124940Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d6c909e2-a1cc-431f-971a-7cbba6d703ca", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "d6c909e2-a1cc-431f-971a-7cbba6d703ca", "service": "api"}}
{"timestamp": "2026-02-08T22:45:44.125939Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "576eec3c-76a9-4f33-a4df-cb8d31d1506b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "576eec3c-76a9-4f33-a4df-cb8d31d1506b", "service": "api"}}
{"timestamp": "2026-02-08T22:45:44.133042Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d6c909e2-a1cc-431f-971a-7cbba6d703ca", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "d6c909e2-a1cc-431f-971a-7cbba6d703ca", "service": "api"}}
{"timestamp": "2026-02-08T22:45:44.134549Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "576eec3c-76a9-4f33-a4df-cb8d31d1506b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "576eec3c-76a9-4f33-a4df-cb8d31d1506b", "service": "api"}}
{"timestamp": "2026-02-08T22:45:47.126169Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "08ebe91b-9d99-4fe3-be5b-8f8b70f00576", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "08ebe91b-9d99-4fe3-be5b-8f8b70f00576", "service": "api"}}
{"timestamp": "2026-02-08T22:45:47.127170Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3459a1a7-b0fa-4320-82c9-4265feb4d8b8", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "3459a1a7-b0fa-4320-82c9-4265feb4d8b8", "service": "api"}}
{"timestamp": "2026-02-08T22:45:47.134686Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "08ebe91b-9d99-4fe3-be5b-8f8b70f00576", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "08ebe91b-9d99-4fe3-be5b-8f8b70f00576", "service": "api"}}
{"timestamp": "2026-02-08T22:45:47.134686Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3459a1a7-b0fa-4320-82c9-4265feb4d8b8", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "3459a1a7-b0fa-4320-82c9-4265feb4d8b8", "service": "api"}}
{"timestamp": "2026-02-08T22:45:48.229103Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 28.00s | Length: 8915 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 5, "job_id": "unknown", "stage": "choreography", "request_id": "886cded5-f2d8-4564-a285-aa35f142d185", "timestamp": "2026-02-08T22:45:48.228103Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Adjoints in Linear & Non-linear Systems\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 38.664,\n      \"notes\": \"Main title in Dracula primary text color.\",\n      \"visual_description\": \"Bold text at the top of the screen.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relati... [truncated, total: 8915 chars]", "duration_seconds": 28.004, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:48.230105Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (8915 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:45:48.232138Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\5\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:45:48.232138Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 5, "attempt": 1, "plan_chars": 8915, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\5\\choreography_plan.json", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:45:48.233137Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Adjoints in Linear and Non-linear Systems'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:45:48.235136Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 25377 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 5, "job_id": "unknown", "stage": "implementation", "request_id": "f667b875-57ef-49c5-8279-e84e96366b36", "timestamp": "2026-02-08T22:45:48.233137Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Adjoints in Linear & Non-linear Systems\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 38.664,\n      \"notes\": \"Main title in Dracula primary text color.\",\n      \"v... [truncated, total: 25377 chars]", "prompt_length": 25377, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:48.236138Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:45:50.124650Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "59bdb12c-85bf-41f6-bc45-d94c2d625cf9", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "59bdb12c-85bf-41f6-bc45-d94c2d625cf9", "service": "api"}}
{"timestamp": "2026-02-08T22:45:50.126850Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "26853e7b-9da4-44f5-88c3-78acacfc640e", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "26853e7b-9da4-44f5-88c3-78acacfc640e", "service": "api"}}
{"timestamp": "2026-02-08T22:45:50.134332Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "59bdb12c-85bf-41f6-bc45-d94c2d625cf9", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "59bdb12c-85bf-41f6-bc45-d94c2d625cf9", "service": "api"}}
{"timestamp": "2026-02-08T22:45:50.135341Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "26853e7b-9da4-44f5-88c3-78acacfc640e", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "26853e7b-9da4-44f5-88c3-78acacfc640e", "service": "api"}}
{"timestamp": "2026-02-08T22:45:53.125885Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c20fa08a-e6c1-43ab-843c-19ac363d21db", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "c20fa08a-e6c1-43ab-843c-19ac363d21db", "service": "api"}}
{"timestamp": "2026-02-08T22:45:53.126895Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5cb8fee4-24b2-4f4e-be4b-391f524b8fea", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "5cb8fee4-24b2-4f4e-be4b-391f524b8fea", "service": "api"}}
{"timestamp": "2026-02-08T22:45:53.132406Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c20fa08a-e6c1-43ab-843c-19ac363d21db", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "c20fa08a-e6c1-43ab-843c-19ac363d21db", "service": "api"}}
{"timestamp": "2026-02-08T22:45:53.133411Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5cb8fee4-24b2-4f4e-be4b-391f524b8fea", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "5cb8fee4-24b2-4f4e-be4b-391f524b8fea", "service": "api"}}
{"timestamp": "2026-02-08T22:45:55.326611Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 26.27s | Length: 5605 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "implementation", "request_id": "0d39d611-5cd7-4da7-a581-a001f04ebe31", "timestamp": "2026-02-08T22:45:55.325607Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass SceneReverseModeMechanics(Scene):\n    \"\"\"\n    An educational animation demonstrating the Backward Pass in Reverse Mode \n    Automatic Differentiation, following the Dracula theme and precise timing.\n    \"\"\"\n    def construct(self):\n        # --- THEME CONFIGURATION ---\n        self.camera.background_color = \"#282A36\"\n        primary_text_color =... [truncated, total: 5605 chars]", "duration_seconds": 26.273, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:45:55.327608Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5591 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:45:55.329607Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\3\\scene_3.py (5761 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:45:55.329607Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 3, "attempt": 1, "code_chars": 5591, "pipeline_stage": "code_generated", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:45:55.329607Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Reverse Mode: The Backward Pass'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:45:55.329607Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Reverse Mode: The Backward Pass'", "module": "refiner", "function": "refine", "line": 129, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_title": "Reverse Mode: The Backward Pass", "max_attempts": 5, "refinement_stage": "start", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:45:55.356243Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:45:56.125410Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e41364ab-17bd-45b2-95c5-063f8e615c43", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e41364ab-17bd-45b2-95c5-063f8e615c43", "service": "api"}}
{"timestamp": "2026-02-08T22:45:56.126420Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "af3d462a-ef93-4567-8917-a06898550e4f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "af3d462a-ef93-4567-8917-a06898550e4f", "service": "api"}}
{"timestamp": "2026-02-08T22:45:56.135235Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e41364ab-17bd-45b2-95c5-063f8e615c43", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e41364ab-17bd-45b2-95c5-063f8e615c43", "service": "api"}}
{"timestamp": "2026-02-08T22:45:56.136235Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "af3d462a-ef93-4567-8917-a06898550e4f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "af3d462a-ef93-4567-8917-a06898550e4f", "service": "api"}}
{"timestamp": "2026-02-08T22:45:59.124543Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7e9472d5-8d51-4d54-8682-83776d058f10", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "7e9472d5-8d51-4d54-8682-83776d058f10", "service": "api"}}
{"timestamp": "2026-02-08T22:45:59.125541Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "afe88555-d3b2-4ef8-b03b-fb8231cab12c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "afe88555-d3b2-4ef8-b03b-fb8231cab12c", "service": "api"}}
{"timestamp": "2026-02-08T22:45:59.131558Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7e9472d5-8d51-4d54-8682-83776d058f10", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7e9472d5-8d51-4d54-8682-83776d058f10", "service": "api"}}
{"timestamp": "2026-02-08T22:45:59.132562Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "afe88555-d3b2-4ef8-b03b-fb8231cab12c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "afe88555-d3b2-4ef8-b03b-fb8231cab12c", "service": "api"}}
{"timestamp": "2026-02-08T22:46:02.124750Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8c92da86-e768-4d55-ad9a-218098eab4a4", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "8c92da86-e768-4d55-ad9a-218098eab4a4", "service": "api"}}
{"timestamp": "2026-02-08T22:46:02.126749Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b050f062-2e61-40a3-8b67-75b796459838", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "b050f062-2e61-40a3-8b67-75b796459838", "service": "api"}}
{"timestamp": "2026-02-08T22:46:02.132779Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8c92da86-e768-4d55-ad9a-218098eab4a4", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "8c92da86-e768-4d55-ad9a-218098eab4a4", "service": "api"}}
{"timestamp": "2026-02-08T22:46:02.133784Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b050f062-2e61-40a3-8b67-75b796459838", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "b050f062-2e61-40a3-8b67-75b796459838", "service": "api"}}
{"timestamp": "2026-02-08T22:46:05.125426Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9b7d5700-6030-4387-a7c5-1f15308f69c2", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "9b7d5700-6030-4387-a7c5-1f15308f69c2", "service": "api"}}
{"timestamp": "2026-02-08T22:46:05.126423Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f7ef99cc-4ffe-424f-b3c0-13d0f41d900b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "f7ef99cc-4ffe-424f-b3c0-13d0f41d900b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:05.132471Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9b7d5700-6030-4387-a7c5-1f15308f69c2", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "9b7d5700-6030-4387-a7c5-1f15308f69c2", "service": "api"}}
{"timestamp": "2026-02-08T22:46:05.133471Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f7ef99cc-4ffe-424f-b3c0-13d0f41d900b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "f7ef99cc-4ffe-424f-b3c0-13d0f41d900b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:08.125091Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9fd225b4-9f1a-4e1b-864e-a2e660ee625b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "9fd225b4-9f1a-4e1b-864e-a2e660ee625b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:08.126088Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4ba75d1e-f1db-4933-9421-e30d7616e59b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "4ba75d1e-f1db-4933-9421-e30d7616e59b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:08.133118Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9fd225b4-9f1a-4e1b-864e-a2e660ee625b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "9fd225b4-9f1a-4e1b-864e-a2e660ee625b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:08.134123Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4ba75d1e-f1db-4933-9421-e30d7616e59b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "4ba75d1e-f1db-4933-9421-e30d7616e59b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:11.125227Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "605d5def-469a-47a8-896b-8107274ee2fa", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "605d5def-469a-47a8-896b-8107274ee2fa", "service": "api"}}
{"timestamp": "2026-02-08T22:46:11.126205Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dc398b96-d329-4364-975a-5edb8cad8d45", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "dc398b96-d329-4364-975a-5edb8cad8d45", "service": "api"}}
{"timestamp": "2026-02-08T22:46:11.126205Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "605d5def-469a-47a8-896b-8107274ee2fa", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "605d5def-469a-47a8-896b-8107274ee2fa", "service": "api"}}
{"timestamp": "2026-02-08T22:46:11.132515Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dc398b96-d329-4364-975a-5edb8cad8d45", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "dc398b96-d329-4364-975a-5edb8cad8d45", "service": "api"}}
{"timestamp": "2026-02-08T22:46:14.135652Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ff1075e8-c85b-4696-a8b4-5ed0a463fd83", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "ff1075e8-c85b-4696-a8b4-5ed0a463fd83", "service": "api"}}
{"timestamp": "2026-02-08T22:46:14.137162Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a9f774f7-ebf2-41ac-bd13-b4bd52b34a54", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "a9f774f7-ebf2-41ac-bd13-b4bd52b34a54", "service": "api"}}
{"timestamp": "2026-02-08T22:46:14.144207Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ff1075e8-c85b-4696-a8b4-5ed0a463fd83", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "ff1075e8-c85b-4696-a8b4-5ed0a463fd83", "service": "api"}}
{"timestamp": "2026-02-08T22:46:14.145207Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a9f774f7-ebf2-41ac-bd13-b4bd52b34a54", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "a9f774f7-ebf2-41ac-bd13-b4bd52b34a54", "service": "api"}}
{"timestamp": "2026-02-08T22:46:17.129610Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b747f538-80f0-431e-a2d5-43f49ae13ed0", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "b747f538-80f0-431e-a2d5-43f49ae13ed0", "service": "api"}}
{"timestamp": "2026-02-08T22:46:17.130610Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8ae1a4d0-ec79-4cfb-9799-eb479a749c07", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "8ae1a4d0-ec79-4cfb-9799-eb479a749c07", "service": "api"}}
{"timestamp": "2026-02-08T22:46:17.136663Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b747f538-80f0-431e-a2d5-43f49ae13ed0", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "b747f538-80f0-431e-a2d5-43f49ae13ed0", "service": "api"}}
{"timestamp": "2026-02-08T22:46:17.137665Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8ae1a4d0-ec79-4cfb-9799-eb479a749c07", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "8ae1a4d0-ec79-4cfb-9799-eb479a749c07", "service": "api"}}
{"timestamp": "2026-02-08T22:46:20.138720Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "efcd0257-053a-4f8d-934a-5e1492278d30", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "efcd0257-053a-4f8d-934a-5e1492278d30", "service": "api"}}
{"timestamp": "2026-02-08T22:46:20.139729Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a60a83ee-1d0c-42bc-aed2-d8503d1d0ba9", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "a60a83ee-1d0c-42bc-aed2-d8503d1d0ba9", "service": "api"}}
{"timestamp": "2026-02-08T22:46:20.145603Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "efcd0257-053a-4f8d-934a-5e1492278d30", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "efcd0257-053a-4f8d-934a-5e1492278d30", "service": "api"}}
{"timestamp": "2026-02-08T22:46:20.146613Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a60a83ee-1d0c-42bc-aed2-d8503d1d0ba9", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "a60a83ee-1d0c-42bc-aed2-d8503d1d0ba9", "service": "api"}}
{"timestamp": "2026-02-08T22:46:20.872603Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Reverse Mode: The Backward Pass' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:46:20.873139Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionReverseModeMechanics", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:46:20.874724Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\3\\scene_3.py (5896 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:46:20.876330Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 3 Scene: SectionReverseModeMechanics", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:46:23.126989Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d4f6ef80-0391-4006-ad0d-74ea0136764f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "d4f6ef80-0391-4006-ad0d-74ea0136764f", "service": "api"}}
{"timestamp": "2026-02-08T22:46:23.127988Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "02dae5bc-f608-44f0-b918-56421ca34210", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "02dae5bc-f608-44f0-b918-56421ca34210", "service": "api"}}
{"timestamp": "2026-02-08T22:46:23.135504Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d4f6ef80-0391-4006-ad0d-74ea0136764f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "d4f6ef80-0391-4006-ad0d-74ea0136764f", "service": "api"}}
{"timestamp": "2026-02-08T22:46:23.137706Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "02dae5bc-f608-44f0-b918-56421ca34210", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "02dae5bc-f608-44f0-b918-56421ca34210", "service": "api"}}
{"timestamp": "2026-02-08T22:46:26.131755Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "287f1ef3-7391-4be1-bd66-cbf2a091f698", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "287f1ef3-7391-4be1-bd66-cbf2a091f698", "service": "api"}}
{"timestamp": "2026-02-08T22:46:26.132764Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "60dbea2f-7896-47eb-b935-2a2cbf786cf7", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "60dbea2f-7896-47eb-b935-2a2cbf786cf7", "service": "api"}}
{"timestamp": "2026-02-08T22:46:26.139771Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "287f1ef3-7391-4be1-bd66-cbf2a091f698", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "287f1ef3-7391-4be1-bd66-cbf2a091f698", "service": "api"}}
{"timestamp": "2026-02-08T22:46:26.140772Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "60dbea2f-7896-47eb-b935-2a2cbf786cf7", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "60dbea2f-7896-47eb-b935-2a2cbf786cf7", "service": "api"}}
{"timestamp": "2026-02-08T22:46:29.137700Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "426ce2b5-17cf-4b24-aac2-ffe1fa62cfc7", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "426ce2b5-17cf-4b24-aac2-ffe1fa62cfc7", "service": "api"}}
{"timestamp": "2026-02-08T22:46:29.138700Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "21cbd2b5-7525-4272-9ea6-76f3719dbc46", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "21cbd2b5-7525-4272-9ea6-76f3719dbc46", "service": "api"}}
{"timestamp": "2026-02-08T22:46:29.148079Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "426ce2b5-17cf-4b24-aac2-ffe1fa62cfc7", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "426ce2b5-17cf-4b24-aac2-ffe1fa62cfc7", "service": "api"}}
{"timestamp": "2026-02-08T22:46:29.149085Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "21cbd2b5-7525-4272-9ea6-76f3719dbc46", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "21cbd2b5-7525-4272-9ea6-76f3719dbc46", "service": "api"}}
{"timestamp": "2026-02-08T22:46:32.125515Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3aac78aa-b486-4402-b052-1dc5b63ffcd0", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "3aac78aa-b486-4402-b052-1dc5b63ffcd0", "service": "api"}}
{"timestamp": "2026-02-08T22:46:32.126516Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e1df29f7-554e-4804-964b-d433f7af411b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "e1df29f7-554e-4804-964b-d433f7af411b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:32.134043Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3aac78aa-b486-4402-b052-1dc5b63ffcd0", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "3aac78aa-b486-4402-b052-1dc5b63ffcd0", "service": "api"}}
{"timestamp": "2026-02-08T22:46:32.135043Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e1df29f7-554e-4804-964b-d433f7af411b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "e1df29f7-554e-4804-964b-d433f7af411b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:35.131492Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e9262e67-6c70-481a-bfcc-f63415321459", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e9262e67-6c70-481a-bfcc-f63415321459", "service": "api"}}
{"timestamp": "2026-02-08T22:46:35.132522Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "49713ac9-9ada-49a1-88b9-d2b367a6cfb7", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "49713ac9-9ada-49a1-88b9-d2b367a6cfb7", "service": "api"}}
{"timestamp": "2026-02-08T22:46:35.133517Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e9262e67-6c70-481a-bfcc-f63415321459", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e9262e67-6c70-481a-bfcc-f63415321459", "service": "api"}}
{"timestamp": "2026-02-08T22:46:35.141539Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "49713ac9-9ada-49a1-88b9-d2b367a6cfb7", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "49713ac9-9ada-49a1-88b9-d2b367a6cfb7", "service": "api"}}
{"timestamp": "2026-02-08T22:46:38.132992Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "58f5ea78-953c-435a-8db3-9d9f56b8af64", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "58f5ea78-953c-435a-8db3-9d9f56b8af64", "service": "api"}}
{"timestamp": "2026-02-08T22:46:38.133993Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "51e40567-e9fa-44e9-a752-9137b44fc43f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "51e40567-e9fa-44e9-a752-9137b44fc43f", "service": "api"}}
{"timestamp": "2026-02-08T22:46:38.142894Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "58f5ea78-953c-435a-8db3-9d9f56b8af64", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "58f5ea78-953c-435a-8db3-9d9f56b8af64", "service": "api"}}
{"timestamp": "2026-02-08T22:46:38.144896Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "51e40567-e9fa-44e9-a752-9137b44fc43f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "51e40567-e9fa-44e9-a752-9137b44fc43f", "service": "api"}}
{"timestamp": "2026-02-08T22:46:40.066848Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\3\\videos\\scene_3\\480p15\\section_3.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:46:40.198105Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Merging video (38.1s) with audio (37.7s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:46:40.917123Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:46:40.919125Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 4/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "sections", "progress": 57, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:46:40.919125Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 4/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 3, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:46:40.921630Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 7/7: Continuous Adjoints: Solving Through Time", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 6, "total_sections": 7, "title": "Continuous Adjoints: Solving Through Time", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:46:40.921630Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Processing 5 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:46:41.335396Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ab305a79-1807-4f04-ab65-7820dfae8551", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "ab305a79-1807-4f04-ab65-7820dfae8551", "service": "api"}}
{"timestamp": "2026-02-08T22:46:41.335396Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a4dae6d2-718a-4387-9336-f8cca87e0b6b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "a4dae6d2-718a-4387-9336-f8cca87e0b6b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:41.344669Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ab305a79-1807-4f04-ab65-7820dfae8551", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "ab305a79-1807-4f04-ab65-7820dfae8551", "service": "api"}}
{"timestamp": "2026-02-08T22:46:41.345670Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a4dae6d2-718a-4387-9336-f8cca87e0b6b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "a4dae6d2-718a-4387-9336-f8cca87e0b6b", "service": "api"}}
{"timestamp": "2026-02-08T22:46:44.135267Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 61.60s | Length: 4949 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 4, "job_id": "unknown", "stage": "implementation", "request_id": "dc1360bc-1a37-4fe6-9eed-743896a61511", "timestamp": "2026-02-08T22:46:44.134268Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass SceneNeuralNetworksApplication(Scene):\n    def construct(self):\n        # Set Dracula Theme Background\n        self.camera.background_color = \"#282A36\"\n\n        # --- Object Definitions ---\n\n        # Segment 0 Objects\n        main_title = Text(\"Backpropagation\", font_size=48, color=\"#BD93F9\")\n        adjoint_subtitle = Text(\"The Adjoint Trick i... [truncated, total: 4949 chars]", "duration_seconds": 61.595, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:46:44.136272Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4935 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:46:44.138272Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\4\\scene_4.py (5054 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:46:44.138272Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 4, "attempt": 1, "code_chars": 4935, "pipeline_stage": "code_generated", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:46:44.138272Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Backpropagation and Neural Networks'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:46:44.139272Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Backpropagation and Neural Networks'", "module": "refiner", "function": "refine", "line": 129, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_title": "Backpropagation and Neural Networks", "max_attempts": 5, "refinement_stage": "start", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:46:44.152819Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "37eee5d4-337b-4b58-8216-ddfbbb1272d9", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "37eee5d4-337b-4b58-8216-ddfbbb1272d9", "service": "api"}}
{"timestamp": "2026-02-08T22:46:44.153820Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a293f784-e366-437a-a9f2-ed1fc20bd2b6", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "a293f784-e366-437a-a9f2-ed1fc20bd2b6", "service": "api"}}
{"timestamp": "2026-02-08T22:46:44.161704Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "37eee5d4-337b-4b58-8216-ddfbbb1272d9", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "37eee5d4-337b-4b58-8216-ddfbbb1272d9", "service": "api"}}
{"timestamp": "2026-02-08T22:46:44.162714Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a293f784-e366-437a-a9f2-ed1fc20bd2b6", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "a293f784-e366-437a-a9f2-ed1fc20bd2b6", "service": "api"}}
{"timestamp": "2026-02-08T22:46:44.165181Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:46:47.138850Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a1e41fb6-2883-45ec-9505-20a94f528c2c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "a1e41fb6-2883-45ec-9505-20a94f528c2c", "service": "api"}}
{"timestamp": "2026-02-08T22:46:47.139848Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "636f884e-b666-44bc-8787-33c306f9b183", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "636f884e-b666-44bc-8787-33c306f9b183", "service": "api"}}
{"timestamp": "2026-02-08T22:46:47.145869Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a1e41fb6-2883-45ec-9505-20a94f528c2c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "a1e41fb6-2883-45ec-9505-20a94f528c2c", "service": "api"}}
{"timestamp": "2026-02-08T22:46:47.145869Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "636f884e-b666-44bc-8787-33c306f9b183", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "636f884e-b666-44bc-8787-33c306f9b183", "service": "api"}}
{"timestamp": "2026-02-08T22:46:47.644499Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Total audio duration = 36.4s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:46:47.725668Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Generating unified video using NEW Pipeline (36.4s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:46:47.726670Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 6 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:46:47.727670Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Continuous Adjoints: Solving Through Time'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:46:47.729668Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10491 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "choreography", "request_id": "1ae6fc17-b544-475a-8ee7-f00dee3a7f59", "timestamp": "2026-02-08T22:46:47.728669Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Continuous Adjoints: Solving Through Time\n**Duration**: 36.36s\n**Theme**: Dracula; background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]; notes=Dark purple style with bright readable foreground colors.\n**Language**: English\n**Visual Strategy**:\nMo... [truncated, total: 10491 chars]", "prompt_length": 10491, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:46:47.731667Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:46:50.133098Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a83b0e7c-cda6-4e24-921c-1fdd9e1dd8ba", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "a83b0e7c-cda6-4e24-921c-1fdd9e1dd8ba", "service": "api"}}
{"timestamp": "2026-02-08T22:46:50.134141Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aaae4b18-8ed3-4005-bc21-c94c6829ddf4", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "aaae4b18-8ed3-4005-bc21-c94c6829ddf4", "service": "api"}}
{"timestamp": "2026-02-08T22:46:50.141648Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a83b0e7c-cda6-4e24-921c-1fdd9e1dd8ba", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "a83b0e7c-cda6-4e24-921c-1fdd9e1dd8ba", "service": "api"}}
{"timestamp": "2026-02-08T22:46:50.142659Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aaae4b18-8ed3-4005-bc21-c94c6829ddf4", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "aaae4b18-8ed3-4005-bc21-c94c6829ddf4", "service": "api"}}
{"timestamp": "2026-02-08T22:46:53.127468Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "95896661-3ff6-4929-a382-8044805b776d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "95896661-3ff6-4929-a382-8044805b776d", "service": "api"}}
{"timestamp": "2026-02-08T22:46:53.128468Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4226c484-bc97-4af7-84b7-8f3b9f2697e4", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "4226c484-bc97-4af7-84b7-8f3b9f2697e4", "service": "api"}}
{"timestamp": "2026-02-08T22:46:53.134976Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "95896661-3ff6-4929-a382-8044805b776d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "95896661-3ff6-4929-a382-8044805b776d", "service": "api"}}
{"timestamp": "2026-02-08T22:46:53.135977Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4226c484-bc97-4af7-84b7-8f3b9f2697e4", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "4226c484-bc97-4af7-84b7-8f3b9f2697e4", "service": "api"}}
{"timestamp": "2026-02-08T22:46:56.128772Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b2404d37-1527-40b9-b1b1-778ab2ec5a7c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "b2404d37-1527-40b9-b1b1-778ab2ec5a7c", "service": "api"}}
{"timestamp": "2026-02-08T22:46:56.128772Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4b6080eb-6c92-48bf-bbdd-cbe5ccaac888", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "4b6080eb-6c92-48bf-bbdd-cbe5ccaac888", "service": "api"}}
{"timestamp": "2026-02-08T22:46:56.135798Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b2404d37-1527-40b9-b1b1-778ab2ec5a7c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "b2404d37-1527-40b9-b1b1-778ab2ec5a7c", "service": "api"}}
{"timestamp": "2026-02-08T22:46:56.136811Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4b6080eb-6c92-48bf-bbdd-cbe5ccaac888", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "4b6080eb-6c92-48bf-bbdd-cbe5ccaac888", "service": "api"}}
{"timestamp": "2026-02-08T22:46:58.173104Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Backpropagation and Neural Networks' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:46:58.174104Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionNeuralNetworksApplication", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:46:58.176103Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\4\\scene_4.py (5187 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:46:58.176614Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 4 Scene: SectionNeuralNetworksApplication", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:46:59.139676Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0928e9b6-0fc2-4355-9e73-8b4653bd94c3", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "0928e9b6-0fc2-4355-9e73-8b4653bd94c3", "service": "api"}}
{"timestamp": "2026-02-08T22:46:59.140677Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7adb62e6-9db5-4da6-94a6-2b156717d743", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "7adb62e6-9db5-4da6-94a6-2b156717d743", "service": "api"}}
{"timestamp": "2026-02-08T22:46:59.147432Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0928e9b6-0fc2-4355-9e73-8b4653bd94c3", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "0928e9b6-0fc2-4355-9e73-8b4653bd94c3", "service": "api"}}
{"timestamp": "2026-02-08T22:46:59.148433Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7adb62e6-9db5-4da6-94a6-2b156717d743", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "7adb62e6-9db5-4da6-94a6-2b156717d743", "service": "api"}}
{"timestamp": "2026-02-08T22:47:02.128864Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bcb0546c-c304-4502-ad43-e1b29eb96655", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "bcb0546c-c304-4502-ad43-e1b29eb96655", "service": "api"}}
{"timestamp": "2026-02-08T22:47:02.129865Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "85e7b175-6402-4d3d-b0eb-ddf41e97966d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "85e7b175-6402-4d3d-b0eb-ddf41e97966d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:02.137062Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bcb0546c-c304-4502-ad43-e1b29eb96655", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "bcb0546c-c304-4502-ad43-e1b29eb96655", "service": "api"}}
{"timestamp": "2026-02-08T22:47:02.138062Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "85e7b175-6402-4d3d-b0eb-ddf41e97966d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "85e7b175-6402-4d3d-b0eb-ddf41e97966d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:05.139193Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ac937757-4089-44c9-a0bf-af0e7e2a956d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "ac937757-4089-44c9-a0bf-af0e7e2a956d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:05.140199Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "af6257f7-de3d-4c50-aa5b-2efe57e3b4c0", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "af6257f7-de3d-4c50-aa5b-2efe57e3b4c0", "service": "api"}}
{"timestamp": "2026-02-08T22:47:05.146713Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ac937757-4089-44c9-a0bf-af0e7e2a956d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "ac937757-4089-44c9-a0bf-af0e7e2a956d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:05.146713Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "af6257f7-de3d-4c50-aa5b-2efe57e3b4c0", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "af6257f7-de3d-4c50-aa5b-2efe57e3b4c0", "service": "api"}}
{"timestamp": "2026-02-08T22:47:08.137282Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e5d166b7-5b74-4283-a31b-ad8f4b87df75", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e5d166b7-5b74-4283-a31b-ad8f4b87df75", "service": "api"}}
{"timestamp": "2026-02-08T22:47:08.138280Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e5fd2305-0188-4ba7-9801-e5d4439c3a73", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "e5fd2305-0188-4ba7-9801-e5d4439c3a73", "service": "api"}}
{"timestamp": "2026-02-08T22:47:08.144685Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 79.91s | Length: 4516 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 5, "job_id": "unknown", "stage": "implementation", "request_id": "f667b875-57ef-49c5-8279-e84e96366b36", "timestamp": "2026-02-08T22:47:08.144173Z", "response_text": "```python\nfrom manim import *\n\nclass SceneImplicitAndLinearSystems(Scene):\n    def construct(self):\n        # Theme: Dracula\n        # background=#282A36; primary_text=#F8F8F2; secondary_text=#BD93F9; \n        # accents=[#8BE9FD, #50FA7B, #FFB86C, #FF5555]\n        self.camera.background_color = \"#282A36\"\n        primary_text = \"#F8F8F2\"\n        secondary_text = \"#BD93F9\"\n        accent_cyan = \"#8B... [truncated, total: 4516 chars]", "duration_seconds": 79.909, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:47:08.150695Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e5d166b7-5b74-4283-a31b-ad8f4b87df75", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e5d166b7-5b74-4283-a31b-ad8f4b87df75", "service": "api"}}
{"timestamp": "2026-02-08T22:47:08.152202Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4502 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:47:08.154450Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\5\\scene_5.py (4618 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:47:08.155450Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 5, "attempt": 1, "code_chars": 4502, "pipeline_stage": "code_generated", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:47:08.155450Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Adjoints in Linear and Non-linear Systems'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:47:08.155450Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Adjoints in Linear and Non-linear Systems'", "module": "refiner", "function": "refine", "line": 129, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_title": "Adjoints in Linear and Non-linear Systems", "max_attempts": 5, "refinement_stage": "start", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:47:08.166965Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e5fd2305-0188-4ba7-9801-e5d4439c3a73", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "e5fd2305-0188-4ba7-9801-e5d4439c3a73", "service": "api"}}
{"timestamp": "2026-02-08T22:47:08.183266Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:47:11.126796Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "87c13384-58a4-4d7a-a96d-c43a943c8adb", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "87c13384-58a4-4d7a-a96d-c43a943c8adb", "service": "api"}}
{"timestamp": "2026-02-08T22:47:11.127796Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d3f631b9-27c5-4b78-98b2-6d484896c12f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "d3f631b9-27c5-4b78-98b2-6d484896c12f", "service": "api"}}
{"timestamp": "2026-02-08T22:47:11.135318Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "87c13384-58a4-4d7a-a96d-c43a943c8adb", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "87c13384-58a4-4d7a-a96d-c43a943c8adb", "service": "api"}}
{"timestamp": "2026-02-08T22:47:11.136322Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d3f631b9-27c5-4b78-98b2-6d484896c12f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "d3f631b9-27c5-4b78-98b2-6d484896c12f", "service": "api"}}
{"timestamp": "2026-02-08T22:47:12.511238Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\4\\videos\\scene_4\\480p15\\section_4.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:47:12.647633Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Merging video (36.0s) with audio (36.1s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:47:13.164151Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 25.43s | Length: 7647 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "choreography", "request_id": "1ae6fc17-b544-475a-8ee7-f00dee3a7f59", "timestamp": "2026-02-08T22:47:13.163143Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Continuous Adjoints: Solving Through Time\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 36.36,\n      \"notes\": \"Main title for the sequence.\",\n      \"visual_description\": \"Large bold title in Dracula primary text color.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relati... [truncated, total: 7647 chars]", "duration_seconds": 25.433, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:47:13.165145Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (7647 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:47:13.168579Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\6\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:47:13.168579Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 6, "attempt": 1, "plan_chars": 7647, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\6\\choreography_plan.json", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:47:13.168579Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Continuous Adjoints: Solving Through Time'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:47:13.170582Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 23497 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "implementation", "request_id": "85314511-0797-4a11-94d3-60da4233adc0", "timestamp": "2026-02-08T22:47:13.169584Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Continuous Adjoints: Solving Through Time\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 36.36,\n      \"notes\": \"Main title for the sequence.\",\n      \"visual_descri... [truncated, total: 23497 chars]", "prompt_length": 23497, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:47:13.173099Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa"}
{"timestamp": "2026-02-08T22:47:13.354007Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:47:13.356516Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 5/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "sections", "progress": 71, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:47:13.356516Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 5/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 4, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:47:14.131871Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "560290a3-a77c-4466-bbb0-5d15225f4659", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "560290a3-a77c-4466-bbb0-5d15225f4659", "service": "api"}}
{"timestamp": "2026-02-08T22:47:14.132880Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b31ef4df-18f6-488e-b743-58ade6b8c877", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "b31ef4df-18f6-488e-b743-58ade6b8c877", "service": "api"}}
{"timestamp": "2026-02-08T22:47:14.140877Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "560290a3-a77c-4466-bbb0-5d15225f4659", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "560290a3-a77c-4466-bbb0-5d15225f4659", "service": "api"}}
{"timestamp": "2026-02-08T22:47:14.141876Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b31ef4df-18f6-488e-b743-58ade6b8c877", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "b31ef4df-18f6-488e-b743-58ade6b8c877", "service": "api"}}
{"timestamp": "2026-02-08T22:47:17.135407Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e8f55ba7-11a9-4a10-80cf-a0a543f5ca0c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "e8f55ba7-11a9-4a10-80cf-a0a543f5ca0c", "service": "api"}}
{"timestamp": "2026-02-08T22:47:17.136407Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dc0d77fe-1e23-401e-afd3-81ac7792781e", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "dc0d77fe-1e23-401e-afd3-81ac7792781e", "service": "api"}}
{"timestamp": "2026-02-08T22:47:17.141911Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e8f55ba7-11a9-4a10-80cf-a0a543f5ca0c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "e8f55ba7-11a9-4a10-80cf-a0a543f5ca0c", "service": "api"}}
{"timestamp": "2026-02-08T22:47:17.142918Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dc0d77fe-1e23-401e-afd3-81ac7792781e", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "dc0d77fe-1e23-401e-afd3-81ac7792781e", "service": "api"}}
{"timestamp": "2026-02-08T22:47:20.140162Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "99ae60f4-7ac6-476c-bc54-e6e48b6e0386", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "99ae60f4-7ac6-476c-bc54-e6e48b6e0386", "service": "api"}}
{"timestamp": "2026-02-08T22:47:20.141161Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b2b588c9-22f3-4e5e-ace6-3991bddb587a", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "b2b588c9-22f3-4e5e-ace6-3991bddb587a", "service": "api"}}
{"timestamp": "2026-02-08T22:47:20.141161Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "99ae60f4-7ac6-476c-bc54-e6e48b6e0386", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "99ae60f4-7ac6-476c-bc54-e6e48b6e0386", "service": "api"}}
{"timestamp": "2026-02-08T22:47:20.148768Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b2b588c9-22f3-4e5e-ace6-3991bddb587a", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "b2b588c9-22f3-4e5e-ace6-3991bddb587a", "service": "api"}}
{"timestamp": "2026-02-08T22:47:23.127096Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1e0fc292-70e2-4b10-b930-6cde396d56bb", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "1e0fc292-70e2-4b10-b930-6cde396d56bb", "service": "api"}}
{"timestamp": "2026-02-08T22:47:23.129093Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0b867954-641d-4755-b7e5-ca4517631562", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "0b867954-641d-4755-b7e5-ca4517631562", "service": "api"}}
{"timestamp": "2026-02-08T22:47:23.134599Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1e0fc292-70e2-4b10-b930-6cde396d56bb", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "1e0fc292-70e2-4b10-b930-6cde396d56bb", "service": "api"}}
{"timestamp": "2026-02-08T22:47:23.136605Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0b867954-641d-4755-b7e5-ca4517631562", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "0b867954-641d-4755-b7e5-ca4517631562", "service": "api"}}
{"timestamp": "2026-02-08T22:47:26.139565Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4dc9c941-a4d5-4891-b3ec-31d538a8e3c8", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "4dc9c941-a4d5-4891-b3ec-31d538a8e3c8", "service": "api"}}
{"timestamp": "2026-02-08T22:47:26.140562Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d6743859-cd2d-4de8-8f3b-13df07ddddd0", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "d6743859-cd2d-4de8-8f3b-13df07ddddd0", "service": "api"}}
{"timestamp": "2026-02-08T22:47:26.148077Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4dc9c941-a4d5-4891-b3ec-31d538a8e3c8", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "4dc9c941-a4d5-4891-b3ec-31d538a8e3c8", "service": "api"}}
{"timestamp": "2026-02-08T22:47:26.149075Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d6743859-cd2d-4de8-8f3b-13df07ddddd0", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "d6743859-cd2d-4de8-8f3b-13df07ddddd0", "service": "api"}}
{"timestamp": "2026-02-08T22:47:29.127552Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d765bcc6-a15f-47c8-9461-3cb73388c9fa", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "d765bcc6-a15f-47c8-9461-3cb73388c9fa", "service": "api"}}
{"timestamp": "2026-02-08T22:47:29.128552Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f8bdbe0d-996d-4769-9ca4-47e8b6c5bdfe", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "f8bdbe0d-996d-4769-9ca4-47e8b6c5bdfe", "service": "api"}}
{"timestamp": "2026-02-08T22:47:29.136061Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d765bcc6-a15f-47c8-9461-3cb73388c9fa", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "d765bcc6-a15f-47c8-9461-3cb73388c9fa", "service": "api"}}
{"timestamp": "2026-02-08T22:47:29.137061Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f8bdbe0d-996d-4769-9ca4-47e8b6c5bdfe", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "f8bdbe0d-996d-4769-9ca4-47e8b6c5bdfe", "service": "api"}}
{"timestamp": "2026-02-08T22:47:32.138518Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2e9c031a-709c-485e-8b2d-d9dafe80937f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "2e9c031a-709c-485e-8b2d-d9dafe80937f", "service": "api"}}
{"timestamp": "2026-02-08T22:47:32.139808Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d5254a22-09cd-4c46-bbdf-14542be6e96f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "d5254a22-09cd-4c46-bbdf-14542be6e96f", "service": "api"}}
{"timestamp": "2026-02-08T22:47:32.146403Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2e9c031a-709c-485e-8b2d-d9dafe80937f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "2e9c031a-709c-485e-8b2d-d9dafe80937f", "service": "api"}}
{"timestamp": "2026-02-08T22:47:32.147907Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d5254a22-09cd-4c46-bbdf-14542be6e96f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "d5254a22-09cd-4c46-bbdf-14542be6e96f", "service": "api"}}
{"timestamp": "2026-02-08T22:47:33.778285Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Adjoints in Linear and Non-linear Systems' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:47:33.779286Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionImplicitAndLinearSystems", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:47:33.780286Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\5\\scene_5.py (4751 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:47:33.781286Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 5 Scene: SectionImplicitAndLinearSystems", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:47:35.127156Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dbe2a8c7-71cb-4638-97d7-dd14ed5bbd2d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "dbe2a8c7-71cb-4638-97d7-dd14ed5bbd2d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:35.128157Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "968a55f9-ff07-4fb9-8141-147ce467b7bf", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "968a55f9-ff07-4fb9-8141-147ce467b7bf", "service": "api"}}
{"timestamp": "2026-02-08T22:47:35.134567Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dbe2a8c7-71cb-4638-97d7-dd14ed5bbd2d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "dbe2a8c7-71cb-4638-97d7-dd14ed5bbd2d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:35.135567Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "968a55f9-ff07-4fb9-8141-147ce467b7bf", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "968a55f9-ff07-4fb9-8141-147ce467b7bf", "service": "api"}}
{"timestamp": "2026-02-08T22:47:38.133948Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fa6aaad4-d927-4ac7-95a8-65e334a95d43", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "fa6aaad4-d927-4ac7-95a8-65e334a95d43", "service": "api"}}
{"timestamp": "2026-02-08T22:47:38.135029Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2319c451-6fd9-462f-b005-3eab157ff18d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "2319c451-6fd9-462f-b005-3eab157ff18d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:38.142526Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fa6aaad4-d927-4ac7-95a8-65e334a95d43", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "fa6aaad4-d927-4ac7-95a8-65e334a95d43", "service": "api"}}
{"timestamp": "2026-02-08T22:47:38.143540Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2319c451-6fd9-462f-b005-3eab157ff18d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "2319c451-6fd9-462f-b005-3eab157ff18d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:39.525072Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 26.35s | Length: 4870 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "implementation", "request_id": "85314511-0797-4a11-94d3-60da4233adc0", "timestamp": "2026-02-08T22:47:39.525072Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\n# VERSION: Manim Community v0.19.2\n# THEME: Dracula\n# BACKGROUND: #282A36\n# PRIMARY_TEXT: #F8F8F2\n# SECONDARY_TEXT: #BD93F9\n# ACCENTS: #8BE9FD (Teal/Cyan), #50FA7B (Green), #FFB86C (Orange), #FF5555 (Red)\n\nclass SceneTimeIntegrationAdjoints(Scene):\n    def construct(self):\n        # Set background color to Dracula theme\n        self.camera.background_... [truncated, total: 4870 chars]", "duration_seconds": 26.354, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:47:39.526068Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4856 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:47:39.528068Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\6\\scene_6.py (5003 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:47:39.528068Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 6, "attempt": 1, "code_chars": 4856, "pipeline_stage": "code_generated", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:47:39.529072Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Continuous Adjoints: Solving Through Time'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:47:39.529072Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Continuous Adjoints: Solving Through Time'", "module": "refiner", "function": "refine", "line": 129, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_title": "Continuous Adjoints: Solving Through Time", "max_attempts": 5, "refinement_stage": "start", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:47:39.552811Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:47:41.137813Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2e8114f1-6b2f-482c-b4ae-ecde9401d71d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "2e8114f1-6b2f-482c-b4ae-ecde9401d71d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:41.138822Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "42663910-8b06-4591-96fd-5c79e0de8a49", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "42663910-8b06-4591-96fd-5c79e0de8a49", "service": "api"}}
{"timestamp": "2026-02-08T22:47:41.148093Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2e8114f1-6b2f-482c-b4ae-ecde9401d71d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "2e8114f1-6b2f-482c-b4ae-ecde9401d71d", "service": "api"}}
{"timestamp": "2026-02-08T22:47:41.149274Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "42663910-8b06-4591-96fd-5c79e0de8a49", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "42663910-8b06-4591-96fd-5c79e0de8a49", "service": "api"}}
{"timestamp": "2026-02-08T22:47:44.137448Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0de992de-c0f7-4151-8d01-ece2ab70ea55", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "0de992de-c0f7-4151-8d01-ece2ab70ea55", "service": "api"}}
{"timestamp": "2026-02-08T22:47:44.138457Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e1e5a421-022f-4c17-8edc-6ab1f59d1436", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "e1e5a421-022f-4c17-8edc-6ab1f59d1436", "service": "api"}}
{"timestamp": "2026-02-08T22:47:44.146198Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0de992de-c0f7-4151-8d01-ece2ab70ea55", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "0de992de-c0f7-4151-8d01-ece2ab70ea55", "service": "api"}}
{"timestamp": "2026-02-08T22:47:44.147199Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e1e5a421-022f-4c17-8edc-6ab1f59d1436", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "e1e5a421-022f-4c17-8edc-6ab1f59d1436", "service": "api"}}
{"timestamp": "2026-02-08T22:47:47.127437Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "948aa2bc-6bba-41d4-b790-150e03582eac", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "948aa2bc-6bba-41d4-b790-150e03582eac", "service": "api"}}
{"timestamp": "2026-02-08T22:47:47.127437Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7e6a8ba2-d76e-41be-be7c-4b3398cf9003", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "7e6a8ba2-d76e-41be-be7c-4b3398cf9003", "service": "api"}}
{"timestamp": "2026-02-08T22:47:47.134964Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "948aa2bc-6bba-41d4-b790-150e03582eac", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "948aa2bc-6bba-41d4-b790-150e03582eac", "service": "api"}}
{"timestamp": "2026-02-08T22:47:47.135963Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7e6a8ba2-d76e-41be-be7c-4b3398cf9003", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "7e6a8ba2-d76e-41be-be7c-4b3398cf9003", "service": "api"}}
{"timestamp": "2026-02-08T22:47:50.131270Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "043eedfa-9698-48b2-8735-e8914d8e9c6a", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "043eedfa-9698-48b2-8735-e8914d8e9c6a", "service": "api"}}
{"timestamp": "2026-02-08T22:47:50.132268Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8cc79973-afce-40ee-9d49-d429e2273d8c", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "8cc79973-afce-40ee-9d49-d429e2273d8c", "service": "api"}}
{"timestamp": "2026-02-08T22:47:50.138522Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "043eedfa-9698-48b2-8735-e8914d8e9c6a", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "043eedfa-9698-48b2-8735-e8914d8e9c6a", "service": "api"}}
{"timestamp": "2026-02-08T22:47:50.139523Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8cc79973-afce-40ee-9d49-d429e2273d8c", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "8cc79973-afce-40ee-9d49-d429e2273d8c", "service": "api"}}
{"timestamp": "2026-02-08T22:47:53.137140Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d3576f0d-fc27-4b22-8363-6a12a87e16b1", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "d3576f0d-fc27-4b22-8363-6a12a87e16b1", "service": "api"}}
{"timestamp": "2026-02-08T22:47:53.138388Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c9ac63c2-d0e9-4b45-8e1b-4f83997d8ace", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "c9ac63c2-d0e9-4b45-8e1b-4f83997d8ace", "service": "api"}}
{"timestamp": "2026-02-08T22:47:53.144629Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d3576f0d-fc27-4b22-8363-6a12a87e16b1", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "d3576f0d-fc27-4b22-8363-6a12a87e16b1", "service": "api"}}
{"timestamp": "2026-02-08T22:47:53.145685Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c9ac63c2-d0e9-4b45-8e1b-4f83997d8ace", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "c9ac63c2-d0e9-4b45-8e1b-4f83997d8ace", "service": "api"}}
{"timestamp": "2026-02-08T22:47:54.229862Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\5\\videos\\scene_5\\480p15\\section_5.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:47:54.365920Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Merging video (37.7s) with audio (38.7s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:47:55.108309Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:47:55.110310Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 6/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "sections", "progress": 85, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:47:55.110310Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 6/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 5, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:47:56.138481Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1512a30d-ed4f-47bc-b15a-46a3ba44eb1b", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "1512a30d-ed4f-47bc-b15a-46a3ba44eb1b", "service": "api"}}
{"timestamp": "2026-02-08T22:47:56.139481Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bd7fa263-780e-4645-9a79-3e8bfdd1a900", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "bd7fa263-780e-4645-9a79-3e8bfdd1a900", "service": "api"}}
{"timestamp": "2026-02-08T22:47:56.146505Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1512a30d-ed4f-47bc-b15a-46a3ba44eb1b", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "1512a30d-ed4f-47bc-b15a-46a3ba44eb1b", "service": "api"}}
{"timestamp": "2026-02-08T22:47:56.147514Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bd7fa263-780e-4645-9a79-3e8bfdd1a900", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "bd7fa263-780e-4645-9a79-3e8bfdd1a900", "service": "api"}}
{"timestamp": "2026-02-08T22:47:59.129699Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "620f180a-e00b-4f24-972a-b0a6ce07a668", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "620f180a-e00b-4f24-972a-b0a6ce07a668", "service": "api"}}
{"timestamp": "2026-02-08T22:47:59.130699Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "20a55517-0929-4d2b-aa7e-28035d6efbaa", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "20a55517-0929-4d2b-aa7e-28035d6efbaa", "service": "api"}}
{"timestamp": "2026-02-08T22:47:59.138221Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "620f180a-e00b-4f24-972a-b0a6ce07a668", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "620f180a-e00b-4f24-972a-b0a6ce07a668", "service": "api"}}
{"timestamp": "2026-02-08T22:47:59.139224Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "20a55517-0929-4d2b-aa7e-28035d6efbaa", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "20a55517-0929-4d2b-aa7e-28035d6efbaa", "service": "api"}}
{"timestamp": "2026-02-08T22:48:02.137722Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ff51d66b-ecdc-46b1-aead-1f9c2678ebea", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "ff51d66b-ecdc-46b1-aead-1f9c2678ebea", "service": "api"}}
{"timestamp": "2026-02-08T22:48:02.138722Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ae3b7653-13e7-4a7d-8290-727aed7568a0", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "ae3b7653-13e7-4a7d-8290-727aed7568a0", "service": "api"}}
{"timestamp": "2026-02-08T22:48:02.145232Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ff51d66b-ecdc-46b1-aead-1f9c2678ebea", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "ff51d66b-ecdc-46b1-aead-1f9c2678ebea", "service": "api"}}
{"timestamp": "2026-02-08T22:48:02.146236Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ae3b7653-13e7-4a7d-8290-727aed7568a0", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "ae3b7653-13e7-4a7d-8290-727aed7568a0", "service": "api"}}
{"timestamp": "2026-02-08T22:48:05.137277Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a742cb0e-fca4-4604-b19b-c5ca1781f268", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "a742cb0e-fca4-4604-b19b-c5ca1781f268", "service": "api"}}
{"timestamp": "2026-02-08T22:48:05.138286Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6270298b-c4ef-4287-a74a-896b903bf01a", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "6270298b-c4ef-4287-a74a-896b903bf01a", "service": "api"}}
{"timestamp": "2026-02-08T22:48:05.143794Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a742cb0e-fca4-4604-b19b-c5ca1781f268", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "a742cb0e-fca4-4604-b19b-c5ca1781f268", "service": "api"}}
{"timestamp": "2026-02-08T22:48:05.144793Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6270298b-c4ef-4287-a74a-896b903bf01a", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "6270298b-c4ef-4287-a74a-896b903bf01a", "service": "api"}}
{"timestamp": "2026-02-08T22:48:08.136593Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d40791e2-43fb-424b-8be9-ad3f5e9cdc10", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "d40791e2-43fb-424b-8be9-ad3f5e9cdc10", "service": "api"}}
{"timestamp": "2026-02-08T22:48:08.137593Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1dcf4fa9-8891-496a-8e6a-a972d0e0da96", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "1dcf4fa9-8891-496a-8e6a-a972d0e0da96", "service": "api"}}
{"timestamp": "2026-02-08T22:48:08.144775Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d40791e2-43fb-424b-8be9-ad3f5e9cdc10", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "d40791e2-43fb-424b-8be9-ad3f5e9cdc10", "service": "api"}}
{"timestamp": "2026-02-08T22:48:08.145771Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1dcf4fa9-8891-496a-8e6a-a972d0e0da96", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "1dcf4fa9-8891-496a-8e6a-a972d0e0da96", "service": "api"}}
{"timestamp": "2026-02-08T22:48:09.258516Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Continuous Adjoints: Solving Through Time' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:48:09.259511Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionTimeIntegrationAdjoints", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:48:09.260512Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\6\\scene_6.py (5136 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:48:09.261512Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 6 Scene: SectionTimeIntegrationAdjoints", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:48:11.137137Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9c71695b-4e86-4d4e-b48f-d01f5fc52dcd", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "9c71695b-4e86-4d4e-b48f-d01f5fc52dcd", "service": "api"}}
{"timestamp": "2026-02-08T22:48:11.138150Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "37becc8e-9185-4840-aaa1-38f8d2301107", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "37becc8e-9185-4840-aaa1-38f8d2301107", "service": "api"}}
{"timestamp": "2026-02-08T22:48:11.145602Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9c71695b-4e86-4d4e-b48f-d01f5fc52dcd", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "9c71695b-4e86-4d4e-b48f-d01f5fc52dcd", "service": "api"}}
{"timestamp": "2026-02-08T22:48:11.146601Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "37becc8e-9185-4840-aaa1-38f8d2301107", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "37becc8e-9185-4840-aaa1-38f8d2301107", "service": "api"}}
{"timestamp": "2026-02-08T22:48:14.128522Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3cab9706-0116-4ac2-942c-48663a2c2c2a", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "3cab9706-0116-4ac2-942c-48663a2c2c2a", "service": "api"}}
{"timestamp": "2026-02-08T22:48:14.130523Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "35fe9b53-757b-4ca3-9705-fba8ad9e0715", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "35fe9b53-757b-4ca3-9705-fba8ad9e0715", "service": "api"}}
{"timestamp": "2026-02-08T22:48:14.137785Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3cab9706-0116-4ac2-942c-48663a2c2c2a", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "3cab9706-0116-4ac2-942c-48663a2c2c2a", "service": "api"}}
{"timestamp": "2026-02-08T22:48:14.138786Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "35fe9b53-757b-4ca3-9705-fba8ad9e0715", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "35fe9b53-757b-4ca3-9705-fba8ad9e0715", "service": "api"}}
{"timestamp": "2026-02-08T22:48:17.130743Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1ba74a8f-49c9-4890-aa3c-9f39666ca7f4", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "1ba74a8f-49c9-4890-aa3c-9f39666ca7f4", "service": "api"}}
{"timestamp": "2026-02-08T22:48:17.131739Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b681da0d-b66f-4d1a-88c4-64790555dc7a", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "b681da0d-b66f-4d1a-88c4-64790555dc7a", "service": "api"}}
{"timestamp": "2026-02-08T22:48:17.138505Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1ba74a8f-49c9-4890-aa3c-9f39666ca7f4", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "1ba74a8f-49c9-4890-aa3c-9f39666ca7f4", "service": "api"}}
{"timestamp": "2026-02-08T22:48:17.139505Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b681da0d-b66f-4d1a-88c4-64790555dc7a", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "b681da0d-b66f-4d1a-88c4-64790555dc7a", "service": "api"}}
{"timestamp": "2026-02-08T22:48:20.137141Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d05c9829-9446-41dd-b54c-52740481f3ad", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "d05c9829-9446-41dd-b54c-52740481f3ad", "service": "api"}}
{"timestamp": "2026-02-08T22:48:20.138152Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "afc9909b-a376-4661-b0ea-8fd9a149a53f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "afc9909b-a376-4661-b0ea-8fd9a149a53f", "service": "api"}}
{"timestamp": "2026-02-08T22:48:20.145235Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d05c9829-9446-41dd-b54c-52740481f3ad", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "d05c9829-9446-41dd-b54c-52740481f3ad", "service": "api"}}
{"timestamp": "2026-02-08T22:48:20.146238Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "afc9909b-a376-4661-b0ea-8fd9a149a53f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "afc9909b-a376-4661-b0ea-8fd9a149a53f", "service": "api"}}
{"timestamp": "2026-02-08T22:48:23.131516Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f3eb5bf3-1427-450f-ac5a-049fff2844aa", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "f3eb5bf3-1427-450f-ac5a-049fff2844aa", "service": "api"}}
{"timestamp": "2026-02-08T22:48:23.132520Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ba1b1291-9297-4c21-8b02-b452c7496420", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "ba1b1291-9297-4c21-8b02-b452c7496420", "service": "api"}}
{"timestamp": "2026-02-08T22:48:23.140671Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f3eb5bf3-1427-450f-ac5a-049fff2844aa", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "f3eb5bf3-1427-450f-ac5a-049fff2844aa", "service": "api"}}
{"timestamp": "2026-02-08T22:48:23.140671Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ba1b1291-9297-4c21-8b02-b452c7496420", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "ba1b1291-9297-4c21-8b02-b452c7496420", "service": "api"}}
{"timestamp": "2026-02-08T22:48:26.133787Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f60c2bb8-2725-4bcd-b970-818e01e20f2e", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "f60c2bb8-2725-4bcd-b970-818e01e20f2e", "service": "api"}}
{"timestamp": "2026-02-08T22:48:26.136173Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fae73537-7612-41d2-954a-ef9b5c34213f", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "fae73537-7612-41d2-954a-ef9b5c34213f", "service": "api"}}
{"timestamp": "2026-02-08T22:48:26.143701Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f60c2bb8-2725-4bcd-b970-818e01e20f2e", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "f60c2bb8-2725-4bcd-b970-818e01e20f2e", "service": "api"}}
{"timestamp": "2026-02-08T22:48:26.144706Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fae73537-7612-41d2-954a-ef9b5c34213f", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "fae73537-7612-41d2-954a-ef9b5c34213f", "service": "api"}}
{"timestamp": "2026-02-08T22:48:27.080837Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections\\6\\videos\\scene_6\\480p15\\section_6.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:48:27.211005Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Merging video (36.3s) with audio (36.4s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:48:27.865123Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:48:27.866123Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 7/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "sections", "progress": 100, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:48:27.867126Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 7/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_index": 6, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:48:27.868124Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] All sections processed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "sections", "progress": 100, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:48:27.868124Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Section processing complete", "module": "orchestrator", "function": "process_sections_parallel", "line": 185, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"total_sections": 7, "successful": 7, "failed": 0, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:48:27.868124Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Completed: process_sections_parallel (7 sections)", "module": "logging", "function": "__exit__", "line": 345, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"duration_seconds": 319.6481521129608, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:48:27.868124Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Aggregated section results", "module": "orchestrator", "function": "aggregate_results", "line": 442, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"video_count": 7, "audio_count": 7, "chapter_count": 7, "total_duration": 277.776, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:48:27.871121Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Saved updated script with section metadata", "module": "video_generator", "function": "generate_video", "line": 289, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_count": 7, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:48:27.871121Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[combining] Combining sections...", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "combining", "progress": 0, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:48:27.871121Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Starting: combine_sections (7 sections)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_processor"}}
{"timestamp": "2026-02-08T22:48:27.872626Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Combining sections with FFmpeg helpers", "module": "processor", "function": "combine_sections", "line": 73, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"section_count": 7, "output_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\final_video.mp4", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_processor"}}
{"timestamp": "2026-02-08T22:48:29.136739Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d9661220-911b-4b3d-9e57-8eb168489ca4", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "d9661220-911b-4b3d-9e57-8eb168489ca4", "service": "api"}}
{"timestamp": "2026-02-08T22:48:29.138748Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a1647391-0592-4fc0-be50-37a8363a39aa", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "a1647391-0592-4fc0-be50-37a8363a39aa", "service": "api"}}
{"timestamp": "2026-02-08T22:48:29.147143Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d9661220-911b-4b3d-9e57-8eb168489ca4", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "d9661220-911b-4b3d-9e57-8eb168489ca4", "service": "api"}}
{"timestamp": "2026-02-08T22:48:29.148154Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a1647391-0592-4fc0-be50-37a8363a39aa", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "a1647391-0592-4fc0-be50-37a8363a39aa", "service": "api"}}
{"timestamp": "2026-02-08T22:48:32.136630Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "649f9d58-75ca-43fd-9f44-123a336040d5", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "649f9d58-75ca-43fd-9f44-123a336040d5", "service": "api"}}
{"timestamp": "2026-02-08T22:48:32.139014Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5f1229da-7c0e-4e8e-b1f3-53a835005373", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "5f1229da-7c0e-4e8e-b1f3-53a835005373", "service": "api"}}
{"timestamp": "2026-02-08T22:48:32.146548Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "649f9d58-75ca-43fd-9f44-123a336040d5", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "649f9d58-75ca-43fd-9f44-123a336040d5", "service": "api"}}
{"timestamp": "2026-02-08T22:48:32.148581Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5f1229da-7c0e-4e8e-b1f3-53a835005373", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "5f1229da-7c0e-4e8e-b1f3-53a835005373", "service": "api"}}
{"timestamp": "2026-02-08T22:48:33.944680Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Completed: combine_sections (7 sections)", "module": "logging", "function": "__exit__", "line": 345, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"duration_seconds": 6.073559045791626, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_processor"}}
{"timestamp": "2026-02-08T22:48:33.945681Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[combining] Video complete!", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"stage": "combining", "progress": 100, "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:48:33.947681Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Cleaning up intermediate files", "module": "video_generator", "function": "_cleanup_intermediate_files", "line": 431, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"sections_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\sections", "job_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:48:34.085711Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Cleanup complete", "module": "video_generator", "function": "_cleanup_intermediate_files", "line": 452, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"files_removed": 3, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:48:34.085711Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Video generation completed successfully", "module": "video_generator", "function": "generate_video", "line": 326, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "video_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\9b674d2c-bf88-4823-9941-39c1c36b1bfa\\final_video.mp4", "section_count": 7, "total_duration": 277.776, "total_cost": 0.1477, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:48:34.085711Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Completed: generate_video (job: 9b674d2c)", "module": "logging", "function": "__exit__", "line": 345, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "extra": {"duration_seconds": 391.9748589992523, "request_id": "7a4aa93b-a133-471e-9515-1d1fa5091315", "job_id": "9b674d2c-bf88-4823-9941-39c1c36b1bfa", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:48:35.134172Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "19af15a4-ef54-4e4f-b7e0-59ee4df92141", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "19af15a4-ef54-4e4f-b7e0-59ee4df92141", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.135170Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "48741cc2-7a2f-48ea-9bdb-15e3c18cb9e5", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "48741cc2-7a2f-48ea-9bdb-15e3c18cb9e5", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.136170Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "19af15a4-ef54-4e4f-b7e0-59ee4df92141", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "19af15a4-ef54-4e4f-b7e0-59ee4df92141", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.137176Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "48741cc2-7a2f-48ea-9bdb-15e3c18cb9e5", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "48741cc2-7a2f-48ea-9bdb-15e3c18cb9e5", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.143991Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "395ba41d-9828-4e19-904d-c278a5eb8c52", "extra": {"method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "client": "127.0.0.1", "request_id": "395ba41d-9828-4e19-904d-c278a5eb8c52", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.145992Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "395ba41d-9828-4e19-904d-c278a5eb8c52", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "request_id": "395ba41d-9828-4e19-904d-c278a5eb8c52", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.150514Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "be23381d-b103-4e1c-9cca-8ed96ff3046e", "extra": {"method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "client": "127.0.0.1", "request_id": "be23381d-b103-4e1c-9cca-8ed96ff3046e", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.153018Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "be23381d-b103-4e1c-9cca-8ed96ff3046e", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "request_id": "be23381d-b103-4e1c-9cca-8ed96ff3046e", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.170899Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4cc4127d-999a-41f5-bd46-f3902053b935", "extra": {"method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "client": "127.0.0.1", "request_id": "4cc4127d-999a-41f5-bd46-f3902053b935", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.174071Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4cc4127d-999a-41f5-bd46-f3902053b935", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "request_id": "4cc4127d-999a-41f5-bd46-f3902053b935", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.485211Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "938c4584-ba7d-47fb-a456-acdbf1836bc2", "extra": {"method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "client": "127.0.0.1", "request_id": "938c4584-ba7d-47fb-a456-acdbf1836bc2", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.487747Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "938c4584-ba7d-47fb-a456-acdbf1836bc2", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "request_id": "938c4584-ba7d-47fb-a456-acdbf1836bc2", "service": "api"}}
{"timestamp": "2026-02-08T22:48:35.491746Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T22:48:38.826765Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "02827af6-c19e-4d99-a898-26e768964347", "extra": {"method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "client": "127.0.0.1", "request_id": "02827af6-c19e-4d99-a898-26e768964347", "service": "api"}}
{"timestamp": "2026-02-08T22:48:38.827765Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "02827af6-c19e-4d99-a898-26e768964347", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "request_id": "02827af6-c19e-4d99-a898-26e768964347", "service": "api"}}
{"timestamp": "2026-02-08T22:48:38.963686Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "771cd5fd-1aac-4c1b-96b3-d5ed7ea4712b", "extra": {"method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "client": "127.0.0.1", "request_id": "771cd5fd-1aac-4c1b-96b3-d5ed7ea4712b", "service": "api"}}
{"timestamp": "2026-02-08T22:48:38.965997Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "771cd5fd-1aac-4c1b-96b3-d5ed7ea4712b", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/9b674d2c-bf88-4823-9941-39c1c36b1bfa/final_video.mp4", "request_id": "771cd5fd-1aac-4c1b-96b3-d5ed7ea4712b", "service": "api"}}
{"timestamp": "2026-02-08T22:54:01.699452Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8b9661d1-ea36-4f5e-b83d-bcd00dde4a0d", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "8b9661d1-ea36-4f5e-b83d-bcd00dde4a0d", "service": "api"}}
{"timestamp": "2026-02-08T22:54:01.700535Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "15966bc0-2e49-42a3-8eb5-4f1ef6f04a18", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "15966bc0-2e49-42a3-8eb5-4f1ef6f04a18", "service": "api"}}
{"timestamp": "2026-02-08T22:54:01.702451Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8b9661d1-ea36-4f5e-b83d-bcd00dde4a0d", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "8b9661d1-ea36-4f5e-b83d-bcd00dde4a0d", "service": "api"}}
{"timestamp": "2026-02-08T22:54:01.702451Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "15966bc0-2e49-42a3-8eb5-4f1ef6f04a18", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "15966bc0-2e49-42a3-8eb5-4f1ef6f04a18", "service": "api"}}
{"timestamp": "2026-02-08T22:54:01.704762Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "87d97071-c80b-483c-8a57-1a546bb1174e", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "client": "127.0.0.1", "request_id": "87d97071-c80b-483c-8a57-1a546bb1174e", "service": "api"}}
{"timestamp": "2026-02-08T22:54:01.704762Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "87d97071-c80b-483c-8a57-1a546bb1174e", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa", "request_id": "87d97071-c80b-483c-8a57-1a546bb1174e", "service": "api"}}
{"timestamp": "2026-02-08T22:54:01.706284Z", "level": "INFO", "logger": "app.main", "message": "GET /job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3eea5d3d-18c7-487e-b711-c8c5faea028e", "extra": {"method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "client": "127.0.0.1", "request_id": "3eea5d3d-18c7-487e-b711-c8c5faea028e", "service": "api"}}
{"timestamp": "2026-02-08T22:54:01.708832Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3eea5d3d-18c7-487e-b711-c8c5faea028e", "extra": {"status_code": 200, "method": "GET", "path": "/job/9b674d2c-bf88-4823-9941-39c1c36b1bfa/details", "request_id": "3eea5d3d-18c7-487e-b711-c8c5faea028e", "service": "api"}}
{"timestamp": "2026-02-08T22:54:53.940786Z", "level": "INFO", "logger": "app.main", "message": "POST /upload", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "extra": {"method": "POST", "path": "/upload", "client": "127.0.0.1", "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "service": "api"}}
{"timestamp": "2026-02-08T22:54:53.948968Z", "level": "INFO", "logger": "app.core.security", "message": "Filename sanitized", "module": "security", "function": "sanitize_filename", "line": 87, "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "extra": {"original": "Opti_Cours1_PL_M\u00e9thodes.pdf", "sanitized": "Opti_Cours1_PL_Mthodes.pdf", "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "component": "security"}}
{"timestamp": "2026-02-08T22:54:53.950475Z", "level": "INFO", "logger": "app.routes.upload", "message": "Filename sanitized for security", "module": "upload", "function": "upload_file", "line": 43, "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "extra": {"original": "Opti_Cours1_PL_M\u00e9thodes.pdf", "sanitized": "Opti_Cours1_PL_Mthodes.pdf", "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "component": "upload_routes"}}
{"timestamp": "2026-02-08T22:54:53.950475Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload initiated", "module": "upload", "function": "upload_file", "line": 48, "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "extra": {"upload_filename": "Opti_Cours1_PL_Mthodes.pdf", "content_type": "application/pdf", "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "component": "upload_routes"}}
{"timestamp": "2026-02-08T22:54:53.952485Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload completed", "module": "upload", "function": "upload_file", "line": 58, "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "extra": {"file_id": "12c165b3-287b-4905-9d5d-2837cca43405", "upload_filename": "Opti_Cours1_PL_Mthodes.pdf", "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "component": "upload_routes"}}
{"timestamp": "2026-02-08T22:54:53.953486Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "extra": {"status_code": 200, "method": "POST", "path": "/upload", "request_id": "9279fa0f-130d-4083-b649-5ad9837336d0", "service": "api"}}
{"timestamp": "2026-02-08T22:54:54.286783Z", "level": "INFO", "logger": "app.main", "message": "POST /analyze", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "extra": {"method": "POST", "path": "/analyze", "client": "127.0.0.1", "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "service": "api"}}
{"timestamp": "2026-02-08T22:54:54.338776Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Using coverage PDF slice for analysis", "module": "pdf", "function": "analyze", "line": 46, "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "extra": {"total_pages": 9, "file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\12c165b3-287b-4905-9d5d-2837cca43405.pdf", "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:54:54.339775Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "Built list payload for PDF analysis", "module": "pdf", "function": "_build_prompt_contents", "line": 102, "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:54:54.340772Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-flash-lite-latest | Prompt: 2760 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "extra": {"event": "llm_request", "request_id": "2e53a579-5b00-4a8f-b5c8-4337e585ab30", "timestamp": "2026-02-08T22:54:54.339775Z", "model": "gemini-flash-lite-latest", "prompt": "You are an expert educator preparing comprehensive educational video content with animated visuals.\n\nAnalyze this content and determine the best video structure.\nIMPORTANT: Detect the SUBJECT AREA (math, computer science, physics, economics, biology, engineering, general) from the content.\n\nDOCUMENT INFO:\n- Total pages: 9\n- This is a standard-sized document - create ONE comprehensive video\n\nCONTEN... [truncated, total: 2760 chars]", "prompt_length": 2760, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"summary": {"type": "string"}, "main_subject": {"type": "string"}, "subject_area": {"type": "string", "enum": ["math", "cs", "physics", "economics", "biology", "engineering", "general"]}, "key_concepts": {"type": "array", "items": {"type": "string"}}, "detected_math_elements": {"type": "integer"}, "document_structure": {"type": "string"}, "suggested_topics": {"type": "array", "items": {"type": "object", "properties": {"index": {"type": "integer"}, "title": {"type": "string"}, "description": {"type": "string"}, "estimated_duration": {"type": "integer"}, "complexity": {"type": "string"}, "subject_area": {"type": "string"}, "subtopics": {"type": "array", "items": {"type": "string"}}, "prerequisites": {"type": "array", "items": {"type": "string"}}, "visual_ideas": {"type": "array", "items": {"type": "string"}}}, "required": ["index", "title", "description", "estimated_duration", "complexity"]}}, "estimated_total_videos": {"type": "integer"}}, "required": ["summary", "main_subject", "subject_area", "key_concepts", "suggested_topics", "estimated_total_videos"]}}, "system_instruction": null, "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:54:54.342771Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47"}
{"timestamp": "2026-02-08T22:54:58.884269Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 4.54s | Length: 4880 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "extra": {"event": "llm_response", "request_id": "2e53a579-5b00-4a8f-b5c8-4337e585ab30", "timestamp": "2026-02-08T22:54:58.883264Z", "response_text": "{\n  \"summary\": \"This document provides a detailed tutorial on Linear Programming (LP) using the Simplex Algorithm, introduced by George Dantzig in 1947. It covers the graphical method for two-variable problems to establish intuition, followed by an in-depth, step-by-step explanation of the algebraic Simplex Method using a specific maximization problem. Key aspects include defining constraints, fin... [truncated, total: 4880 chars]", "duration_seconds": 4.543, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:54:58.885273Z", "level": "INFO", "logger": "app.services.pipeline.content_analysis.pdf", "message": "PDF analysis LLM call succeeded", "module": "pdf", "function": "_gemini_analyze", "line": 278, "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "extra": {"response_length": 4880, "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "component": "pdf_analyzer"}}
{"timestamp": "2026-02-08T22:54:58.888254Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "extra": {"status_code": 200, "method": "POST", "path": "/analyze", "request_id": "2502e7e4-1b98-4fbb-8af9-2373a7e32b47", "service": "api"}}
{"timestamp": "2026-02-08T22:55:00.607747Z", "level": "INFO", "logger": "app.main", "message": "GET /voices", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "14797cf8-c7d9-477f-b230-a05ae9bf635a", "extra": {"method": "GET", "path": "/voices", "client": "127.0.0.1", "request_id": "14797cf8-c7d9-477f-b230-a05ae9bf635a", "service": "api"}}
{"timestamp": "2026-02-08T22:55:00.610107Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "14797cf8-c7d9-477f-b230-a05ae9bf635a", "extra": {"status_code": 200, "method": "GET", "path": "/voices", "request_id": "14797cf8-c7d9-477f-b230-a05ae9bf635a", "service": "api"}}
{"timestamp": "2026-02-08T22:55:00.611115Z", "level": "INFO", "logger": "app.main", "message": "GET /voices", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0cb942a3-7f6c-4786-a69f-78557d4af588", "extra": {"method": "GET", "path": "/voices", "client": "127.0.0.1", "request_id": "0cb942a3-7f6c-4786-a69f-78557d4af588", "service": "api"}}
{"timestamp": "2026-02-08T22:55:00.613118Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0cb942a3-7f6c-4786-a69f-78557d4af588", "extra": {"status_code": 200, "method": "GET", "path": "/voices", "request_id": "0cb942a3-7f6c-4786-a69f-78557d4af588", "service": "api"}}
{"timestamp": "2026-02-08T22:55:14.939818Z", "level": "INFO", "logger": "app.main", "message": "POST /generate", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "extra": {"method": "POST", "path": "/generate", "client": "127.0.0.1", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "service": "api"}}
{"timestamp": "2026-02-08T22:55:22.714349Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "video_processor"}}
{"timestamp": "2026-02-08T22:55:22.714349Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:55:22.715350Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "extra": {"status_code": 200, "method": "POST", "path": "/generate", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "service": "api"}}
{"timestamp": "2026-02-08T22:55:22.717867Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Starting: generate_video (job: 16810011)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:55:22.719891Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "Initialized ProgressTracker for job 16810011", "module": "progress", "function": "__init__", "line": 114, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "job_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:55:22.719891Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Starting video generation", "module": "video_generator", "function": "generate_video", "line": 195, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "resume": false, "voice": "en-US-EmmaMultilingualNeural", "style": "3b1b", "language": "auto", "video_mode": "overview", "content_focus": "practice", "document_context": "auto", "max_concurrent": 3, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:55:22.720866Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "Found 0 completed sections", "module": "progress", "function": "check_existing_progress", "line": 184, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"completed_count": 0, "total_sections": 0, "completed_indices": [], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:55:22.720866Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Generating new script (video_mode: overview)", "module": "video_generator", "function": "generate_video", "line": 227, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:55:22.721865Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[script] Generating script...", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "script", "progress": 0, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:55:22.722867Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Generating script from material", "module": "video_generator", "function": "_generate_script", "line": 391, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"material_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\12c165b3-287b-4905-9d5d-2837cca43405.pdf", "video_mode": "overview", "content_focus": "practice", "document_context": "auto", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:55:22.723870Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Building PDF Part for attachment", "module": "base", "function": "build_pdf_part", "line": 129, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\12c165b3-287b-4905-9d5d-2837cca43405.pdf", "byte_count": 483000, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:55:22.723870Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Falling back to Part.from_bytes for PDF attachment", "module": "base", "function": "build_pdf_part", "line": 139, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\12c165b3-287b-4905-9d5d-2837cca43405.pdf", "byte_count": 483000, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:55:22.725200Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-flash-lite-latest | Prompt: 191 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "request_id": "6026cf1a-8339-45fa-bf44-dd1a7595bb6c", "timestamp": "2026-02-08T22:55:22.725200Z", "model": "gemini-flash-lite-latest", "prompt": "Detect the primary language of this text. Respond with ONLY the ISO 639-1 code (e.g., \"en\", \"fr\", \"es\").\n\nText:\nAnalyze the attached PDF and return its 2-letter language code.\n\nLanguage code:", "prompt_length": 191, "config": {"temperature": 0.1, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***"}, "system_instruction": null, "tools": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:55:22.726216Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:55:22.731750Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fd953a9f-10df-439d-a217-8fa88b060a01", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "fd953a9f-10df-439d-a217-8fa88b060a01", "service": "api"}}
{"timestamp": "2026-02-08T22:55:22.731750Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fd953a9f-10df-439d-a217-8fa88b060a01", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "fd953a9f-10df-439d-a217-8fa88b060a01", "service": "api"}}
{"timestamp": "2026-02-08T22:55:22.734746Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9a7619c5-69b2-4697-90f0-806ea037195f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "9a7619c5-69b2-4697-90f0-806ea037195f", "service": "api"}}
{"timestamp": "2026-02-08T22:55:22.737061Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "25ee3d6b-997f-48ff-91cc-cf26716d5420", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "25ee3d6b-997f-48ff-91cc-cf26716d5420", "service": "api"}}
{"timestamp": "2026-02-08T22:55:22.737061Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9a7619c5-69b2-4697-90f0-806ea037195f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "9a7619c5-69b2-4697-90f0-806ea037195f", "service": "api"}}
{"timestamp": "2026-02-08T22:55:22.739074Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "25ee3d6b-997f-48ff-91cc-cf26716d5420", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "25ee3d6b-997f-48ff-91cc-cf26716d5420", "service": "api"}}
{"timestamp": "2026-02-08T22:55:22.742072Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5b042828-5d3d-465a-9ca5-58af06ea89a4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "5b042828-5d3d-465a-9ca5-58af06ea89a4", "service": "api"}}
{"timestamp": "2026-02-08T22:55:22.744454Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5b042828-5d3d-465a-9ca5-58af06ea89a4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "5b042828-5d3d-465a-9ca5-58af06ea89a4", "service": "api"}}
{"timestamp": "2026-02-08T22:55:23.944112Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 1.22s | Length: 2 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "request_id": "6026cf1a-8339-45fa-bf44-dd1a7595bb6c", "timestamp": "2026-02-08T22:55:23.942889Z", "response_text": "fr", "duration_seconds": 1.218, "success": true, "error": null, "metadata": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:55:23.944112Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.generator", "message": "Using OVERVIEW mode", "module": "generator", "function": "generate_script", "line": 91, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"video_mode": "overview", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "script_generator"}}
{"timestamp": "2026-02-08T22:55:23.945362Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview generation constraints", "module": "overview_generator", "function": "generate_overview_script", "line": 135, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"overview_constraints": {"min_duration_seconds": 180, "max_duration_seconds": 420, "min_sections": 5, "max_sections": 8, "section_min_words": 80, "section_max_words": 170, "constraint_retry_count": 1}, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:55:23.945362Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Building PDF Part for attachment", "module": "base", "function": "build_pdf_part", "line": 129, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\12c165b3-287b-4905-9d5d-2837cca43405.pdf", "byte_count": 483000, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:55:23.945362Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Falling back to Part.from_bytes for PDF attachment", "module": "base", "function": "build_pdf_part", "line": 139, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"file_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\12c165b3-287b-4905-9d5d-2837cca43405.pdf", "byte_count": 483000, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:55:23.945362Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview planning profile", "module": "overview_generator", "function": "_build_planning_profile", "line": 537, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"material_score": 2, "total_pages": 9, "content_length": 0, "estimated_duration_hint": 22, "effective_min_sections": 6, "preferred_sections": 7, "preferred_duration_seconds": 384, "target_section_words": 153, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:55:23.945362Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Built list payload for prompt + attachment", "module": "base", "function": "build_prompt_contents", "line": 163, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:55:23.945362Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "LLM contents payload prepared", "module": "base", "function": "generate_with_engine", "line": 242, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"contents_type": "list", "contents_len": 2, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:55:23.947134Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 4578 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "request_id": "63085fc3-b85b-43f3-a821-0b4b745f684d", "timestamp": "2026-02-08T22:55:23.947134Z", "model": "gemini-3-flash-preview", "prompt": "You are an expert educator creating a SHORT, ENGAGING overview video script.\nGenerate ALL content in French.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n                         OVERVIEW VIDEO REQUIREMENTS\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nGOAL: Create a 3-7 MINUTE overview video that introduces the key concepts.\n-... [truncated, total: 4578 chars]", "prompt_length": 4578, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"title": {"type": "string", "description": "Engaging video title"}, "subject_area": {"type": "string", "description": "Subject area (math, cs, physics, etc.)"}, "overview": {"type": "string", "description": "2-3 sentence description of what viewers will learn"}, "learning_objectives": {"type": "array", "items": {"type": "string"}, "description": "2-4 key learning objectives"}, "sections": {"type": "array", "minItems": 5, "maxItems": 8, "items": {"type": "object", "properties": {"id": {"type": "string", "description": "Unique section identifier (e.g., intro, concept_1, conclusion)"}, "title": {"type": "string", "description": "Section title"}, "narration": {"type": "string", "description": "Complete spoken narration for this section (80-170 words)"}, "tts_narration": {"type": "string", "description": "TTS-ready narration with math spelled out"}, "supporting_data": {"type": "array", "items": {"type": "object", "properties": {"type": {"type": "string"}, "label": {"type": "string"}, "value": {}, "notes": {"type": "string"}}, "required": ["type", "value"]}}}, "required": ["id", "title", "narration", "tts_narration"]}, "description": "5-8 sections for the video"}}, "required": ["title", "overview", "sections"]}}, "system_instruction": null, "tools": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:55:23.948583Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:55:26.282436Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "de79694a-76b1-4121-b9ce-4bd09f010323", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "de79694a-76b1-4121-b9ce-4bd09f010323", "service": "api"}}
{"timestamp": "2026-02-08T22:55:26.283900Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0c80813c-f21d-406a-a86f-4159a579b91b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "0c80813c-f21d-406a-a86f-4159a579b91b", "service": "api"}}
{"timestamp": "2026-02-08T22:55:26.283900Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "de79694a-76b1-4121-b9ce-4bd09f010323", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "de79694a-76b1-4121-b9ce-4bd09f010323", "service": "api"}}
{"timestamp": "2026-02-08T22:55:26.284908Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0c80813c-f21d-406a-a86f-4159a579b91b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "0c80813c-f21d-406a-a86f-4159a579b91b", "service": "api"}}
{"timestamp": "2026-02-08T22:55:29.288203Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a34908f4-4625-4b63-b07c-f1e42ff0edc2", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a34908f4-4625-4b63-b07c-f1e42ff0edc2", "service": "api"}}
{"timestamp": "2026-02-08T22:55:29.289354Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9f036bc5-af7f-4b45-bd79-fa5c8c977cdc", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "9f036bc5-af7f-4b45-bd79-fa5c8c977cdc", "service": "api"}}
{"timestamp": "2026-02-08T22:55:29.289354Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a34908f4-4625-4b63-b07c-f1e42ff0edc2", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a34908f4-4625-4b63-b07c-f1e42ff0edc2", "service": "api"}}
{"timestamp": "2026-02-08T22:55:29.290361Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9f036bc5-af7f-4b45-bd79-fa5c8c977cdc", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "9f036bc5-af7f-4b45-bd79-fa5c8c977cdc", "service": "api"}}
{"timestamp": "2026-02-08T22:55:31.737852Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8c5d6e80-b25e-45c1-b3cd-d74e4017a5ab", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8c5d6e80-b25e-45c1-b3cd-d74e4017a5ab", "service": "api"}}
{"timestamp": "2026-02-08T22:55:31.738858Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "584df0f0-a444-4be1-b64f-823d2d1a0bf1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "584df0f0-a444-4be1-b64f-823d2d1a0bf1", "service": "api"}}
{"timestamp": "2026-02-08T22:55:31.739857Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8c5d6e80-b25e-45c1-b3cd-d74e4017a5ab", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8c5d6e80-b25e-45c1-b3cd-d74e4017a5ab", "service": "api"}}
{"timestamp": "2026-02-08T22:55:31.739857Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "584df0f0-a444-4be1-b64f-823d2d1a0bf1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "584df0f0-a444-4be1-b64f-823d2d1a0bf1", "service": "api"}}
{"timestamp": "2026-02-08T22:55:34.737016Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3a8f1c7e-ed05-495a-b444-afdb2839d630", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "3a8f1c7e-ed05-495a-b444-afdb2839d630", "service": "api"}}
{"timestamp": "2026-02-08T22:55:34.738124Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5cd6cf22-31bf-4ef5-a755-2c2424dbace8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "5cd6cf22-31bf-4ef5-a755-2c2424dbace8", "service": "api"}}
{"timestamp": "2026-02-08T22:55:34.740131Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3a8f1c7e-ed05-495a-b444-afdb2839d630", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "3a8f1c7e-ed05-495a-b444-afdb2839d630", "service": "api"}}
{"timestamp": "2026-02-08T22:55:34.740131Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5cd6cf22-31bf-4ef5-a755-2c2424dbace8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "5cd6cf22-31bf-4ef5-a755-2c2424dbace8", "service": "api"}}
{"timestamp": "2026-02-08T22:55:38.277141Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c8e16d25-35f1-4e68-86c2-f00f7d7f999f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c8e16d25-35f1-4e68-86c2-f00f7d7f999f", "service": "api"}}
{"timestamp": "2026-02-08T22:55:38.278569Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0093637e-b278-43fc-80a2-af9527e4cb31", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "0093637e-b278-43fc-80a2-af9527e4cb31", "service": "api"}}
{"timestamp": "2026-02-08T22:55:38.279577Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c8e16d25-35f1-4e68-86c2-f00f7d7f999f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c8e16d25-35f1-4e68-86c2-f00f7d7f999f", "service": "api"}}
{"timestamp": "2026-02-08T22:55:38.281066Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0093637e-b278-43fc-80a2-af9527e4cb31", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "0093637e-b278-43fc-80a2-af9527e4cb31", "service": "api"}}
{"timestamp": "2026-02-08T22:55:41.273712Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a70c30a0-5f07-4e26-9a13-37713122d467", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a70c30a0-5f07-4e26-9a13-37713122d467", "service": "api"}}
{"timestamp": "2026-02-08T22:55:41.273712Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "41ae7dc1-7c2d-45de-b2fb-71ee8577a20d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "41ae7dc1-7c2d-45de-b2fb-71ee8577a20d", "service": "api"}}
{"timestamp": "2026-02-08T22:55:41.274716Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a70c30a0-5f07-4e26-9a13-37713122d467", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a70c30a0-5f07-4e26-9a13-37713122d467", "service": "api"}}
{"timestamp": "2026-02-08T22:55:41.276077Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "41ae7dc1-7c2d-45de-b2fb-71ee8577a20d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "41ae7dc1-7c2d-45de-b2fb-71ee8577a20d", "service": "api"}}
{"timestamp": "2026-02-08T22:55:44.282077Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c12cea02-a110-4ba8-a3b9-d712c4fe4aab", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c12cea02-a110-4ba8-a3b9-d712c4fe4aab", "service": "api"}}
{"timestamp": "2026-02-08T22:55:44.283077Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6ae33e64-33d5-48de-a1ae-a81cccaff211", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6ae33e64-33d5-48de-a1ae-a81cccaff211", "service": "api"}}
{"timestamp": "2026-02-08T22:55:44.284075Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c12cea02-a110-4ba8-a3b9-d712c4fe4aab", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c12cea02-a110-4ba8-a3b9-d712c4fe4aab", "service": "api"}}
{"timestamp": "2026-02-08T22:55:44.285197Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6ae33e64-33d5-48de-a1ae-a81cccaff211", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6ae33e64-33d5-48de-a1ae-a81cccaff211", "service": "api"}}
{"timestamp": "2026-02-08T22:55:47.280190Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0cc828ef-5acd-4814-b8f7-e56430504996", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "0cc828ef-5acd-4814-b8f7-e56430504996", "service": "api"}}
{"timestamp": "2026-02-08T22:55:47.281183Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "023d457e-9f03-4fad-9b59-a6cad85ba814", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "023d457e-9f03-4fad-9b59-a6cad85ba814", "service": "api"}}
{"timestamp": "2026-02-08T22:55:47.282182Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0cc828ef-5acd-4814-b8f7-e56430504996", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "0cc828ef-5acd-4814-b8f7-e56430504996", "service": "api"}}
{"timestamp": "2026-02-08T22:55:47.283319Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "023d457e-9f03-4fad-9b59-a6cad85ba814", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "023d457e-9f03-4fad-9b59-a6cad85ba814", "service": "api"}}
{"timestamp": "2026-02-08T22:55:50.281718Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "48e86f2c-5438-4291-8d86-4f9eb328fdbb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "48e86f2c-5438-4291-8d86-4f9eb328fdbb", "service": "api"}}
{"timestamp": "2026-02-08T22:55:50.283043Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "301c9e48-7860-4926-909a-154913ee7caa", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "301c9e48-7860-4926-909a-154913ee7caa", "service": "api"}}
{"timestamp": "2026-02-08T22:55:50.284521Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "48e86f2c-5438-4291-8d86-4f9eb328fdbb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "48e86f2c-5438-4291-8d86-4f9eb328fdbb", "service": "api"}}
{"timestamp": "2026-02-08T22:55:50.286542Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "301c9e48-7860-4926-909a-154913ee7caa", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "301c9e48-7860-4926-909a-154913ee7caa", "service": "api"}}
{"timestamp": "2026-02-08T22:55:53.272961Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "956ac138-54f0-4cf4-997c-9fa8c150a1c0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "956ac138-54f0-4cf4-997c-9fa8c150a1c0", "service": "api"}}
{"timestamp": "2026-02-08T22:55:53.273962Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "11676933-3675-41f0-96e1-182f22181959", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "11676933-3675-41f0-96e1-182f22181959", "service": "api"}}
{"timestamp": "2026-02-08T22:55:53.274963Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "956ac138-54f0-4cf4-997c-9fa8c150a1c0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "956ac138-54f0-4cf4-997c-9fa8c150a1c0", "service": "api"}}
{"timestamp": "2026-02-08T22:55:53.276316Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "11676933-3675-41f0-96e1-182f22181959", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "11676933-3675-41f0-96e1-182f22181959", "service": "api"}}
{"timestamp": "2026-02-08T22:55:56.281594Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "360b68f8-e83c-42b2-a73c-ce91df316612", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "360b68f8-e83c-42b2-a73c-ce91df316612", "service": "api"}}
{"timestamp": "2026-02-08T22:55:56.282600Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ae7bb34e-fe77-46b3-a31e-c3a352885285", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ae7bb34e-fe77-46b3-a31e-c3a352885285", "service": "api"}}
{"timestamp": "2026-02-08T22:55:56.282600Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "360b68f8-e83c-42b2-a73c-ce91df316612", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "360b68f8-e83c-42b2-a73c-ce91df316612", "service": "api"}}
{"timestamp": "2026-02-08T22:55:56.284066Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ae7bb34e-fe77-46b3-a31e-c3a352885285", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ae7bb34e-fe77-46b3-a31e-c3a352885285", "service": "api"}}
{"timestamp": "2026-02-08T22:55:58.930060Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 34.98s | Length: 16796 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "request_id": "63085fc3-b85b-43f3-a821-0b4b745f684d", "timestamp": "2026-02-08T22:55:58.929051Z", "response_text": "{\n  \"title\": \"Ma\u00eetriser l'Optimisation : La Programmation Lin\u00e9aire et l'Algorithme du Simplexe\",\n  \"subject_area\": \"math\",\n  \"overview\": \"D\u00e9couvrez comment r\u00e9soudre des probl\u00e8mes d'optimisation complexes en utilisant la m\u00e9thode graphique et l'algorithme du simplexe. Nous explorerons le passage de la g\u00e9om\u00e9trie \u00e0 l'alg\u00e8bre pour trouver des solutions optimales avec une pr\u00e9cision math\u00e9matique rigoureu... [truncated, total: 16796 chars]", "duration_seconds": 34.982, "success": true, "error": null, "metadata": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:55:58.936064Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script metrics", "module": "overview_generator", "function": "_log_script_metrics", "line": 638, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempt": 1, "metrics": {"section_count": 7, "total_words": 1010, "estimated_duration_seconds": 494, "section_word_counts": [145, 144, 141, 148, 146, 162, 124]}, "violations": ["duration_too_high"], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:55:58.936064Z", "level": "WARNING", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script constraints missed; retrying generation", "module": "overview_generator", "function": "generate_overview_script", "line": 224, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempt": 1, "max_attempts": 2, "violations": ["duration_too_high"], "metrics": {"section_count": 7, "section_word_counts": [145, 144, 141, 148, 146, 162, 124], "total_words": 1010, "estimated_duration_seconds": 494}, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:55:58.937570Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "Built list payload for prompt + attachment", "module": "base", "function": "build_prompt_contents", "line": 163, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"parts": 2, "ordering": "attachment_then_prompt", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:55:58.937570Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.base", "message": "LLM contents payload prepared", "module": "base", "function": "generate_with_engine", "line": 242, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"contents_type": "list", "contents_len": 2, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "script_generation_base"}}
{"timestamp": "2026-02-08T22:55:58.938578Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 5080 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "request_id": "a68b804d-05d2-415f-acc4-ad333002ffdd", "timestamp": "2026-02-08T22:55:58.937570Z", "model": "gemini-3-flash-preview", "prompt": "You are an expert educator creating a SHORT, ENGAGING overview video script.\nGenerate ALL content in French.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n                         OVERVIEW VIDEO REQUIREMENTS\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nGOAL: Create a 3-7 MINUTE overview video that introduces the key concepts.\n-... [truncated, total: 5080 chars]", "prompt_length": 5080, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"title": {"type": "string", "description": "Engaging video title"}, "subject_area": {"type": "string", "description": "Subject area (math, cs, physics, etc.)"}, "overview": {"type": "string", "description": "2-3 sentence description of what viewers will learn"}, "learning_objectives": {"type": "array", "items": {"type": "string"}, "description": "2-4 key learning objectives"}, "sections": {"type": "array", "minItems": 5, "maxItems": 8, "items": {"type": "object", "properties": {"id": {"type": "string", "description": "Unique section identifier (e.g., intro, concept_1, conclusion)"}, "title": {"type": "string", "description": "Section title"}, "narration": {"type": "string", "description": "Complete spoken narration for this section (80-170 words)"}, "tts_narration": {"type": "string", "description": "TTS-ready narration with math spelled out"}, "supporting_data": {"type": "array", "items": {"type": "object", "properties": {"type": {"type": "string"}, "label": {"type": "string"}, "value": {}, "notes": {"type": "string"}}, "required": ["type", "value"], "property_ordering": ["type", "label", "value", "notes"]}}}, "required": ["id", "title", "narration", "tts_narration"], "property_ordering": ["id", "title", "narration", "tts_narration", "supporting_data"]}, "description": "5-8 sections for the video"}}, "required": ["title", "overview", "sections"]}}, "system_instruction": null, "tools": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:55:58.940583Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:55:59.283414Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "53ab8b81-0344-4f88-9877-3abd98accb89", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "53ab8b81-0344-4f88-9877-3abd98accb89", "service": "api"}}
{"timestamp": "2026-02-08T22:55:59.284406Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d14dd27c-fd19-48a4-999c-6973b2d0f415", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "d14dd27c-fd19-48a4-999c-6973b2d0f415", "service": "api"}}
{"timestamp": "2026-02-08T22:55:59.285404Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "53ab8b81-0344-4f88-9877-3abd98accb89", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "53ab8b81-0344-4f88-9877-3abd98accb89", "service": "api"}}
{"timestamp": "2026-02-08T22:55:59.285404Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d14dd27c-fd19-48a4-999c-6973b2d0f415", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "d14dd27c-fd19-48a4-999c-6973b2d0f415", "service": "api"}}
{"timestamp": "2026-02-08T22:56:02.272944Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6713f358-caef-4893-840b-f260bb641995", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6713f358-caef-4893-840b-f260bb641995", "service": "api"}}
{"timestamp": "2026-02-08T22:56:02.273925Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "553ca2a0-714b-413c-a0de-fcb7e75f23ee", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "553ca2a0-714b-413c-a0de-fcb7e75f23ee", "service": "api"}}
{"timestamp": "2026-02-08T22:56:02.273925Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6713f358-caef-4893-840b-f260bb641995", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6713f358-caef-4893-840b-f260bb641995", "service": "api"}}
{"timestamp": "2026-02-08T22:56:02.275927Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "553ca2a0-714b-413c-a0de-fcb7e75f23ee", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "553ca2a0-714b-413c-a0de-fcb7e75f23ee", "service": "api"}}
{"timestamp": "2026-02-08T22:56:05.281781Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fbc71963-5a87-42f0-832e-9505e27d0dec", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "fbc71963-5a87-42f0-832e-9505e27d0dec", "service": "api"}}
{"timestamp": "2026-02-08T22:56:05.283778Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0ed4ee55-09fe-4fa3-bff2-061e08dfa132", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "0ed4ee55-09fe-4fa3-bff2-061e08dfa132", "service": "api"}}
{"timestamp": "2026-02-08T22:56:05.284778Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fbc71963-5a87-42f0-832e-9505e27d0dec", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "fbc71963-5a87-42f0-832e-9505e27d0dec", "service": "api"}}
{"timestamp": "2026-02-08T22:56:05.285779Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0ed4ee55-09fe-4fa3-bff2-061e08dfa132", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "0ed4ee55-09fe-4fa3-bff2-061e08dfa132", "service": "api"}}
{"timestamp": "2026-02-08T22:56:08.279466Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c1f13165-5135-4eb3-b329-c300c7c33eab", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c1f13165-5135-4eb3-b329-c300c7c33eab", "service": "api"}}
{"timestamp": "2026-02-08T22:56:08.279995Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bb250ca9-b36c-4424-af2e-5de76036797c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "bb250ca9-b36c-4424-af2e-5de76036797c", "service": "api"}}
{"timestamp": "2026-02-08T22:56:08.280531Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c1f13165-5135-4eb3-b329-c300c7c33eab", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c1f13165-5135-4eb3-b329-c300c7c33eab", "service": "api"}}
{"timestamp": "2026-02-08T22:56:08.281539Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bb250ca9-b36c-4424-af2e-5de76036797c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "bb250ca9-b36c-4424-af2e-5de76036797c", "service": "api"}}
{"timestamp": "2026-02-08T22:56:11.284100Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "480e9ff3-6439-4cee-864e-7615ff0adc09", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "480e9ff3-6439-4cee-864e-7615ff0adc09", "service": "api"}}
{"timestamp": "2026-02-08T22:56:11.285097Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fb8674a5-83a7-4186-a28b-84c9705fd38d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "fb8674a5-83a7-4186-a28b-84c9705fd38d", "service": "api"}}
{"timestamp": "2026-02-08T22:56:11.286095Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "480e9ff3-6439-4cee-864e-7615ff0adc09", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "480e9ff3-6439-4cee-864e-7615ff0adc09", "service": "api"}}
{"timestamp": "2026-02-08T22:56:11.286095Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fb8674a5-83a7-4186-a28b-84c9705fd38d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "fb8674a5-83a7-4186-a28b-84c9705fd38d", "service": "api"}}
{"timestamp": "2026-02-08T22:56:14.281048Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e2e2c76d-f4e3-4e81-ab7f-4754629dcee1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e2e2c76d-f4e3-4e81-ab7f-4754629dcee1", "service": "api"}}
{"timestamp": "2026-02-08T22:56:14.282050Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3784d245-56d5-4dd9-8a38-7e4af3e1e960", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "3784d245-56d5-4dd9-8a38-7e4af3e1e960", "service": "api"}}
{"timestamp": "2026-02-08T22:56:14.284052Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e2e2c76d-f4e3-4e81-ab7f-4754629dcee1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e2e2c76d-f4e3-4e81-ab7f-4754629dcee1", "service": "api"}}
{"timestamp": "2026-02-08T22:56:14.285048Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3784d245-56d5-4dd9-8a38-7e4af3e1e960", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "3784d245-56d5-4dd9-8a38-7e4af3e1e960", "service": "api"}}
{"timestamp": "2026-02-08T22:56:17.272120Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "725735fb-aad6-4409-b85d-4b917ece935e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "725735fb-aad6-4409-b85d-4b917ece935e", "service": "api"}}
{"timestamp": "2026-02-08T22:56:17.273125Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "160dd2a8-02d6-4890-b9da-065a54298364", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "160dd2a8-02d6-4890-b9da-065a54298364", "service": "api"}}
{"timestamp": "2026-02-08T22:56:17.274132Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "725735fb-aad6-4409-b85d-4b917ece935e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "725735fb-aad6-4409-b85d-4b917ece935e", "service": "api"}}
{"timestamp": "2026-02-08T22:56:17.275132Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "160dd2a8-02d6-4890-b9da-065a54298364", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "160dd2a8-02d6-4890-b9da-065a54298364", "service": "api"}}
{"timestamp": "2026-02-08T22:56:20.285522Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "595a17b9-d53e-4f69-8552-5635f3ad527f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "595a17b9-d53e-4f69-8552-5635f3ad527f", "service": "api"}}
{"timestamp": "2026-02-08T22:56:20.286520Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8e275495-5407-4dd2-bf09-6d58ee774ded", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8e275495-5407-4dd2-bf09-6d58ee774ded", "service": "api"}}
{"timestamp": "2026-02-08T22:56:20.287527Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "595a17b9-d53e-4f69-8552-5635f3ad527f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "595a17b9-d53e-4f69-8552-5635f3ad527f", "service": "api"}}
{"timestamp": "2026-02-08T22:56:20.288589Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8e275495-5407-4dd2-bf09-6d58ee774ded", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8e275495-5407-4dd2-bf09-6d58ee774ded", "service": "api"}}
{"timestamp": "2026-02-08T22:56:23.282948Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "67721bc5-0bf5-465c-b48f-9f2cde827fb6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "67721bc5-0bf5-465c-b48f-9f2cde827fb6", "service": "api"}}
{"timestamp": "2026-02-08T22:56:23.283947Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5ef4a468-d9d7-446e-b15d-c5623ca6f832", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "5ef4a468-d9d7-446e-b15d-c5623ca6f832", "service": "api"}}
{"timestamp": "2026-02-08T22:56:23.284945Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "67721bc5-0bf5-465c-b48f-9f2cde827fb6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "67721bc5-0bf5-465c-b48f-9f2cde827fb6", "service": "api"}}
{"timestamp": "2026-02-08T22:56:23.284945Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5ef4a468-d9d7-446e-b15d-c5623ca6f832", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "5ef4a468-d9d7-446e-b15d-c5623ca6f832", "service": "api"}}
{"timestamp": "2026-02-08T22:56:26.274338Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f838d390-7b9b-46c6-8b69-77a5fc3d9c66", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "f838d390-7b9b-46c6-8b69-77a5fc3d9c66", "service": "api"}}
{"timestamp": "2026-02-08T22:56:26.275340Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ea18f6aa-764a-41b1-9169-f13b0fa27f8e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ea18f6aa-764a-41b1-9169-f13b0fa27f8e", "service": "api"}}
{"timestamp": "2026-02-08T22:56:26.276338Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f838d390-7b9b-46c6-8b69-77a5fc3d9c66", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "f838d390-7b9b-46c6-8b69-77a5fc3d9c66", "service": "api"}}
{"timestamp": "2026-02-08T22:56:26.276338Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ea18f6aa-764a-41b1-9169-f13b0fa27f8e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ea18f6aa-764a-41b1-9169-f13b0fa27f8e", "service": "api"}}
{"timestamp": "2026-02-08T22:56:29.286094Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7e79fd5d-e320-423d-8084-200e3a9f82bc", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7e79fd5d-e320-423d-8084-200e3a9f82bc", "service": "api"}}
{"timestamp": "2026-02-08T22:56:29.288606Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "42c1fc22-3e09-464a-9b0d-b45abf59e3fb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "42c1fc22-3e09-464a-9b0d-b45abf59e3fb", "service": "api"}}
{"timestamp": "2026-02-08T22:56:29.289606Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7e79fd5d-e320-423d-8084-200e3a9f82bc", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7e79fd5d-e320-423d-8084-200e3a9f82bc", "service": "api"}}
{"timestamp": "2026-02-08T22:56:29.290605Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "42c1fc22-3e09-464a-9b0d-b45abf59e3fb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "42c1fc22-3e09-464a-9b0d-b45abf59e3fb", "service": "api"}}
{"timestamp": "2026-02-08T22:56:32.281372Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6ee14110-0897-4c80-8972-3bbce9d81ac3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6ee14110-0897-4c80-8972-3bbce9d81ac3", "service": "api"}}
{"timestamp": "2026-02-08T22:56:32.282373Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9fbdf066-5956-4339-8e07-b48e299f782d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "9fbdf066-5956-4339-8e07-b48e299f782d", "service": "api"}}
{"timestamp": "2026-02-08T22:56:32.283373Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6ee14110-0897-4c80-8972-3bbce9d81ac3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6ee14110-0897-4c80-8972-3bbce9d81ac3", "service": "api"}}
{"timestamp": "2026-02-08T22:56:32.284371Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9fbdf066-5956-4339-8e07-b48e299f782d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "9fbdf066-5956-4339-8e07-b48e299f782d", "service": "api"}}
{"timestamp": "2026-02-08T22:56:35.284275Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "408f3ed0-8d0e-4b63-ac1f-3c19122c0511", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "408f3ed0-8d0e-4b63-ac1f-3c19122c0511", "service": "api"}}
{"timestamp": "2026-02-08T22:56:35.285275Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e40d06f0-bd62-48fb-8d3f-125784fb9170", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e40d06f0-bd62-48fb-8d3f-125784fb9170", "service": "api"}}
{"timestamp": "2026-02-08T22:56:35.286275Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "408f3ed0-8d0e-4b63-ac1f-3c19122c0511", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "408f3ed0-8d0e-4b63-ac1f-3c19122c0511", "service": "api"}}
{"timestamp": "2026-02-08T22:56:35.287780Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e40d06f0-bd62-48fb-8d3f-125784fb9170", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e40d06f0-bd62-48fb-8d3f-125784fb9170", "service": "api"}}
{"timestamp": "2026-02-08T22:56:36.405834Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 37.47s | Length: 15819 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "request_id": "a68b804d-05d2-415f-acc4-ad333002ffdd", "timestamp": "2026-02-08T22:56:36.404834Z", "response_text": "{\n  \"title\": \"Ma\u00eetriser l'Optimisation : De la M\u00e9thode Graphique au Simplexe\",\n  \"subject_area\": \"math\",\n  \"overview\": \"D\u00e9couvrez les fondements de la programmation lin\u00e9aire \u00e0 travers l'algorithme du simplexe de George Dantzig. Nous explorerons comment maximiser une fonction sous contraintes en passant d'une r\u00e9solution graphique intuitive \u00e0 une m\u00e9thode alg\u00e9brique puissante par tableaux.\",\n  \"learn... [truncated, total: 15819 chars]", "duration_seconds": 37.466, "success": true, "error": null, "metadata": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:56:36.411933Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script metrics", "module": "overview_generator", "function": "_log_script_metrics", "line": 638, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempt": 2, "metrics": {"section_count": 7, "total_words": 945, "estimated_duration_seconds": 458, "section_word_counts": [144, 139, 132, 144, 128, 129, 129]}, "violations": ["duration_too_high"], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:56:36.411933Z", "level": "WARNING", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script constraints still missed after retries; returning best effort", "module": "overview_generator", "function": "generate_overview_script", "line": 235, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"violations": ["duration_too_high"], "metrics": {"section_count": 7, "section_word_counts": [144, 139, 132, 144, 128, 129, 129], "total_words": 945, "estimated_duration_seconds": 458}, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "overview_script_generator"}}
{"timestamp": "2026-02-08T22:56:36.416933Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[script] Script generated", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "script", "progress": 100, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:56:36.418437Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Processing 7 sections", "module": "video_generator", "function": "generate_video", "line": 258, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_count": 7, "effective_language": "fr", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_generator"}}
{"timestamp": "2026-02-08T22:56:36.419445Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Initialized SectionOrchestrator", "module": "orchestrator", "function": "__init__", "line": 79, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"max_concurrent": 3, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:56:36.419445Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Starting: process_sections_parallel (7 sections)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:56:36.419445Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Starting parallel section processing", "module": "orchestrator", "function": "process_sections_parallel", "line": 121, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"total_sections": 7, "max_concurrent": 3, "resume": false, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:56:36.420949Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Processing 7 sections (max 3 concurrent)...", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "sections", "progress": 0, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:56:36.423961Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 1/7: Introduction \u00e0 la Programmation Lin\u00e9aire", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 0, "total_sections": 7, "title": "Introduction \u00e0 la Programmation Lin\u00e9aire", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:56:36.423961Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Processing 8 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:56:36.854079Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 2/7: La Visualisation : La M\u00e9thode Graphique", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 1, "total_sections": 7, "title": "La Visualisation : La M\u00e9thode Graphique", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:56:36.855079Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Processing 9 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:56:37.260819Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 3/7: La Forme Standard et les Variables d'\u00c9cart", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 2, "total_sections": 7, "title": "La Forme Standard et les Variables d'\u00c9cart", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:56:37.261820Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Processing 6 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:56:43.115347Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9a644ca6-6465-45c4-8753-a91e0c3e7bea", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "9a644ca6-6465-45c4-8753-a91e0c3e7bea", "service": "api"}}
{"timestamp": "2026-02-08T22:56:43.116347Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d2f859d3-2979-42c2-8d88-bcece024f07c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "d2f859d3-2979-42c2-8d88-bcece024f07c", "service": "api"}}
{"timestamp": "2026-02-08T22:56:43.124859Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9a644ca6-6465-45c4-8753-a91e0c3e7bea", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "9a644ca6-6465-45c4-8753-a91e0c3e7bea", "service": "api"}}
{"timestamp": "2026-02-08T22:56:43.125862Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d2f859d3-2979-42c2-8d88-bcece024f07c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "d2f859d3-2979-42c2-8d88-bcece024f07c", "service": "api"}}
{"timestamp": "2026-02-08T22:56:43.734186Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0ceb457a-ce70-4cd4-895a-3360ff036ea8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "0ceb457a-ce70-4cd4-895a-3360ff036ea8", "service": "api"}}
{"timestamp": "2026-02-08T22:56:43.735188Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3c021ef8-e044-4bcd-95f7-a04c6062a947", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "3c021ef8-e044-4bcd-95f7-a04c6062a947", "service": "api"}}
{"timestamp": "2026-02-08T22:56:43.735188Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0ceb457a-ce70-4cd4-895a-3360ff036ea8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "0ceb457a-ce70-4cd4-895a-3360ff036ea8", "service": "api"}}
{"timestamp": "2026-02-08T22:56:43.741702Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3c021ef8-e044-4bcd-95f7-a04c6062a947", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "3c021ef8-e044-4bcd-95f7-a04c6062a947", "service": "api"}}
{"timestamp": "2026-02-08T22:56:47.277176Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c90baac7-fb84-4206-860e-f2fc67b473ff", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c90baac7-fb84-4206-860e-f2fc67b473ff", "service": "api"}}
{"timestamp": "2026-02-08T22:56:47.278176Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d3458bc2-a34f-4e9d-9101-c2e54918947e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "d3458bc2-a34f-4e9d-9101-c2e54918947e", "service": "api"}}
{"timestamp": "2026-02-08T22:56:47.278681Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c90baac7-fb84-4206-860e-f2fc67b473ff", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c90baac7-fb84-4206-860e-f2fc67b473ff", "service": "api"}}
{"timestamp": "2026-02-08T22:56:47.282794Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d3458bc2-a34f-4e9d-9101-c2e54918947e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "d3458bc2-a34f-4e9d-9101-c2e54918947e", "service": "api"}}
{"timestamp": "2026-02-08T22:56:50.285356Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5509cd23-4323-4eb0-af0a-4dad43607340", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "5509cd23-4323-4eb0-af0a-4dad43607340", "service": "api"}}
{"timestamp": "2026-02-08T22:56:50.286356Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "922e34c3-318d-451a-b926-c5e4a4c92fc9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "922e34c3-318d-451a-b926-c5e4a4c92fc9", "service": "api"}}
{"timestamp": "2026-02-08T22:56:50.289865Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5509cd23-4323-4eb0-af0a-4dad43607340", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "5509cd23-4323-4eb0-af0a-4dad43607340", "service": "api"}}
{"timestamp": "2026-02-08T22:56:50.290868Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "922e34c3-318d-451a-b926-c5e4a4c92fc9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "922e34c3-318d-451a-b926-c5e4a4c92fc9", "service": "api"}}
{"timestamp": "2026-02-08T22:56:53.285449Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7f87a336-9922-4db3-8d12-7d788bd35fb0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7f87a336-9922-4db3-8d12-7d788bd35fb0", "service": "api"}}
{"timestamp": "2026-02-08T22:56:53.285449Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e5e438ed-cd07-42da-b6dd-1ca6a9ff3117", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e5e438ed-cd07-42da-b6dd-1ca6a9ff3117", "service": "api"}}
{"timestamp": "2026-02-08T22:56:53.289957Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7f87a336-9922-4db3-8d12-7d788bd35fb0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7f87a336-9922-4db3-8d12-7d788bd35fb0", "service": "api"}}
{"timestamp": "2026-02-08T22:56:53.290964Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e5e438ed-cd07-42da-b6dd-1ca6a9ff3117", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e5e438ed-cd07-42da-b6dd-1ca6a9ff3117", "service": "api"}}
{"timestamp": "2026-02-08T22:56:53.776417Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Total audio duration = 44.2s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:56:53.861212Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Generating unified video using NEW Pipeline (44.2s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:56:53.862213Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 2 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:56:53.863212Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'La Forme Standard et les Variables d'\u00c9cart'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:56:53.864211Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9924 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "choreography", "request_id": "2ddb6891-f179-443d-829b-a8e5bbe7034d", "timestamp": "2026-02-08T22:56:53.864211Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: La Forme Standard et les Variables d'\u00c9cart\n**Duration**: 44.160000000000004s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: French\n**Visual Str... [truncated, total: 9924 chars]", "prompt_length": 9924, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:56:53.865213Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:56:55.451417Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Total audio duration = 47.0s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:56:55.526741Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Generating unified video using NEW Pipeline (47.0s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:56:55.526741Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 1 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:56:55.528211Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'La Visualisation : La M\u00e9thode Graphique'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:56:55.531218Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10605 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "choreography", "request_id": "5487ba7b-1f4f-4572-ab02-418f3a0f1d2f", "timestamp": "2026-02-08T22:56:55.529221Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: La Visualisation : La M\u00e9thode Graphique\n**Duration**: 46.967999999999996s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: French\n**Visual Strate... [truncated, total: 10605 chars]", "prompt_length": 10605, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:56:55.532217Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:56:56.281268Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bd00580a-3d5e-45de-ae13-a546b0de3535", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "bd00580a-3d5e-45de-ae13-a546b0de3535", "service": "api"}}
{"timestamp": "2026-02-08T22:56:56.282268Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "81be842d-3412-4295-b795-3fd48e4fb85d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "81be842d-3412-4295-b795-3fd48e4fb85d", "service": "api"}}
{"timestamp": "2026-02-08T22:56:56.285266Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bd00580a-3d5e-45de-ae13-a546b0de3535", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "bd00580a-3d5e-45de-ae13-a546b0de3535", "service": "api"}}
{"timestamp": "2026-02-08T22:56:56.286266Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "81be842d-3412-4295-b795-3fd48e4fb85d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "81be842d-3412-4295-b795-3fd48e4fb85d", "service": "api"}}
{"timestamp": "2026-02-08T22:56:57.195221Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Total audio duration = 49.4s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:56:57.270641Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Generating unified video using NEW Pipeline (49.4s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:56:57.271641Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 0 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:56:57.272641Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Introduction \u00e0 la Programmation Lin\u00e9aire'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:56:57.274146Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10492 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "choreography", "request_id": "9226893f-5923-4f29-a59a-3b06053f9cc6", "timestamp": "2026-02-08T22:56:57.272641Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Introduction \u00e0 la Programmation Lin\u00e9aire\n**Duration**: 49.43999999999999s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: French\n**Visual Strate... [truncated, total: 10492 chars]", "prompt_length": 10492, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:56:57.276153Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:56:59.282121Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f700bbe4-285f-4b61-95ad-7b3421ad506c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "f700bbe4-285f-4b61-95ad-7b3421ad506c", "service": "api"}}
{"timestamp": "2026-02-08T22:56:59.283120Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "273bbcae-b5ee-4433-a0cf-82518067419c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "273bbcae-b5ee-4433-a0cf-82518067419c", "service": "api"}}
{"timestamp": "2026-02-08T22:56:59.283120Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f700bbe4-285f-4b61-95ad-7b3421ad506c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "f700bbe4-285f-4b61-95ad-7b3421ad506c", "service": "api"}}
{"timestamp": "2026-02-08T22:56:59.289238Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "273bbcae-b5ee-4433-a0cf-82518067419c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "273bbcae-b5ee-4433-a0cf-82518067419c", "service": "api"}}
{"timestamp": "2026-02-08T22:57:02.277582Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4903b5e7-c92d-4c05-9f99-43f057218508", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "4903b5e7-c92d-4c05-9f99-43f057218508", "service": "api"}}
{"timestamp": "2026-02-08T22:57:02.278087Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4a4a5161-c4dd-4b09-b8e0-a00f9f24796a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "4a4a5161-c4dd-4b09-b8e0-a00f9f24796a", "service": "api"}}
{"timestamp": "2026-02-08T22:57:02.281583Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4903b5e7-c92d-4c05-9f99-43f057218508", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "4903b5e7-c92d-4c05-9f99-43f057218508", "service": "api"}}
{"timestamp": "2026-02-08T22:57:02.282582Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4a4a5161-c4dd-4b09-b8e0-a00f9f24796a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "4a4a5161-c4dd-4b09-b8e0-a00f9f24796a", "service": "api"}}
{"timestamp": "2026-02-08T22:57:05.278605Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c90285ab-517a-4638-8d51-32f25071fe36", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c90285ab-517a-4638-8d51-32f25071fe36", "service": "api"}}
{"timestamp": "2026-02-08T22:57:05.280110Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fa66c30d-8d2b-48b7-804a-1606166b318b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "fa66c30d-8d2b-48b7-804a-1606166b318b", "service": "api"}}
{"timestamp": "2026-02-08T22:57:05.284121Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c90285ab-517a-4638-8d51-32f25071fe36", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c90285ab-517a-4638-8d51-32f25071fe36", "service": "api"}}
{"timestamp": "2026-02-08T22:57:05.284121Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fa66c30d-8d2b-48b7-804a-1606166b318b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "fa66c30d-8d2b-48b7-804a-1606166b318b", "service": "api"}}
{"timestamp": "2026-02-08T22:57:07.734559Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "02e09381-d2bf-414d-aad9-1031b5735490", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "02e09381-d2bf-414d-aad9-1031b5735490", "service": "api"}}
{"timestamp": "2026-02-08T22:57:07.734559Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "19ac5817-87f6-4328-ac3c-ffaf5a1800b7", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "19ac5817-87f6-4328-ac3c-ffaf5a1800b7", "service": "api"}}
{"timestamp": "2026-02-08T22:57:07.740069Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "02e09381-d2bf-414d-aad9-1031b5735490", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "02e09381-d2bf-414d-aad9-1031b5735490", "service": "api"}}
{"timestamp": "2026-02-08T22:57:07.740069Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "19ac5817-87f6-4328-ac3c-ffaf5a1800b7", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "19ac5817-87f6-4328-ac3c-ffaf5a1800b7", "service": "api"}}
{"timestamp": "2026-02-08T22:57:11.274195Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3e848ac1-6008-4364-a0e8-5b8c4470bc7b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "3e848ac1-6008-4364-a0e8-5b8c4470bc7b", "service": "api"}}
{"timestamp": "2026-02-08T22:57:11.274195Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "46cc72bf-aa41-4295-a033-4a00e8dfeef4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "46cc72bf-aa41-4295-a033-4a00e8dfeef4", "service": "api"}}
{"timestamp": "2026-02-08T22:57:11.278698Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3e848ac1-6008-4364-a0e8-5b8c4470bc7b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "3e848ac1-6008-4364-a0e8-5b8c4470bc7b", "service": "api"}}
{"timestamp": "2026-02-08T22:57:11.278698Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "46cc72bf-aa41-4295-a033-4a00e8dfeef4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "46cc72bf-aa41-4295-a033-4a00e8dfeef4", "service": "api"}}
{"timestamp": "2026-02-08T22:57:14.278225Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "119f98b0-164b-4381-9485-ee9b289a85bb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "119f98b0-164b-4381-9485-ee9b289a85bb", "service": "api"}}
{"timestamp": "2026-02-08T22:57:14.279233Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "73e13a4b-e991-41e1-9554-b1bf47c920b5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "73e13a4b-e991-41e1-9554-b1bf47c920b5", "service": "api"}}
{"timestamp": "2026-02-08T22:57:14.279233Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "119f98b0-164b-4381-9485-ee9b289a85bb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "119f98b0-164b-4381-9485-ee9b289a85bb", "service": "api"}}
{"timestamp": "2026-02-08T22:57:14.283561Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "73e13a4b-e991-41e1-9554-b1bf47c920b5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "73e13a4b-e991-41e1-9554-b1bf47c920b5", "service": "api"}}
{"timestamp": "2026-02-08T22:57:17.273103Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "052f36fa-1618-40c8-a41a-752ba74cef25", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "052f36fa-1618-40c8-a41a-752ba74cef25", "service": "api"}}
{"timestamp": "2026-02-08T22:57:17.273103Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4d69a3f9-531e-4241-b357-6de0ef3a247e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "4d69a3f9-531e-4241-b357-6de0ef3a247e", "service": "api"}}
{"timestamp": "2026-02-08T22:57:17.274102Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "052f36fa-1618-40c8-a41a-752ba74cef25", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "052f36fa-1618-40c8-a41a-752ba74cef25", "service": "api"}}
{"timestamp": "2026-02-08T22:57:17.283736Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4d69a3f9-531e-4241-b357-6de0ef3a247e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "4d69a3f9-531e-4241-b357-6de0ef3a247e", "service": "api"}}
{"timestamp": "2026-02-08T22:57:20.280262Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "15735976-8029-4086-8efd-e5ba80862e41", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "15735976-8029-4086-8efd-e5ba80862e41", "service": "api"}}
{"timestamp": "2026-02-08T22:57:20.281261Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "687f5357-1c2d-456d-9ecc-0e2478ac00ed", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "687f5357-1c2d-456d-9ecc-0e2478ac00ed", "service": "api"}}
{"timestamp": "2026-02-08T22:57:20.281261Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "15735976-8029-4086-8efd-e5ba80862e41", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "15735976-8029-4086-8efd-e5ba80862e41", "service": "api"}}
{"timestamp": "2026-02-08T22:57:20.287256Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "687f5357-1c2d-456d-9ecc-0e2478ac00ed", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "687f5357-1c2d-456d-9ecc-0e2478ac00ed", "service": "api"}}
{"timestamp": "2026-02-08T22:57:21.149100Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 27.28s | Length: 7446 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "choreography", "request_id": "2ddb6891-f179-443d-829b-a8e5bbe7034d", "timestamp": "2026-02-08T22:57:21.149100Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"La Forme Standard\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 20.328,\n      \"notes\": \"Main title for the introduction.\",\n      \"visual_description\": \"Bold white text at the top.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n  ... [truncated, total: 7446 chars]", "duration_seconds": 27.285, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:57:21.150100Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (7446 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:57:21.152100Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\2\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:57:21.152100Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 2, "attempt": 1, "plan_chars": 7446, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\2\\choreography_plan.json", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:57:21.152100Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'La Forme Standard et les Variables d'\u00c9cart'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:57:21.154280Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 22321 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "implementation", "request_id": "c7a0bd3e-17c3-434c-a249-4ed48a19e584", "timestamp": "2026-02-08T22:57:21.153277Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"La Forme Standard\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 20.328,\n      \"notes\": \"Main title for the introduction.\",\n      \"visual_description\": \"Bold ... [truncated, total: 22321 chars]", "prompt_length": 22321, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:57:21.155281Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:57:21.507383Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 25.98s | Length: 9317 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 1, "job_id": "unknown", "stage": "choreography", "request_id": "5487ba7b-1f4f-4572-ab02-418f3a0f1d2f", "timestamp": "2026-02-08T22:57:21.506382Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"La M\u00e9thode Graphique\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 8.736,\n      \"notes\": \"Main title in secondary color\",\n      \"visual_description\": \"Vibrant blue text at the top of the screen\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"sp... [truncated, total: 9317 chars]", "duration_seconds": 25.976, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:57:21.508380Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (9317 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:57:21.510497Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\1\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:57:21.511716Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 1, "attempt": 1, "plan_chars": 9317, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\1\\choreography_plan.json", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:57:21.511716Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'La Visualisation : La M\u00e9thode Graphique'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:57:21.512725Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 24419 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "implementation", "request_id": "83487995-0d99-433f-b701-abe49bb2131a", "timestamp": "2026-02-08T22:57:21.511716Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"La M\u00e9thode Graphique\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 8.736,\n      \"notes\": \"Main title in secondary color\",\n      \"visual_description\": \"Vibran... [truncated, total: 24419 chars]", "prompt_length": 24419, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:57:21.514110Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:57:23.285682Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9e91ece1-5943-4638-aac5-8a78e5d1152e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "9e91ece1-5943-4638-aac5-8a78e5d1152e", "service": "api"}}
{"timestamp": "2026-02-08T22:57:23.286688Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ccca8ab4-21ef-4cd8-a94e-f43c34bbee5b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ccca8ab4-21ef-4cd8-a94e-f43c34bbee5b", "service": "api"}}
{"timestamp": "2026-02-08T22:57:23.290196Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9e91ece1-5943-4638-aac5-8a78e5d1152e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "9e91ece1-5943-4638-aac5-8a78e5d1152e", "service": "api"}}
{"timestamp": "2026-02-08T22:57:23.291201Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ccca8ab4-21ef-4cd8-a94e-f43c34bbee5b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ccca8ab4-21ef-4cd8-a94e-f43c34bbee5b", "service": "api"}}
{"timestamp": "2026-02-08T22:57:26.283964Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "59827016-e3bc-4283-8318-429bc283b68a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "59827016-e3bc-4283-8318-429bc283b68a", "service": "api"}}
{"timestamp": "2026-02-08T22:57:26.284964Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8550df53-a225-4642-8345-c1096714b34a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8550df53-a225-4642-8345-c1096714b34a", "service": "api"}}
{"timestamp": "2026-02-08T22:57:26.284964Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "59827016-e3bc-4283-8318-429bc283b68a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "59827016-e3bc-4283-8318-429bc283b68a", "service": "api"}}
{"timestamp": "2026-02-08T22:57:26.289482Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8550df53-a225-4642-8345-c1096714b34a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8550df53-a225-4642-8345-c1096714b34a", "service": "api"}}
{"timestamp": "2026-02-08T22:57:28.742460Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 31.47s | Length: 11250 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 0, "job_id": "unknown", "stage": "choreography", "request_id": "9226893f-5923-4f29-a59a-3b06053f9cc6", "timestamp": "2026-02-08T22:57:28.741461Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"Programmation Lin\u00e9aire\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 15.216,\n      \"notes\": \"Main title in primary white.\",\n      \"visual_description\": \"Large bold text at the top.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n ... [truncated, total: 11250 chars]", "duration_seconds": 31.467, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:57:28.743457Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (11250 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:57:28.744457Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\0\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:57:28.745956Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 0, "attempt": 1, "plan_chars": 11250, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\0\\choreography_plan.json", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:57:28.745956Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Introduction \u00e0 la Programmation Lin\u00e9aire'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:57:28.748157Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 26313 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "implementation", "request_id": "25456a75-ee30-44f9-8177-95b5c1f80e81", "timestamp": "2026-02-08T22:57:28.745956Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"Programmation Lin\u00e9aire\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 15.216,\n      \"notes\": \"Main title in primary white.\",\n      \"visual_description\": \"Larg... [truncated, total: 26313 chars]", "prompt_length": 26313, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:57:28.748157Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:57:29.277288Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fe47db16-fc2a-46b5-8f0e-a6daa49d0b75", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "fe47db16-fc2a-46b5-8f0e-a6daa49d0b75", "service": "api"}}
{"timestamp": "2026-02-08T22:57:29.277810Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "758aaf67-bb75-4d4d-aa22-b095a4849ff5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "758aaf67-bb75-4d4d-aa22-b095a4849ff5", "service": "api"}}
{"timestamp": "2026-02-08T22:57:29.281991Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fe47db16-fc2a-46b5-8f0e-a6daa49d0b75", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "fe47db16-fc2a-46b5-8f0e-a6daa49d0b75", "service": "api"}}
{"timestamp": "2026-02-08T22:57:29.283026Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "758aaf67-bb75-4d4d-aa22-b095a4849ff5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "758aaf67-bb75-4d4d-aa22-b095a4849ff5", "service": "api"}}
{"timestamp": "2026-02-08T22:57:32.273596Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "059b52b9-6045-441c-971f-3735a1316988", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "059b52b9-6045-441c-971f-3735a1316988", "service": "api"}}
{"timestamp": "2026-02-08T22:57:32.273596Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "559b7c62-365f-4dd2-b9f7-a7288b1f6814", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "559b7c62-365f-4dd2-b9f7-a7288b1f6814", "service": "api"}}
{"timestamp": "2026-02-08T22:57:32.274595Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "059b52b9-6045-441c-971f-3735a1316988", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "059b52b9-6045-441c-971f-3735a1316988", "service": "api"}}
{"timestamp": "2026-02-08T22:57:32.278652Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "559b7c62-365f-4dd2-b9f7-a7288b1f6814", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "559b7c62-365f-4dd2-b9f7-a7288b1f6814", "service": "api"}}
{"timestamp": "2026-02-08T22:57:34.739585Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "297c35cd-ee35-434c-911a-24cadf4c032b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "297c35cd-ee35-434c-911a-24cadf4c032b", "service": "api"}}
{"timestamp": "2026-02-08T22:57:34.740640Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3fcb872c-5847-43c9-b554-f180e0dd32e5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "3fcb872c-5847-43c9-b554-f180e0dd32e5", "service": "api"}}
{"timestamp": "2026-02-08T22:57:34.746645Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "297c35cd-ee35-434c-911a-24cadf4c032b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "297c35cd-ee35-434c-911a-24cadf4c032b", "service": "api"}}
{"timestamp": "2026-02-08T22:57:34.748310Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3fcb872c-5847-43c9-b554-f180e0dd32e5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "3fcb872c-5847-43c9-b554-f180e0dd32e5", "service": "api"}}
{"timestamp": "2026-02-08T22:57:37.738968Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e0eb0430-a86b-4bb5-ab59-426127d25fb4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e0eb0430-a86b-4bb5-ab59-426127d25fb4", "service": "api"}}
{"timestamp": "2026-02-08T22:57:37.738968Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "74414be3-8d0a-4bf6-b5e3-04dc2ba4d600", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "74414be3-8d0a-4bf6-b5e3-04dc2ba4d600", "service": "api"}}
{"timestamp": "2026-02-08T22:57:37.745977Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e0eb0430-a86b-4bb5-ab59-426127d25fb4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e0eb0430-a86b-4bb5-ab59-426127d25fb4", "service": "api"}}
{"timestamp": "2026-02-08T22:57:37.746979Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "74414be3-8d0a-4bf6-b5e3-04dc2ba4d600", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "74414be3-8d0a-4bf6-b5e3-04dc2ba4d600", "service": "api"}}
{"timestamp": "2026-02-08T22:57:40.738205Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bc25ee0a-3d3b-4d05-82a9-95083ee29b94", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "bc25ee0a-3d3b-4d05-82a9-95083ee29b94", "service": "api"}}
{"timestamp": "2026-02-08T22:57:40.739212Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9d2bbe73-84b3-482c-ba14-e78a664d89f6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "9d2bbe73-84b3-482c-ba14-e78a664d89f6", "service": "api"}}
{"timestamp": "2026-02-08T22:57:40.743213Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bc25ee0a-3d3b-4d05-82a9-95083ee29b94", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "bc25ee0a-3d3b-4d05-82a9-95083ee29b94", "service": "api"}}
{"timestamp": "2026-02-08T22:57:40.744212Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9d2bbe73-84b3-482c-ba14-e78a664d89f6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "9d2bbe73-84b3-482c-ba14-e78a664d89f6", "service": "api"}}
{"timestamp": "2026-02-08T22:57:43.744395Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0f020b3f-457e-4121-a341-3d28a51549ae", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "0f020b3f-457e-4121-a341-3d28a51549ae", "service": "api"}}
{"timestamp": "2026-02-08T22:57:43.745402Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bfbd86a6-fae1-4ca4-96b8-877f81aba8bb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "bfbd86a6-fae1-4ca4-96b8-877f81aba8bb", "service": "api"}}
{"timestamp": "2026-02-08T22:57:43.753191Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0f020b3f-457e-4121-a341-3d28a51549ae", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "0f020b3f-457e-4121-a341-3d28a51549ae", "service": "api"}}
{"timestamp": "2026-02-08T22:57:43.754193Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bfbd86a6-fae1-4ca4-96b8-877f81aba8bb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "bfbd86a6-fae1-4ca4-96b8-877f81aba8bb", "service": "api"}}
{"timestamp": "2026-02-08T22:57:46.742175Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e30790de-5308-43a7-b2ae-6c51e2667f01", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e30790de-5308-43a7-b2ae-6c51e2667f01", "service": "api"}}
{"timestamp": "2026-02-08T22:57:46.743175Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3a31059f-7b71-479d-9904-eb51d9299f86", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "3a31059f-7b71-479d-9904-eb51d9299f86", "service": "api"}}
{"timestamp": "2026-02-08T22:57:46.750233Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e30790de-5308-43a7-b2ae-6c51e2667f01", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e30790de-5308-43a7-b2ae-6c51e2667f01", "service": "api"}}
{"timestamp": "2026-02-08T22:57:46.751235Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3a31059f-7b71-479d-9904-eb51d9299f86", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "3a31059f-7b71-479d-9904-eb51d9299f86", "service": "api"}}
{"timestamp": "2026-02-08T22:57:49.740203Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bc9c208b-88ac-4508-97a8-971de720687c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "bc9c208b-88ac-4508-97a8-971de720687c", "service": "api"}}
{"timestamp": "2026-02-08T22:57:49.740203Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ea1b6f89-822d-483c-adac-5f4b39457903", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ea1b6f89-822d-483c-adac-5f4b39457903", "service": "api"}}
{"timestamp": "2026-02-08T22:57:49.745332Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bc9c208b-88ac-4508-97a8-971de720687c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "bc9c208b-88ac-4508-97a8-971de720687c", "service": "api"}}
{"timestamp": "2026-02-08T22:57:49.746342Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ea1b6f89-822d-483c-adac-5f4b39457903", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ea1b6f89-822d-483c-adac-5f4b39457903", "service": "api"}}
{"timestamp": "2026-02-08T22:57:52.747067Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "94d822c3-ec86-44d3-b963-dfd74fac57f9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "94d822c3-ec86-44d3-b963-dfd74fac57f9", "service": "api"}}
{"timestamp": "2026-02-08T22:57:52.748573Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6257d438-4e9a-45df-9b37-ab8adbcfdc49", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6257d438-4e9a-45df-9b37-ab8adbcfdc49", "service": "api"}}
{"timestamp": "2026-02-08T22:57:52.754587Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "94d822c3-ec86-44d3-b963-dfd74fac57f9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "94d822c3-ec86-44d3-b963-dfd74fac57f9", "service": "api"}}
{"timestamp": "2026-02-08T22:57:52.755588Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6257d438-4e9a-45df-9b37-ab8adbcfdc49", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6257d438-4e9a-45df-9b37-ab8adbcfdc49", "service": "api"}}
{"timestamp": "2026-02-08T22:57:53.858581Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 32.34s | Length: 5861 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 1, "job_id": "unknown", "stage": "implementation", "request_id": "83487995-0d99-433f-b701-abe49bb2131a", "timestamp": "2026-02-08T22:57:53.857077Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass SceneMethodeGraphique(Scene):\n    def construct(self):\n        # Background color configuration\n        self.camera.background_color = \"#171717\"\n        \n        # Theme Colors\n        COLOR_PRIMARY_TEXT = \"#FFFFFF\"\n        COLOR_SECONDARY_TEXT = \"#AFC6FF\"\n        COLOR_ACCENT_BLUE = \"#58C4DD\"\n        COLOR_ACCENT_GREEN = \"#83C167\"\n        COLOR... [truncated, total: 5861 chars]", "duration_seconds": 32.344, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:57:53.859587Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5847 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:57:53.860591Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\1\\scene_1.py (6018 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:57:53.860591Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 1, "attempt": 1, "code_chars": 5847, "pipeline_stage": "code_generated", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:57:53.861589Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'La Visualisation : La M\u00e9thode Graphique'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:57:53.861589Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'La Visualisation : La M\u00e9thode Graphique'", "module": "refiner", "function": "refine", "line": 129, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "La Visualisation : La M\u00e9thode Graphique", "max_attempts": 5, "refinement_stage": "start", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:57:53.884596Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:57:55.747402Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "52b70ff1-e8bc-4c51-9f3b-2d7560c0f201", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "52b70ff1-e8bc-4c51-9f3b-2d7560c0f201", "service": "api"}}
{"timestamp": "2026-02-08T22:57:55.748401Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "627bfc3a-3072-4413-9d05-7fc3e5b5a727", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "627bfc3a-3072-4413-9d05-7fc3e5b5a727", "service": "api"}}
{"timestamp": "2026-02-08T22:57:55.754785Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "52b70ff1-e8bc-4c51-9f3b-2d7560c0f201", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "52b70ff1-e8bc-4c51-9f3b-2d7560c0f201", "service": "api"}}
{"timestamp": "2026-02-08T22:57:55.755787Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "627bfc3a-3072-4413-9d05-7fc3e5b5a727", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "627bfc3a-3072-4413-9d05-7fc3e5b5a727", "service": "api"}}
{"timestamp": "2026-02-08T22:57:58.613065Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 37.46s | Length: 4793 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "implementation", "request_id": "c7a0bd3e-17c3-434c-a249-4ed48a19e584", "timestamp": "2026-02-08T22:57:58.612057Z", "response_text": "```python\nfrom manim import *\n\n# Version: Manim Community v0.19.2\n# Theme: 3Blue1Brown Dark\n# Language: French\n# Duration: 44.16s\n\nclass SceneFormeStandard(Scene):\n    def construct(self):\n        # --- Theme Setup ---\n        self.camera.background_color = \"#171717\"\n        primary_text_color = WHITE\n        secondary_text_color = \"#AFC6FF\"  # secondary_text\n        accent_blue = \"#58C4DD\"       ... [truncated, total: 4793 chars]", "duration_seconds": 37.458, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:57:58.614063Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4779 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:57:58.615064Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\2\\scene_2.py (4919 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:57:58.616064Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 2, "attempt": 1, "code_chars": 4779, "pipeline_stage": "code_generated", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:57:58.616064Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'La Forme Standard et les Variables d'\u00c9cart'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:57:58.616064Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'La Forme Standard et les Variables d'\u00c9cart'", "module": "refiner", "function": "refine", "line": 129, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "La Forme Standard et les Variables d'\u00c9cart", "max_attempts": 5, "refinement_stage": "start", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:57:58.638836Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:57:58.749921Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5d281b32-7a63-4d11-90fc-54c064b1bc64", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "5d281b32-7a63-4d11-90fc-54c064b1bc64", "service": "api"}}
{"timestamp": "2026-02-08T22:57:58.750925Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1fcc7a60-7c8d-4317-9ce9-122a1a244f36", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "1fcc7a60-7c8d-4317-9ce9-122a1a244f36", "service": "api"}}
{"timestamp": "2026-02-08T22:57:58.756922Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5d281b32-7a63-4d11-90fc-54c064b1bc64", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "5d281b32-7a63-4d11-90fc-54c064b1bc64", "service": "api"}}
{"timestamp": "2026-02-08T22:57:58.758430Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1fcc7a60-7c8d-4317-9ce9-122a1a244f36", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "1fcc7a60-7c8d-4317-9ce9-122a1a244f36", "service": "api"}}
{"timestamp": "2026-02-08T22:58:01.746246Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1a35c3ed-c1f9-4ae2-89a8-8ad669410820", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "1a35c3ed-c1f9-4ae2-89a8-8ad669410820", "service": "api"}}
{"timestamp": "2026-02-08T22:58:01.747241Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2dcec564-ba0b-4158-96fe-4aa0545ce3da", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "2dcec564-ba0b-4158-96fe-4aa0545ce3da", "service": "api"}}
{"timestamp": "2026-02-08T22:58:01.754574Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1a35c3ed-c1f9-4ae2-89a8-8ad669410820", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "1a35c3ed-c1f9-4ae2-89a8-8ad669410820", "service": "api"}}
{"timestamp": "2026-02-08T22:58:01.755573Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2dcec564-ba0b-4158-96fe-4aa0545ce3da", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "2dcec564-ba0b-4158-96fe-4aa0545ce3da", "service": "api"}}
{"timestamp": "2026-02-08T22:58:04.742372Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c0be428b-b64e-4f97-b510-042ef799a17a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c0be428b-b64e-4f97-b510-042ef799a17a", "service": "api"}}
{"timestamp": "2026-02-08T22:58:04.743378Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b894c565-ab0e-4ccb-ae5f-f7441deddbce", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "b894c565-ab0e-4ccb-ae5f-f7441deddbce", "service": "api"}}
{"timestamp": "2026-02-08T22:58:04.748888Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c0be428b-b64e-4f97-b510-042ef799a17a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c0be428b-b64e-4f97-b510-042ef799a17a", "service": "api"}}
{"timestamp": "2026-02-08T22:58:04.749895Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b894c565-ab0e-4ccb-ae5f-f7441deddbce", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "b894c565-ab0e-4ccb-ae5f-f7441deddbce", "service": "api"}}
{"timestamp": "2026-02-08T22:58:05.315035Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 1/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"turn": 1, "validation_type": "runtime", "issue_count": 10, "section_title": "La Visualisation : La M\u00e9thode Graphique", "issue_samples": [{"category": "visual_quality", "severity": "warning", "confidence": "low", "auto_fixable": true, "line": null, "is_certain": false, "is_uncertain": true, "whitelist_key": "visual_quality:99b04443", "message": "Stroke 'Arrow' crosses text 'A' (0% overlap)", "subject": "A", "reason": "stroke_through_text"}, {"category": "out_of_bounds", "severity": "critical", "confidence": "high", "auto_fixable": true, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "out_of_bounds:63716a84", "message": "Object 'Line' SEVERELY out of bounds at (-1.5, -4.3), size 14.0x6.2, overshoot 3.4", "subject": "Line", "center": {"x": -1.5, "y": -4.33}, "reason": "object_bounds"}, {"category": "visual_quality", "severity": "warning", "confidence": "low", "auto_fixable": true, "line": null, "is_certain": false, "is_uncertain": true, "whitelist_key": "visual_quality:e5e0850d", "message": "Stroke 'Line' is too close to text 'A' (gap 0.00)", "subject": "A", "reason": "stroke_through_text"}, {"category": "visual_quality", "severity": "warning", "confidence": "low", "auto_fixable": true, "line": null, "is_certain": false, "is_uncertain": true, "whitelist_key": "visual_quality:b7574894", "message": "Stroke 'Line' is too close to text 'E' (gap 0.00)", "subject": "E", "reason": "stroke_through_text"}, {"category": "out_of_bounds", "severity": "critical", "confidence": "high", "auto_fixable": true, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "out_of_bounds:f31214e2", "message": "Object 'Line' SEVERELY out of bounds at (-1.5, -0.7), size 14.0x6.2, overshoot 1.4", "subject": "Line", "center": {"x": -1.5, "y": -0.68}, "reason": "object_bounds"}, {"category": "visual_quality", "severity": "warning", "confidence": "low", "auto_fixable": true, "line": null, "is_certain": false, "is_uncertain": true, "whitelist_key": "visual_quality:27661729", "message": "Stroke 'Line' crosses text 'B' (100% overlap)", "subject": "B", "reason": "stroke_through_text"}], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:05.315035Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [warning/low]: Stroke 'Arrow' crosses text 'A' (0% overlap) | reason=stroke_through_text", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:05.316032Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 2 [critical/high]: Object 'Line' SEVERELY out of bounds at (-1.5, -4.3), size 14.0x6.2, overshoot 3.4 | at=(-1.50,-4.33), reason=object_bounds", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:05.316032Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 3 [warning/low]: Stroke 'Line' is too close to text 'A' (gap 0.00) | reason=stroke_through_text", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:05.316032Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 4 [warning/low]: Stroke 'Line' is too close to text 'E' (gap 0.00) | reason=stroke_through_text", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:05.316032Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 5 [critical/high]: Object 'Line' SEVERELY out of bounds at (-1.5, -0.7), size 14.0x6.2, overshoot 1.4 | at=(-1.50,-0.68), reason=object_bounds", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:05.317031Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  ... and 5 more issues", "module": "refiner", "function": "_log_issues", "line": 449, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:05.317031Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Verifying 7 uncertain issues with IssueVerifier", "module": "refiner", "function": "_triage_issues", "line": 319, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:05.353086Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 7435 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "stage": "issue_verification", "request_id": "4da4f08a-9d6f-4cd4-9f28-e86ae2b2f83e", "timestamp": "2026-02-08T22:58:05.352085Z", "model": "gemini-3-flash-preview", "prompt": "Here is the Manim code:\n```python\nfrom manim import *  # type: ignore\n\nclass SceneMethodeGraphique(Scene):\n    def construct(self):\n        # Background color configuration\n        self.camera.background_color = \"#171717\"\n        \n        # Theme Colors\n        COLOR_PRIMARY_TEXT = \"#FFFFFF\"\n        COLOR_SECONDARY_TEXT = \"#AFC6FF\"\n        COLOR_ACCENT_BLUE = \"#58C4DD\"\n        COLOR_ACCENT_GREEN =... [truncated, total: 7435 chars]", "prompt_length": 7435, "config": {"temperature": 0.4, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a problem\n- Decorative shapes behind text are intentional, not overlap\n- \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438 (temporary animations) that briefly overlap are OK\n- Containers that wrap text (background rectangles, boxes) are intentional\n\nReply with ONLY a JSON array. Each element:\n{\"index\": <int>, \"verdict\": \"REAL\" or \"FALSE_POSITIVE\", \"reason\": \"<one sentence>\"}"}, "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a... [truncated, total: 845 chars]", "tools": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:05.354091Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:58:05.781781Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 37.03s | Length: 4873 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 0, "job_id": "unknown", "stage": "implementation", "request_id": "25456a75-ee30-44f9-8177-95b5c1f80e81", "timestamp": "2026-02-08T22:58:05.780783Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass SceneIntroductionOptimisation(Scene):\n    def construct(self):\n        # --- THEME SETUP ---\n        self.camera.background_color = \"#171717\"\n        primary_text = \"#FFFFFF\"\n        secondary_text = \"#AFC6FF\"\n        accent_teal = \"#58C4DD\"\n        accent_green = \"#83C167\"\n        accent_gold = \"#FFC857\"\n        accent_red = \"#FF6B6B\"\n\n        ... [truncated, total: 4873 chars]", "duration_seconds": 37.034, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:05.782961Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4859 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:58:05.783964Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\0\\scene_0.py (4991 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:58:05.784962Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 0, "attempt": 1, "code_chars": 4859, "pipeline_stage": "code_generated", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:58:05.784962Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Introduction \u00e0 la Programmation Lin\u00e9aire'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:58:05.784962Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Introduction \u00e0 la Programmation Lin\u00e9aire'", "module": "refiner", "function": "refine", "line": 129, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "Introduction \u00e0 la Programmation Lin\u00e9aire", "max_attempts": 5, "refinement_stage": "start", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:05.811394Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:07.742338Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "97bbf539-49ed-44e0-9d40-7183bf5091cd", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "97bbf539-49ed-44e0-9d40-7183bf5091cd", "service": "api"}}
{"timestamp": "2026-02-08T22:58:07.743345Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8d049c1f-39aa-4dbd-9fbc-eb6204080ee2", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8d049c1f-39aa-4dbd-9fbc-eb6204080ee2", "service": "api"}}
{"timestamp": "2026-02-08T22:58:07.749682Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "97bbf539-49ed-44e0-9d40-7183bf5091cd", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "97bbf539-49ed-44e0-9d40-7183bf5091cd", "service": "api"}}
{"timestamp": "2026-02-08T22:58:07.751691Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8d049c1f-39aa-4dbd-9fbc-eb6204080ee2", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8d049c1f-39aa-4dbd-9fbc-eb6204080ee2", "service": "api"}}
{"timestamp": "2026-02-08T22:58:10.246890Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 4.89s | Length: 16 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "stage": "issue_verification", "request_id": "4da4f08a-9d6f-4cd4-9f28-e86ae2b2f83e", "timestamp": "2026-02-08T22:58:10.246890Z", "response_text": "[\n  {\"index\": 0,", "duration_seconds": 4.894, "success": true, "error": null, "metadata": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:10.257402Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 6334 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "stage": "issue_verification", "request_id": "4af44930-bbd0-4f87-aa24-f489fb24fd74", "timestamp": "2026-02-08T22:58:10.256402Z", "model": "gemini-3-flash-preview", "prompt": "Here is the Manim code:\n```python\nfrom manim import *  # type: ignore\n\nclass SceneMethodeGraphique(Scene):\n    def construct(self):\n        # Background color configuration\n        self.camera.background_color = \"#171717\"\n        \n        # Theme Colors\n        COLOR_PRIMARY_TEXT = \"#FFFFFF\"\n        COLOR_SECONDARY_TEXT = \"#AFC6FF\"\n        COLOR_ACCENT_BLUE = \"#58C4DD\"\n        COLOR_ACCENT_GREEN =... [truncated, total: 6334 chars]", "prompt_length": 6334, "config": {"temperature": 0.4, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a problem\n- Decorative shapes behind text are intentional, not overlap\n- \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438 (temporary animations) that briefly overlap are OK\n- Containers that wrap text (background rectangles, boxes) are intentional\n\nReply with ONLY a JSON array. Each element:\n{\"index\": <int>, \"verdict\": \"REAL\" or \"FALSE_POSITIVE\", \"reason\": \"<one sentence>\"}"}, "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a... [truncated, total: 845 chars]", "tools": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:10.257402Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:58:10.747244Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6e4b372d-bc5d-4cc2-a889-7e7e0e347e41", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6e4b372d-bc5d-4cc2-a889-7e7e0e347e41", "service": "api"}}
{"timestamp": "2026-02-08T22:58:10.748750Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ba28914d-18e7-4a80-b030-c65bb952eadb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ba28914d-18e7-4a80-b030-c65bb952eadb", "service": "api"}}
{"timestamp": "2026-02-08T22:58:10.753761Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6e4b372d-bc5d-4cc2-a889-7e7e0e347e41", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6e4b372d-bc5d-4cc2-a889-7e7e0e347e41", "service": "api"}}
{"timestamp": "2026-02-08T22:58:10.754764Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ba28914d-18e7-4a80-b030-c65bb952eadb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ba28914d-18e7-4a80-b030-c65bb952eadb", "service": "api"}}
{"timestamp": "2026-02-08T22:58:12.744398Z", "level": "ERROR", "logger": "app.core.llm_logger", "message": "LLM Error | Duration: 2.49s | Error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "module": "llm_logger", "function": "log_response", "line": 486, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "stage": "issue_verification", "request_id": "4af44930-bbd0-4f87-aa24-f489fb24fd74", "timestamp": "2026-02-08T22:58:12.744398Z", "response_text": "", "duration_seconds": 2.488, "success": false, "error": "503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "metadata": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:12.745409Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.refinement.issue_verifier", "message": "Verification LLM call failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}. Treating all as real (conservative).", "module": "issue_verifier", "function": "_verify_batch", "line": 119, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "issue_verifier"}}
{"timestamp": "2026-02-08T22:58:12.745409Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.issue_verifier", "message": "Verification complete: 7 real, 0 false positives (out of 7 checked)", "module": "issue_verifier", "function": "verify", "line": 71, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "issue_verifier"}}
{"timestamp": "2026-02-08T22:58:12.746408Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "IssueVerifier confirmed 7 real issues", "module": "refiner", "function": "_triage_issues", "line": 328, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:12.966925Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 1)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:12.966925Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: spatial_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:58:12.969965Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10085 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "c0328503-924f-4b8d-8fb9-43ec79a8b62c", "timestamp": "2026-02-08T22:58:12.968957Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 10085 chars]", "prompt_length": 10085, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "property_ordering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:12.970971Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:58:12.990629Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'La Forme Standard et les Variables d'\u00c9cart' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:12.991629Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionFormeStandard", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:58:12.993633Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\2\\scene_2.py (5116 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:58:12.994634Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 2 Scene: SectionFormeStandard", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:58:13.746414Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "387f0736-72f0-4df0-ae4b-d5cafaa4929e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "387f0736-72f0-4df0-ae4b-d5cafaa4929e", "service": "api"}}
{"timestamp": "2026-02-08T22:58:13.747415Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8c06c8ce-4b79-4de1-92f7-852be0297e04", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8c06c8ce-4b79-4de1-92f7-852be0297e04", "service": "api"}}
{"timestamp": "2026-02-08T22:58:13.748416Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "387f0736-72f0-4df0-ae4b-d5cafaa4929e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "387f0736-72f0-4df0-ae4b-d5cafaa4929e", "service": "api"}}
{"timestamp": "2026-02-08T22:58:13.754941Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8c06c8ce-4b79-4de1-92f7-852be0297e04", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8c06c8ce-4b79-4de1-92f7-852be0297e04", "service": "api"}}
{"timestamp": "2026-02-08T22:58:16.746610Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fc2fd8da-8c03-47fa-ab85-348b66f42c57", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "fc2fd8da-8c03-47fa-ab85-348b66f42c57", "service": "api"}}
{"timestamp": "2026-02-08T22:58:16.747611Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f841ec80-88fa-4d4d-a678-16122c87d950", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "f841ec80-88fa-4d4d-a678-16122c87d950", "service": "api"}}
{"timestamp": "2026-02-08T22:58:16.753130Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fc2fd8da-8c03-47fa-ab85-348b66f42c57", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "fc2fd8da-8c03-47fa-ab85-348b66f42c57", "service": "api"}}
{"timestamp": "2026-02-08T22:58:16.753130Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f841ec80-88fa-4d4d-a678-16122c87d950", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "f841ec80-88fa-4d4d-a678-16122c87d950", "service": "api"}}
{"timestamp": "2026-02-08T22:58:19.741727Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5e0d5e52-c51d-4ca4-a950-a68511b348de", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "5e0d5e52-c51d-4ca4-a950-a68511b348de", "service": "api"}}
{"timestamp": "2026-02-08T22:58:19.742727Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d8497aa1-5981-4535-a544-d789f1e12a8f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "d8497aa1-5981-4535-a544-d789f1e12a8f", "service": "api"}}
{"timestamp": "2026-02-08T22:58:19.747725Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5e0d5e52-c51d-4ca4-a950-a68511b348de", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "5e0d5e52-c51d-4ca4-a950-a68511b348de", "service": "api"}}
{"timestamp": "2026-02-08T22:58:19.748729Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d8497aa1-5981-4535-a544-d789f1e12a8f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "d8497aa1-5981-4535-a544-d789f1e12a8f", "service": "api"}}
{"timestamp": "2026-02-08T22:58:22.738830Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a85c5907-43da-4ff0-9109-1ac66ca23eac", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a85c5907-43da-4ff0-9109-1ac66ca23eac", "service": "api"}}
{"timestamp": "2026-02-08T22:58:22.739835Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fd0616e1-ff47-4713-9f61-eb7eebacdd00", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "fd0616e1-ff47-4713-9f61-eb7eebacdd00", "service": "api"}}
{"timestamp": "2026-02-08T22:58:22.744841Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a85c5907-43da-4ff0-9109-1ac66ca23eac", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a85c5907-43da-4ff0-9109-1ac66ca23eac", "service": "api"}}
{"timestamp": "2026-02-08T22:58:22.745842Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fd0616e1-ff47-4713-9f61-eb7eebacdd00", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "fd0616e1-ff47-4713-9f61-eb7eebacdd00", "service": "api"}}
{"timestamp": "2026-02-08T22:58:24.111221Z", "level": "ERROR", "logger": "app.core.llm_logger", "message": "LLM Error | Duration: 11.14s | Error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "module": "llm_logger", "function": "log_response", "line": 486, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 1, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "c0328503-924f-4b8d-8fb9-43ec79a8b62c", "timestamp": "2026-02-08T22:58:24.110692Z", "response_text": "", "duration_seconds": 11.142, "success": false, "error": "503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:25.124536Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10085 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "788584b4-b5ea-4bef-931a-77cab6e89d32", "timestamp": "2026-02-08T22:58:25.122536Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 10085 chars]", "prompt_length": 10085, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:25.125537Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:58:25.734347Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1703862f-4172-4d06-bacd-75a18d2152c2", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "1703862f-4172-4d06-bacd-75a18d2152c2", "service": "api"}}
{"timestamp": "2026-02-08T22:58:25.735347Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "644859da-4ba4-4430-b6d8-48dfed608646", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "644859da-4ba4-4430-b6d8-48dfed608646", "service": "api"}}
{"timestamp": "2026-02-08T22:58:25.740706Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1703862f-4172-4d06-bacd-75a18d2152c2", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "1703862f-4172-4d06-bacd-75a18d2152c2", "service": "api"}}
{"timestamp": "2026-02-08T22:58:25.741705Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "644859da-4ba4-4430-b6d8-48dfed608646", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "644859da-4ba4-4430-b6d8-48dfed608646", "service": "api"}}
{"timestamp": "2026-02-08T22:58:27.414690Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 1/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"turn": 1, "validation_type": "runtime", "issue_count": 23, "section_title": "Introduction \u00e0 la Programmation Lin\u00e9aire", "issue_samples": [{"category": "out_of_bounds", "severity": "critical", "confidence": "high", "auto_fixable": true, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "out_of_bounds:9b8797d2", "message": "Object 'NumberPlane' SEVERELY out of bounds at (0.0, 0.0), size 16.0x12.0, overshoot 2.0", "subject": "NumberPlane", "center": {"x": 0.0, "y": 0.0}, "reason": "object_bounds"}, {"category": "out_of_bounds", "severity": "critical", "confidence": "high", "auto_fixable": true, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "out_of_bounds:530acf80", "message": "Object 'VGroup' SEVERELY out of bounds at (0.0, 0.0), size 16.0x12.0, overshoot 2.0", "subject": "VGroup", "center": {"x": 0.0, "y": 0.0}, "reason": "object_bounds"}, {"category": "out_of_bounds", "severity": "critical", "confidence": "high", "auto_fixable": true, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "out_of_bounds:981328c3", "message": "Object 'Line' SEVERELY out of bounds at (-0.0, -6.0), size 16.0x0.0, overshoot 2.0", "subject": "Line", "center": {"x": -0.0, "y": -6.0}, "reason": "object_bounds"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "auto_fixable": true, "line": null, "is_certain": false, "is_uncertain": true, "whitelist_key": "out_of_bounds:d5cec89d", "message": "Object 'Line' partially clipped at (-0.0, -4.4), size 16.0x0.0, overshoot 0.9", "subject": "Line", "center": {"x": -0.0, "y": -4.4}, "reason": "object_bounds"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "auto_fixable": true, "line": null, "is_certain": false, "is_uncertain": true, "whitelist_key": "out_of_bounds:a26d09ac", "message": "Object 'Line' partially clipped at (0.0, -2.8), size 16.0x0.0, overshoot 0.9", "subject": "Line", "center": {"x": 0.0, "y": -2.8}, "reason": "object_bounds"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "auto_fixable": true, "line": null, "is_certain": false, "is_uncertain": true, "whitelist_key": "out_of_bounds:158f9ad1", "message": "Object 'Line' partially clipped at (0.0, -1.2), size 16.0x0.0, overshoot 0.9", "subject": "Line", "center": {"x": 0.0, "y": -1.2}, "reason": "object_bounds"}], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:27.415690Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: Object 'NumberPlane' SEVERELY out of bounds at (0.0, 0.0), size 16.0x12.0, overshoot 2.0 | at=(0.00,0.00), reason=object_bounds", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:27.415690Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 2 [critical/high]: Object 'VGroup' SEVERELY out of bounds at (0.0, 0.0), size 16.0x12.0, overshoot 2.0 | at=(0.00,0.00), reason=object_bounds", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:27.415690Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 3 [critical/high]: Object 'Line' SEVERELY out of bounds at (-0.0, -6.0), size 16.0x0.0, overshoot 2.0 | at=(-0.00,-6.00), reason=object_bounds", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:27.416689Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 4 [warning/medium]: Object 'Line' partially clipped at (-0.0, -4.4), size 16.0x0.0, overshoot 0.9 | at=(-0.00,-4.40), reason=object_bounds", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:27.416689Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 5 [warning/medium]: Object 'Line' partially clipped at (0.0, -2.8), size 16.0x0.0, overshoot 0.9 | at=(0.00,-2.80), reason=object_bounds", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:27.416689Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  ... and 18 more issues", "module": "refiner", "function": "_log_issues", "line": 449, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:27.417690Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Verifying 6 uncertain issues with IssueVerifier", "module": "refiner", "function": "_triage_issues", "line": 319, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:27.431469Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 7476 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "stage": "issue_verification", "request_id": "539ecc8e-a9f1-4527-a054-5dfa28313ac0", "timestamp": "2026-02-08T22:58:27.430471Z", "model": "gemini-3-flash-preview", "prompt": "Here is the Manim code:\n```python\nfrom manim import *  # type: ignore\n\nclass SceneIntroductionOptimisation(Scene):\n    def construct(self):\n        # --- THEME SETUP ---\n        self.camera.background_color = \"#171717\"\n        primary_text = \"#FFFFFF\"\n        secondary_text = \"#AFC6FF\"\n        accent_teal = \"#58C4DD\"\n        accent_green = \"#83C167\"\n        accent_gold = \"#FFC857\"\n        accent_r... [truncated, total: 7476 chars]", "prompt_length": 7476, "config": {"temperature": 0.4, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a problem\n- Decorative shapes behind text are intentional, not overlap\n- \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438 (temporary animations) that briefly overlap are OK\n- Containers that wrap text (background rectangles, boxes) are intentional\n\nReply with ONLY a JSON array. Each element:\n{\"index\": <int>, \"verdict\": \"REAL\" or \"FALSE_POSITIVE\", \"reason\": \"<one sentence>\"}"}, "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a... [truncated, total: 845 chars]", "tools": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:27.432470Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:58:27.701038Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\2\\videos\\scene_2\\480p15\\section_2.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T22:58:27.702041Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Visual QC: verifying 6 uncertain spatial issues for section 2", "module": "generator", "function": "_run_vision_verification", "line": 341, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:58:27.702041Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Visual QC input", "module": "generator", "function": "_run_vision_verification", "line": 345, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 2, "pipeline_stage": "visual_qc_input", "issue_count": 6, "issues": [{"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:d5cec89d", "message": "Object 'Line' partially clipped at (-0.0, -4.4), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:a26d09ac", "message": "Object 'Line' partially clipped at (0.0, -2.8), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:158f9ad1", "message": "Object 'Line' partially clipped at (0.0, -1.2), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:5c129f81", "message": "Object 'Line' partially clipped at (0.0, 0.4), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:cdc7dccd", "message": "Object 'Line' partially clipped at (0.0, 2.0), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:b18a357a", "message": "Object 'Line' partially clipped at (0.0, 3.6), size 16.0x0.0, overshoot 0.9"}], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:58:27.798371Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.validation.vision", "message": "Vision QC verified 6 issues as clean", "module": "vision", "function": "verify_issues", "line": 103, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "vision_validator"}}
{"timestamp": "2026-02-08T22:58:27.799434Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Visual QC cleared 6 false positives in section 2", "module": "generator", "function": "_run_vision_verification", "line": 405, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:58:27.799434Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Visual QC false positives", "module": "generator", "function": "_run_vision_verification", "line": 409, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 2, "pipeline_stage": "visual_qc_false_positive", "issue_count": 6, "issues": [{"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:d5cec89d", "message": "Object 'Line' partially clipped at (-0.0, -4.4), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:a26d09ac", "message": "Object 'Line' partially clipped at (0.0, -2.8), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:158f9ad1", "message": "Object 'Line' partially clipped at (0.0, -1.2), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:5c129f81", "message": "Object 'Line' partially clipped at (0.0, 0.4), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:cdc7dccd", "message": "Object 'Line' partially clipped at (0.0, 2.0), size 16.0x0.0, overshoot 0.9"}, {"category": "out_of_bounds", "severity": "warning", "confidence": "medium", "whitelist_key": "out_of_bounds:b18a357a", "message": "Object 'Line' partially clipped at (0.0, 3.6), size 16.0x0.0, overshoot 0.9"}], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:58:27.925918Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Merging video (43.8s) with audio (44.2s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:58:28.631802Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:58:28.633802Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 1/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "sections", "progress": 14, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T22:58:28.633802Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 3/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 2, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:58:28.634803Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 4/7: Le Premier Pas : L'It\u00e9ration 1", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 3, "total_sections": 7, "title": "Le Premier Pas : L'It\u00e9ration 1", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T22:58:28.634803Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:58:29.049427Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0d130988-0da4-42d1-8fe9-5184b2070a23", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "0d130988-0da4-42d1-8fe9-5184b2070a23", "service": "api"}}
{"timestamp": "2026-02-08T22:58:29.049427Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7b242851-ee03-4845-af11-f7a5760f090c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7b242851-ee03-4845-af11-f7a5760f090c", "service": "api"}}
{"timestamp": "2026-02-08T22:58:29.055427Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0d130988-0da4-42d1-8fe9-5184b2070a23", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "0d130988-0da4-42d1-8fe9-5184b2070a23", "service": "api"}}
{"timestamp": "2026-02-08T22:58:29.056426Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7b242851-ee03-4845-af11-f7a5760f090c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7b242851-ee03-4845-af11-f7a5760f090c", "service": "api"}}
{"timestamp": "2026-02-08T22:58:32.081511Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a4437485-4ed9-46fe-930c-a27adfe0260d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a4437485-4ed9-46fe-930c-a27adfe0260d", "service": "api"}}
{"timestamp": "2026-02-08T22:58:32.082512Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "62618a8a-fab0-4528-9938-5200d2810602", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "62618a8a-fab0-4528-9938-5200d2810602", "service": "api"}}
{"timestamp": "2026-02-08T22:58:32.087513Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a4437485-4ed9-46fe-930c-a27adfe0260d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a4437485-4ed9-46fe-930c-a27adfe0260d", "service": "api"}}
{"timestamp": "2026-02-08T22:58:32.088513Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "62618a8a-fab0-4528-9938-5200d2810602", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "62618a8a-fab0-4528-9938-5200d2810602", "service": "api"}}
{"timestamp": "2026-02-08T22:58:32.572473Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 5.14s | Length: 15 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "stage": "issue_verification", "request_id": "539ecc8e-a9f1-4527-a054-5dfa28313ac0", "timestamp": "2026-02-08T22:58:32.572473Z", "response_text": "[\n  {\"index\": 0", "duration_seconds": 5.141, "success": true, "error": null, "metadata": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:32.574989Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 5521 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "stage": "issue_verification", "request_id": "37f962a1-b591-4a5f-8a8c-b93a977eb13e", "timestamp": "2026-02-08T22:58:32.573980Z", "model": "gemini-3-flash-preview", "prompt": "Here is the Manim code:\n```python\nfrom manim import *  # type: ignore\n\nclass SceneIntroductionOptimisation(Scene):\n    def construct(self):\n        # --- THEME SETUP ---\n        self.camera.background_color = \"#171717\"\n        primary_text = \"#FFFFFF\"\n        secondary_text = \"#AFC6FF\"\n        accent_teal = \"#58C4DD\"\n        accent_green = \"#83C167\"\n        accent_gold = \"#FFC857\"\n        accent_r... [truncated, total: 5521 chars]", "prompt_length": 5521, "config": {"temperature": 0.4, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a problem\n- Decorative shapes behind text are intentional, not overlap\n- \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438 (temporary animations) that briefly overlap are OK\n- Containers that wrap text (background rectangles, boxes) are intentional\n\nReply with ONLY a JSON array. Each element:\n{\"index\": <int>, \"verdict\": \"REAL\" or \"FALSE_POSITIVE\", \"reason\": \"<one sentence>\"}"}, "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a... [truncated, total: 845 chars]", "tools": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:32.574989Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:58:34.746409Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "21f68eb3-62a2-40de-933e-63421238c763", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "21f68eb3-62a2-40de-933e-63421238c763", "service": "api"}}
{"timestamp": "2026-02-08T22:58:34.747410Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c9e0940e-8689-4d83-9b8f-e662f59d52c7", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "c9e0940e-8689-4d83-9b8f-e662f59d52c7", "service": "api"}}
{"timestamp": "2026-02-08T22:58:34.753918Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "21f68eb3-62a2-40de-933e-63421238c763", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "21f68eb3-62a2-40de-933e-63421238c763", "service": "api"}}
{"timestamp": "2026-02-08T22:58:34.755922Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c9e0940e-8689-4d83-9b8f-e662f59d52c7", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "c9e0940e-8689-4d83-9b8f-e662f59d52c7", "service": "api"}}
{"timestamp": "2026-02-08T22:58:37.649449Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 5.07s | Length: 223 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "stage": "issue_verification", "request_id": "37f962a1-b591-4a5f-8a8c-b93a977eb13e", "timestamp": "2026-02-08T22:58:37.648441Z", "response_text": "[\n  {\n    \"index\": 0,\n    \"verdict\": \"FALSE_POSITIVE\",\n    \"reason\": \"Grid lines in a NumberPlane often extend slightly beyond the frame boundaries to ensure full coverage, which is standard and intentional behavior.\"\n  }\n]", "duration_seconds": 5.074, "success": true, "error": null, "metadata": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:37.917139Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.issue_verifier", "message": "Verification complete: 5 real, 1 false positives (out of 6 checked)", "module": "issue_verifier", "function": "verify", "line": 71, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "issue_verifier"}}
{"timestamp": "2026-02-08T22:58:37.918650Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "IssueVerifier confirmed 5 real issues", "module": "refiner", "function": "_triage_issues", "line": 328, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:37.918650Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "IssueVerifier identified 1 false positives", "module": "refiner", "function": "_triage_issues", "line": 340, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:38.586157Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 1)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:58:38.586157Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: spatial_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:58:38.588664Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2194cb8b-68d2-43aa-bd44-d027506ee368", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2194cb8b-68d2-43aa-bd44-d027506ee368", "service": "api"}}
{"timestamp": "2026-02-08T22:58:38.589670Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 11236 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "77142c7b-9255-414b-86d9-5e70f30d583c", "timestamp": "2026-02-08T22:58:38.587158Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 11236 chars]", "prompt_length": 11236, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:38.590670Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "97cff3c9-43f8-43fb-afb3-788926bfa2d8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "97cff3c9-43f8-43fb-afb3-788926bfa2d8", "service": "api"}}
{"timestamp": "2026-02-08T22:58:38.591670Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:58:38.599573Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2194cb8b-68d2-43aa-bd44-d027506ee368", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2194cb8b-68d2-43aa-bd44-d027506ee368", "service": "api"}}
{"timestamp": "2026-02-08T22:58:38.600573Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "97cff3c9-43f8-43fb-afb3-788926bfa2d8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "97cff3c9-43f8-43fb-afb3-788926bfa2d8", "service": "api"}}
{"timestamp": "2026-02-08T22:58:40.931872Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fc8ce580-18a3-4007-b2c4-ed6c177eaad4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "fc8ce580-18a3-4007-b2c4-ed6c177eaad4", "service": "api"}}
{"timestamp": "2026-02-08T22:58:40.931872Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c2b080f0-d76e-46cc-89fa-55c0b3902fd3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "c2b080f0-d76e-46cc-89fa-55c0b3902fd3", "service": "api"}}
{"timestamp": "2026-02-08T22:58:40.936873Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fc8ce580-18a3-4007-b2c4-ed6c177eaad4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "fc8ce580-18a3-4007-b2c4-ed6c177eaad4", "service": "api"}}
{"timestamp": "2026-02-08T22:58:40.938378Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c2b080f0-d76e-46cc-89fa-55c0b3902fd3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "c2b080f0-d76e-46cc-89fa-55c0b3902fd3", "service": "api"}}
{"timestamp": "2026-02-08T22:58:43.826988Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c565981e-71b5-4251-a8e0-1b63443950f3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c565981e-71b5-4251-a8e0-1b63443950f3", "service": "api"}}
{"timestamp": "2026-02-08T22:58:43.828498Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "07496508-e71a-42ae-ad68-f6f0d6d2afe6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "07496508-e71a-42ae-ad68-f6f0d6d2afe6", "service": "api"}}
{"timestamp": "2026-02-08T22:58:43.835506Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c565981e-71b5-4251-a8e0-1b63443950f3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c565981e-71b5-4251-a8e0-1b63443950f3", "service": "api"}}
{"timestamp": "2026-02-08T22:58:43.836506Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "07496508-e71a-42ae-ad68-f6f0d6d2afe6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "07496508-e71a-42ae-ad68-f6f0d6d2afe6", "service": "api"}}
{"timestamp": "2026-02-08T22:58:46.735327Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a810cabc-0b5a-4216-8cfa-a0802a56df27", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a810cabc-0b5a-4216-8cfa-a0802a56df27", "service": "api"}}
{"timestamp": "2026-02-08T22:58:46.736328Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "841738f5-cbfc-4ef3-9531-05bc8fc0578a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "841738f5-cbfc-4ef3-9531-05bc8fc0578a", "service": "api"}}
{"timestamp": "2026-02-08T22:58:46.742854Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a810cabc-0b5a-4216-8cfa-a0802a56df27", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a810cabc-0b5a-4216-8cfa-a0802a56df27", "service": "api"}}
{"timestamp": "2026-02-08T22:58:46.743856Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "841738f5-cbfc-4ef3-9531-05bc8fc0578a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "841738f5-cbfc-4ef3-9531-05bc8fc0578a", "service": "api"}}
{"timestamp": "2026-02-08T22:58:48.574994Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Total audio duration = 43.3s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:58:48.650886Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Generating unified video using NEW Pipeline (43.3s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T22:58:48.651888Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 3 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:58:48.652888Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Le Premier Pas : L'It\u00e9ration 1'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:58:48.655888Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10386 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "ba61b4c2-d3ae-47da-97e3-51ee590ea7f0", "timestamp": "2026-02-08T22:58:48.653888Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Le Premier Pas : L'It\u00e9ration 1\n**Duration**: 43.272000000000006s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: French\n**Visual Strategy**:\nMod... [truncated, total: 10386 chars]", "prompt_length": 10386, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:48.657886Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:58:49.744714Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0efb2d0e-6cf9-445f-96a1-d8cfe9227856", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "0efb2d0e-6cf9-445f-96a1-d8cfe9227856", "service": "api"}}
{"timestamp": "2026-02-08T22:58:49.745716Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7ba1e6c3-91b3-45df-b41c-e827ae845c39", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7ba1e6c3-91b3-45df-b41c-e827ae845c39", "service": "api"}}
{"timestamp": "2026-02-08T22:58:49.750228Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0efb2d0e-6cf9-445f-96a1-d8cfe9227856", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "0efb2d0e-6cf9-445f-96a1-d8cfe9227856", "service": "api"}}
{"timestamp": "2026-02-08T22:58:49.751233Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7ba1e6c3-91b3-45df-b41c-e827ae845c39", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7ba1e6c3-91b3-45df-b41c-e827ae845c39", "service": "api"}}
{"timestamp": "2026-02-08T22:58:52.474726Z", "level": "ERROR", "logger": "app.core.llm_logger", "message": "LLM Error | Duration: 3.82s | Error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "module": "llm_logger", "function": "log_response", "line": 486, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "ba61b4c2-d3ae-47da-97e3-51ee590ea7f0", "timestamp": "2026-02-08T22:58:52.474726Z", "response_text": "", "duration_seconds": 3.82, "success": false, "error": "503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:52.742977Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "74df7406-b25b-454d-af41-2d0af14bdb09", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "74df7406-b25b-454d-af41-2d0af14bdb09", "service": "api"}}
{"timestamp": "2026-02-08T22:58:52.743974Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "98123441-4fe3-4ce2-a9dd-022ae1c4713c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "98123441-4fe3-4ce2-a9dd-022ae1c4713c", "service": "api"}}
{"timestamp": "2026-02-08T22:58:52.748476Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "74df7406-b25b-454d-af41-2d0af14bdb09", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "74df7406-b25b-454d-af41-2d0af14bdb09", "service": "api"}}
{"timestamp": "2026-02-08T22:58:52.749482Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "98123441-4fe3-4ce2-a9dd-022ae1c4713c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "98123441-4fe3-4ce2-a9dd-022ae1c4713c", "service": "api"}}
{"timestamp": "2026-02-08T22:58:53.461709Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10386 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "f0c2713b-b9e0-4f8f-b8a1-a3bc954fdbe4", "timestamp": "2026-02-08T22:58:53.460710Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Le Premier Pas : L'It\u00e9ration 1\n**Duration**: 43.272000000000006s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: French\n**Visual Strategy**:\nMod... [truncated, total: 10386 chars]", "prompt_length": 10386, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:58:53.463711Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:58:55.739822Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b76c26c2-2bf3-44a4-b2d1-38397dd1e86a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "b76c26c2-2bf3-44a4-b2d1-38397dd1e86a", "service": "api"}}
{"timestamp": "2026-02-08T22:58:55.740824Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f8dfe3a6-3e87-41c5-9afb-62929a41cc29", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "f8dfe3a6-3e87-41c5-9afb-62929a41cc29", "service": "api"}}
{"timestamp": "2026-02-08T22:58:55.746821Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b76c26c2-2bf3-44a4-b2d1-38397dd1e86a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "b76c26c2-2bf3-44a4-b2d1-38397dd1e86a", "service": "api"}}
{"timestamp": "2026-02-08T22:58:55.747823Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f8dfe3a6-3e87-41c5-9afb-62929a41cc29", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "f8dfe3a6-3e87-41c5-9afb-62929a41cc29", "service": "api"}}
{"timestamp": "2026-02-08T22:58:58.736851Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7b06e090-ce22-4799-b1f9-adae49704562", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7b06e090-ce22-4799-b1f9-adae49704562", "service": "api"}}
{"timestamp": "2026-02-08T22:58:58.738849Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "af482f84-7440-4cc5-8f3b-b5384a8b2d85", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "af482f84-7440-4cc5-8f3b-b5384a8b2d85", "service": "api"}}
{"timestamp": "2026-02-08T22:58:58.743530Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7b06e090-ce22-4799-b1f9-adae49704562", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7b06e090-ce22-4799-b1f9-adae49704562", "service": "api"}}
{"timestamp": "2026-02-08T22:58:58.744533Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "af482f84-7440-4cc5-8f3b-b5384a8b2d85", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "af482f84-7440-4cc5-8f3b-b5384a8b2d85", "service": "api"}}
{"timestamp": "2026-02-08T22:59:01.743940Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e4a8bdc9-c7b5-4685-b8d6-c0fa62d81515", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e4a8bdc9-c7b5-4685-b8d6-c0fa62d81515", "service": "api"}}
{"timestamp": "2026-02-08T22:59:01.745937Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1ebedd00-60aa-4231-a779-24eb14844e89", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "1ebedd00-60aa-4231-a779-24eb14844e89", "service": "api"}}
{"timestamp": "2026-02-08T22:59:01.751461Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e4a8bdc9-c7b5-4685-b8d6-c0fa62d81515", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e4a8bdc9-c7b5-4685-b8d6-c0fa62d81515", "service": "api"}}
{"timestamp": "2026-02-08T22:59:01.751461Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1ebedd00-60aa-4231-a779-24eb14844e89", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "1ebedd00-60aa-4231-a779-24eb14844e89", "service": "api"}}
{"timestamp": "2026-02-08T22:59:04.744143Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9136d291-b217-43e3-8038-649de9884c2a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "9136d291-b217-43e3-8038-649de9884c2a", "service": "api"}}
{"timestamp": "2026-02-08T22:59:04.745147Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7e1ed734-5393-49c5-bcbc-bcae33e538eb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7e1ed734-5393-49c5-bcbc-bcae33e538eb", "service": "api"}}
{"timestamp": "2026-02-08T22:59:04.749663Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9136d291-b217-43e3-8038-649de9884c2a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "9136d291-b217-43e3-8038-649de9884c2a", "service": "api"}}
{"timestamp": "2026-02-08T22:59:04.750663Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7e1ed734-5393-49c5-bcbc-bcae33e538eb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7e1ed734-5393-49c5-bcbc-bcae33e538eb", "service": "api"}}
{"timestamp": "2026-02-08T22:59:07.743683Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2ffcf366-b22f-4ae5-ac6a-5da46448712c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2ffcf366-b22f-4ae5-ac6a-5da46448712c", "service": "api"}}
{"timestamp": "2026-02-08T22:59:07.744682Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4b39f482-63f0-4e7a-a886-eb167029ef0a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "4b39f482-63f0-4e7a-a886-eb167029ef0a", "service": "api"}}
{"timestamp": "2026-02-08T22:59:07.750750Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2ffcf366-b22f-4ae5-ac6a-5da46448712c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2ffcf366-b22f-4ae5-ac6a-5da46448712c", "service": "api"}}
{"timestamp": "2026-02-08T22:59:07.751750Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4b39f482-63f0-4e7a-a886-eb167029ef0a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "4b39f482-63f0-4e7a-a886-eb167029ef0a", "service": "api"}}
{"timestamp": "2026-02-08T22:59:10.737186Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8763d47f-746e-4903-b12e-94be4747736c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8763d47f-746e-4903-b12e-94be4747736c", "service": "api"}}
{"timestamp": "2026-02-08T22:59:10.738692Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3df500a3-78a1-424b-bd82-473805077656", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "3df500a3-78a1-424b-bd82-473805077656", "service": "api"}}
{"timestamp": "2026-02-08T22:59:10.743707Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8763d47f-746e-4903-b12e-94be4747736c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8763d47f-746e-4903-b12e-94be4747736c", "service": "api"}}
{"timestamp": "2026-02-08T22:59:10.744707Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3df500a3-78a1-424b-bd82-473805077656", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "3df500a3-78a1-424b-bd82-473805077656", "service": "api"}}
{"timestamp": "2026-02-08T22:59:13.740883Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "882d2bdc-0f6c-46b0-853d-69af965a4a1d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "882d2bdc-0f6c-46b0-853d-69af965a4a1d", "service": "api"}}
{"timestamp": "2026-02-08T22:59:13.742897Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7196392c-dfe5-4a11-848d-1c21be2f9769", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7196392c-dfe5-4a11-848d-1c21be2f9769", "service": "api"}}
{"timestamp": "2026-02-08T22:59:13.750136Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "882d2bdc-0f6c-46b0-853d-69af965a4a1d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "882d2bdc-0f6c-46b0-853d-69af965a4a1d", "service": "api"}}
{"timestamp": "2026-02-08T22:59:13.751138Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7196392c-dfe5-4a11-848d-1c21be2f9769", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7196392c-dfe5-4a11-848d-1c21be2f9769", "service": "api"}}
{"timestamp": "2026-02-08T22:59:16.737574Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "46737bc1-b2e1-45b8-9171-decffaae3773", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "46737bc1-b2e1-45b8-9171-decffaae3773", "service": "api"}}
{"timestamp": "2026-02-08T22:59:16.738572Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f570ff6c-d9ae-4044-bee5-d546c82616d1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "f570ff6c-d9ae-4044-bee5-d546c82616d1", "service": "api"}}
{"timestamp": "2026-02-08T22:59:16.743703Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "46737bc1-b2e1-45b8-9171-decffaae3773", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "46737bc1-b2e1-45b8-9171-decffaae3773", "service": "api"}}
{"timestamp": "2026-02-08T22:59:16.744704Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f570ff6c-d9ae-4044-bee5-d546c82616d1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "f570ff6c-d9ae-4044-bee5-d546c82616d1", "service": "api"}}
{"timestamp": "2026-02-08T22:59:17.457759Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 24.00s | Length: 7782 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "choreography", "request_id": "f0c2713b-b9e0-4f8f-b8a1-a3bc954fdbe4", "timestamp": "2026-02-08T22:59:17.456759Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Le Premier Pas : L'It\u00e9ration 1\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 43.272,\n      \"notes\": \"Main title stays throughout the scene.\",\n      \"visual_description\": \"Large white title text at the top.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n  ... [truncated, total: 7782 chars]", "duration_seconds": 23.996, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:59:17.458759Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (7782 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T22:59:17.459800Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\3\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:59:17.460801Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 3, "attempt": 1, "plan_chars": 7782, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\3\\choreography_plan.json", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:59:17.460801Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Le Premier Pas : L'It\u00e9ration 1'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:59:17.462801Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 23214 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "implementation", "request_id": "bd473ce2-b642-4b0e-803e-6a1c4953fa8b", "timestamp": "2026-02-08T22:59:17.460801Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Le Premier Pas : L'It\u00e9ration 1\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 43.272,\n      \"notes\": \"Main title stays throughout the scene.\",\n      \"visual_descri... [truncated, total: 23214 chars]", "prompt_length": 23214, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:59:17.463802Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:59:19.744397Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5656d847-c11c-48e6-8e09-540958fffd2a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "5656d847-c11c-48e6-8e09-540958fffd2a", "service": "api"}}
{"timestamp": "2026-02-08T22:59:19.745403Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bbe73d9a-c6e2-4c4b-b427-b666c907bb06", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "bbe73d9a-c6e2-4c4b-b427-b666c907bb06", "service": "api"}}
{"timestamp": "2026-02-08T22:59:19.750908Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5656d847-c11c-48e6-8e09-540958fffd2a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "5656d847-c11c-48e6-8e09-540958fffd2a", "service": "api"}}
{"timestamp": "2026-02-08T22:59:19.751913Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bbe73d9a-c6e2-4c4b-b427-b666c907bb06", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "bbe73d9a-c6e2-4c4b-b427-b666c907bb06", "service": "api"}}
{"timestamp": "2026-02-08T22:59:22.743122Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "cf95cc5e-2237-401c-b82b-caebc71dbcd9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "cf95cc5e-2237-401c-b82b-caebc71dbcd9", "service": "api"}}
{"timestamp": "2026-02-08T22:59:22.744259Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b3bd7d5e-4a37-42ef-971f-a3d437af7d76", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "b3bd7d5e-4a37-42ef-971f-a3d437af7d76", "service": "api"}}
{"timestamp": "2026-02-08T22:59:22.745274Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "cf95cc5e-2237-401c-b82b-caebc71dbcd9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "cf95cc5e-2237-401c-b82b-caebc71dbcd9", "service": "api"}}
{"timestamp": "2026-02-08T22:59:22.751797Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b3bd7d5e-4a37-42ef-971f-a3d437af7d76", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "b3bd7d5e-4a37-42ef-971f-a3d437af7d76", "service": "api"}}
{"timestamp": "2026-02-08T22:59:25.739523Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b68fc427-d156-46fe-ac4c-9ac5ad40985c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "b68fc427-d156-46fe-ac4c-9ac5ad40985c", "service": "api"}}
{"timestamp": "2026-02-08T22:59:25.740527Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6ee1e436-f48e-43d0-91bc-f6bbf7c9c822", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6ee1e436-f48e-43d0-91bc-f6bbf7c9c822", "service": "api"}}
{"timestamp": "2026-02-08T22:59:25.745535Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b68fc427-d156-46fe-ac4c-9ac5ad40985c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "b68fc427-d156-46fe-ac4c-9ac5ad40985c", "service": "api"}}
{"timestamp": "2026-02-08T22:59:25.746556Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6ee1e436-f48e-43d0-91bc-f6bbf7c9c822", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6ee1e436-f48e-43d0-91bc-f6bbf7c9c822", "service": "api"}}
{"timestamp": "2026-02-08T22:59:28.743140Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "df1378c3-a241-4a69-abbc-b1fe16962378", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "df1378c3-a241-4a69-abbc-b1fe16962378", "service": "api"}}
{"timestamp": "2026-02-08T22:59:28.745140Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "427131a4-df61-4b31-99a0-d29c6b519894", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "427131a4-df61-4b31-99a0-d29c6b519894", "service": "api"}}
{"timestamp": "2026-02-08T22:59:28.752660Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "df1378c3-a241-4a69-abbc-b1fe16962378", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "df1378c3-a241-4a69-abbc-b1fe16962378", "service": "api"}}
{"timestamp": "2026-02-08T22:59:28.753658Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "427131a4-df61-4b31-99a0-d29c6b519894", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "427131a4-df61-4b31-99a0-d29c6b519894", "service": "api"}}
{"timestamp": "2026-02-08T22:59:31.743854Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9ce4a310-7c05-48ff-aaf0-98746b269e24", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "9ce4a310-7c05-48ff-aaf0-98746b269e24", "service": "api"}}
{"timestamp": "2026-02-08T22:59:31.744853Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "647f1234-3cfb-4127-9ebf-6e0f11b7a4a3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "647f1234-3cfb-4127-9ebf-6e0f11b7a4a3", "service": "api"}}
{"timestamp": "2026-02-08T22:59:31.748853Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9ce4a310-7c05-48ff-aaf0-98746b269e24", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "9ce4a310-7c05-48ff-aaf0-98746b269e24", "service": "api"}}
{"timestamp": "2026-02-08T22:59:31.749999Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "647f1234-3cfb-4127-9ebf-6e0f11b7a4a3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "647f1234-3cfb-4127-9ebf-6e0f11b7a4a3", "service": "api"}}
{"timestamp": "2026-02-08T22:59:34.735253Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2d503bfe-33e2-4316-ab04-0a25edd493e6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2d503bfe-33e2-4316-ab04-0a25edd493e6", "service": "api"}}
{"timestamp": "2026-02-08T22:59:34.736255Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "973319d2-9642-4eb1-a081-a6afef6b422f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "973319d2-9642-4eb1-a081-a6afef6b422f", "service": "api"}}
{"timestamp": "2026-02-08T22:59:34.741773Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2d503bfe-33e2-4316-ab04-0a25edd493e6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2d503bfe-33e2-4316-ab04-0a25edd493e6", "service": "api"}}
{"timestamp": "2026-02-08T22:59:34.742772Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "973319d2-9642-4eb1-a081-a6afef6b422f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "973319d2-9642-4eb1-a081-a6afef6b422f", "service": "api"}}
{"timestamp": "2026-02-08T22:59:37.741281Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "40a1066f-b08b-49af-a87c-2211470ada5e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "40a1066f-b08b-49af-a87c-2211470ada5e", "service": "api"}}
{"timestamp": "2026-02-08T22:59:37.742281Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "cf1e3c4a-9021-4a61-93c6-dd5b9571fe59", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "cf1e3c4a-9021-4a61-93c6-dd5b9571fe59", "service": "api"}}
{"timestamp": "2026-02-08T22:59:37.748788Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "40a1066f-b08b-49af-a87c-2211470ada5e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "40a1066f-b08b-49af-a87c-2211470ada5e", "service": "api"}}
{"timestamp": "2026-02-08T22:59:37.749796Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "cf1e3c4a-9021-4a61-93c6-dd5b9571fe59", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "cf1e3c4a-9021-4a61-93c6-dd5b9571fe59", "service": "api"}}
{"timestamp": "2026-02-08T22:59:40.027818Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 74.90s | Length: 1645 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 1, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "788584b4-b5ea-4bef-931a-77cab6e89d32", "timestamp": "2026-02-08T22:59:40.026845Z", "response_text": "{\n  \"analysis\": \"Fixed out-of-bounds Line by restricting its x-range in get_profit_line. Resolved label overlaps by increasing buff to 0.5 and optimizing label directions (A/B: LEFT, C: UP, D/E: RIGHT).\",\n  \"edits\": [\n    {\n      \"search_text\": \"        # T+15.0: Labels A, B, C, D, E\\n        labels_text = [\\\"A\\\", \\\"B\\\", \\\"C\\\", \\\"D\\\", \\\"E\\\"]\\n        label_positions = [DL, UL, UR, UR, DR]\\n       ... [truncated, total: 1645 chars]", "duration_seconds": 74.903, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:59:40.028817Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 2 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:40.028817Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:40.028817Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 2: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:40.029976Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 2 successful, 0 failed (out of 2 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"successful_edits": 2, "failed_edits": 0, "total_edits": 2, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:40.029976Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 5847 -> 5771)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:40.029976Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'La Visualisation : La M\u00e9thode Graphique' (Turn 1)", "module": "refiner", "function": "refine", "line": 219, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "La Visualisation : La M\u00e9thode Graphique", "turn": 1, "deterministic_fixes": 0, "llm_fixes": 10, "refinement_stage": "post_fix_revalidate", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:40.054995Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 2)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:40.736155Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "578872a2-5a20-4a47-a98e-779a57c32647", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "578872a2-5a20-4a47-a98e-779a57c32647", "service": "api"}}
{"timestamp": "2026-02-08T22:59:40.737156Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aec432d6-d140-48ca-a86b-baa27fa0b38e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "aec432d6-d140-48ca-a86b-baa27fa0b38e", "service": "api"}}
{"timestamp": "2026-02-08T22:59:40.742685Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "578872a2-5a20-4a47-a98e-779a57c32647", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "578872a2-5a20-4a47-a98e-779a57c32647", "service": "api"}}
{"timestamp": "2026-02-08T22:59:40.743685Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aec432d6-d140-48ca-a86b-baa27fa0b38e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "aec432d6-d140-48ca-a86b-baa27fa0b38e", "service": "api"}}
{"timestamp": "2026-02-08T22:59:43.743956Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "73b82801-792d-4b60-862b-c32a6691e806", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "73b82801-792d-4b60-862b-c32a6691e806", "service": "api"}}
{"timestamp": "2026-02-08T22:59:43.744957Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bd94855b-95be-46c9-97f0-7d43c9419c95", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "bd94855b-95be-46c9-97f0-7d43c9419c95", "service": "api"}}
{"timestamp": "2026-02-08T22:59:43.750467Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "73b82801-792d-4b60-862b-c32a6691e806", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "73b82801-792d-4b60-862b-c32a6691e806", "service": "api"}}
{"timestamp": "2026-02-08T22:59:43.751474Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bd94855b-95be-46c9-97f0-7d43c9419c95", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "bd94855b-95be-46c9-97f0-7d43c9419c95", "service": "api"}}
{"timestamp": "2026-02-08T22:59:46.560836Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 67.97s | Length: 2419 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 0, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "77142c7b-9255-414b-86d9-5e70f30d583c", "timestamp": "2026-02-08T22:59:46.560836Z", "response_text": "{\n  \"analysis\": \"The NumberPlane and several text elements exceed the safe bounding box (X \u00b15.5, Y \u00b13.0). I will adjust buffs and scaling to ensure all objects remain within bounds.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        # Segment 0-1 Objects\\n        main_title = Text(\\\"Programmation Lin\u00e9aire\\\", font_size=48, color=primary_text).to_edge(UP, buff=0.5)\",\n      \"replacement_text\": \"     ... [truncated, total: 2419 chars]", "duration_seconds": 67.972, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:59:46.561844Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 5 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:46.562842Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:46.562842Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 2: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:46.562842Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 3: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:46.562842Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 4: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:46.563842Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 5: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:46.563842Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 5 successful, 0 failed (out of 5 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"successful_edits": 5, "failed_edits": 0, "total_edits": 5, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T22:59:46.563842Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 4859 -> 4860)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:46.564844Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Introduction \u00e0 la Programmation Lin\u00e9aire' (Turn 1)", "module": "refiner", "function": "refine", "line": 219, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "Introduction \u00e0 la Programmation Lin\u00e9aire", "turn": 1, "deterministic_fixes": 0, "llm_fixes": 22, "refinement_stage": "post_fix_revalidate", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:46.587981Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 2)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:46.739144Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "55a1bcab-4213-457a-8333-5465da34a4a9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "55a1bcab-4213-457a-8333-5465da34a4a9", "service": "api"}}
{"timestamp": "2026-02-08T22:59:46.740225Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "66cd2177-8f2e-4648-86bc-df7998f1aa42", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "66cd2177-8f2e-4648-86bc-df7998f1aa42", "service": "api"}}
{"timestamp": "2026-02-08T22:59:46.746232Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "55a1bcab-4213-457a-8333-5465da34a4a9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "55a1bcab-4213-457a-8333-5465da34a4a9", "service": "api"}}
{"timestamp": "2026-02-08T22:59:46.747235Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "66cd2177-8f2e-4648-86bc-df7998f1aa42", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "66cd2177-8f2e-4648-86bc-df7998f1aa42", "service": "api"}}
{"timestamp": "2026-02-08T22:59:49.742983Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "39eed640-e72f-449a-add1-1f617862bc7e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "39eed640-e72f-449a-add1-1f617862bc7e", "service": "api"}}
{"timestamp": "2026-02-08T22:59:49.744979Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7c8c78dc-9476-454e-86c7-4f259e0af8ff", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7c8c78dc-9476-454e-86c7-4f259e0af8ff", "service": "api"}}
{"timestamp": "2026-02-08T22:59:49.751487Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "39eed640-e72f-449a-add1-1f617862bc7e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "39eed640-e72f-449a-add1-1f617862bc7e", "service": "api"}}
{"timestamp": "2026-02-08T22:59:49.752489Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7c8c78dc-9476-454e-86c7-4f259e0af8ff", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7c8c78dc-9476-454e-86c7-4f259e0af8ff", "service": "api"}}
{"timestamp": "2026-02-08T22:59:50.348785Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 2/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"turn": 2, "validation_type": "runtime", "issue_count": 2, "section_title": "La Visualisation : La M\u00e9thode Graphique", "issue_samples": [{"category": "out_of_bounds", "severity": "critical", "confidence": "high", "auto_fixable": true, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "out_of_bounds:3fae779f", "message": "Object 'Line' SEVERELY out of bounds at (-1.1, -4.5), size 6.8x3.0, overshoot 2.0", "subject": "Line", "center": {"x": -1.1, "y": -4.51}, "reason": "object_bounds"}, {"category": "visual_quality", "severity": "warning", "confidence": "low", "auto_fixable": true, "line": null, "is_certain": false, "is_uncertain": true, "whitelist_key": "visual_quality:13753073", "message": "Stroke 'Line' is too close to text 'C' (gap 0.00)", "subject": "C", "reason": "stroke_through_text"}], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:50.348785Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: Object 'Line' SEVERELY out of bounds at (-1.1, -4.5), size 6.8x3.0, overshoot 2.0 | at=(-1.10,-4.51), reason=object_bounds", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:50.350073Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 2 [warning/low]: Stroke 'Line' is too close to text 'C' (gap 0.00) | reason=stroke_through_text", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:50.350073Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Verifying 1 uncertain issues with IssueVerifier", "module": "refiner", "function": "_triage_issues", "line": 319, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:50.363795Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 5913 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "stage": "issue_verification", "request_id": "de318af1-475d-40a1-925a-fee3f5716688", "timestamp": "2026-02-08T22:59:50.362288Z", "model": "gemini-3-flash-preview", "prompt": "Here is the Manim code:\n```python\nfrom manim import *  # type: ignore\n\nclass SceneMethodeGraphique(Scene):\n    def construct(self):\n        # Background color configuration\n        self.camera.background_color = \"#171717\"\n        \n        # Theme Colors\n        COLOR_PRIMARY_TEXT = \"#FFFFFF\"\n        COLOR_SECONDARY_TEXT = \"#AFC6FF\"\n        COLOR_ACCENT_BLUE = \"#58C4DD\"\n        COLOR_ACCENT_GREEN =... [truncated, total: 5913 chars]", "prompt_length": 5913, "config": {"temperature": 0.4, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a problem\n- Decorative shapes behind text are intentional, not overlap\n- \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438 (temporary animations) that briefly overlap are OK\n- Containers that wrap text (background rectangles, boxes) are intentional\n\nReply with ONLY a JSON array. Each element:\n{\"index\": <int>, \"verdict\": \"REAL\" or \"FALSE_POSITIVE\", \"reason\": \"<one sentence>\"}"}, "system_instruction": "You are a Manim animation expert reviewing spatial validation flags.\n\nFor each flagged issue, determine if it is a REAL visual problem that would make \nthe animation look bad, or a FALSE POSITIVE that is acceptable.\n\nConsider:\n- Flash, Indicate, SurroundingRectangle are EFFECTS \u2014 overlapping text is OK\n- A bounding box slightly exceeding the frame by <0.5 units is usually fine\n- Two labels at the same position IS a real problem\n- An object placed at ORIGIN with another object also at ORIGIN IS a... [truncated, total: 845 chars]", "tools": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:59:50.364802Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:59:52.741253Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "38b1aa92-b0eb-4850-86e0-190c14823050", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "38b1aa92-b0eb-4850-86e0-190c14823050", "service": "api"}}
{"timestamp": "2026-02-08T22:59:52.742253Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "934d46be-f687-4023-a74b-30b904bb06e3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "934d46be-f687-4023-a74b-30b904bb06e3", "service": "api"}}
{"timestamp": "2026-02-08T22:59:52.747253Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "38b1aa92-b0eb-4850-86e0-190c14823050", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "38b1aa92-b0eb-4850-86e0-190c14823050", "service": "api"}}
{"timestamp": "2026-02-08T22:59:52.748767Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "934d46be-f687-4023-a74b-30b904bb06e3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "934d46be-f687-4023-a74b-30b904bb06e3", "service": "api"}}
{"timestamp": "2026-02-08T22:59:55.540629Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 5.18s | Length: 10 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "stage": "issue_verification", "request_id": "de318af1-475d-40a1-925a-fee3f5716688", "timestamp": "2026-02-08T22:59:55.539621Z", "response_text": "[\n  {\n    ", "duration_seconds": 5.177, "success": true, "error": null, "metadata": null, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:59:55.541628Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.issue_verifier", "message": "Verification complete: 1 real, 0 false positives (out of 1 checked)", "module": "issue_verifier", "function": "verify", "line": 71, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "issue_verifier"}}
{"timestamp": "2026-02-08T22:59:55.542626Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "IssueVerifier confirmed 1 real issues", "module": "refiner", "function": "_triage_issues", "line": 328, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:55.583214Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 2)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:55.583214Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: spatial_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T22:59:55.585215Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 8688 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "df54e573-a67f-4049-a510-e78bec9d7ccd", "timestamp": "2026-02-08T22:59:55.584218Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 8688 chars]", "prompt_length": 8688, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:59:55.586216Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T22:59:55.742994Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "848facbb-902e-4e47-9f5e-e66849c66dec", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "848facbb-902e-4e47-9f5e-e66849c66dec", "service": "api"}}
{"timestamp": "2026-02-08T22:59:55.743991Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "562dc797-6080-44fd-99cb-2ae2b0d46662", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "562dc797-6080-44fd-99cb-2ae2b0d46662", "service": "api"}}
{"timestamp": "2026-02-08T22:59:55.748992Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "848facbb-902e-4e47-9f5e-e66849c66dec", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "848facbb-902e-4e47-9f5e-e66849c66dec", "service": "api"}}
{"timestamp": "2026-02-08T22:59:55.750178Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "562dc797-6080-44fd-99cb-2ae2b0d46662", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "562dc797-6080-44fd-99cb-2ae2b0d46662", "service": "api"}}
{"timestamp": "2026-02-08T22:59:58.742066Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0c39e464-04a0-4e6e-b4df-2f18b884da0d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "0c39e464-04a0-4e6e-b4df-2f18b884da0d", "service": "api"}}
{"timestamp": "2026-02-08T22:59:58.743062Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e435cd15-7589-4981-8a98-6a55a4b5988b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e435cd15-7589-4981-8a98-6a55a4b5988b", "service": "api"}}
{"timestamp": "2026-02-08T22:59:58.749113Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0c39e464-04a0-4e6e-b4df-2f18b884da0d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "0c39e464-04a0-4e6e-b4df-2f18b884da0d", "service": "api"}}
{"timestamp": "2026-02-08T22:59:58.749661Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e435cd15-7589-4981-8a98-6a55a4b5988b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e435cd15-7589-4981-8a98-6a55a4b5988b", "service": "api"}}
{"timestamp": "2026-02-08T22:59:59.547314Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 42.08s | Length: 4980 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "implementation", "request_id": "bd473ce2-b642-4b0e-803e-6a1c4953fa8b", "timestamp": "2026-02-08T22:59:59.546311Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass ScenePremiereIteration(Scene):\n    def construct(self):\n        # Configuration de la cam\u00e9ra et du fond\n        self.camera.background_color = \"#171717\"\n        \n        # --- 1. OBJETS ---\n        \n        # Titre principal\n        title = Text(\"Le Premier Pas : L'It\u00e9ration 1\", font_size=42, color=WHITE)\n        title.to_edge(UP, buff=0.5)\n    ... [truncated, total: 4980 chars]", "duration_seconds": 42.084, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T22:59:59.548819Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (4966 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T22:59:59.550831Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\3\\scene_3.py (5094 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T22:59:59.550831Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 3, "attempt": 1, "code_chars": 4966, "pipeline_stage": "code_generated", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T22:59:59.550831Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Le Premier Pas : L'It\u00e9ration 1'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T22:59:59.550831Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.false_positive_whitelist", "message": "Whitelist reset (cleared 6 entries)", "module": "false_positive_whitelist", "function": "reset", "line": 55, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "false_positive_whitelist"}}
{"timestamp": "2026-02-08T22:59:59.551826Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Le Premier Pas : L'It\u00e9ration 1'", "module": "refiner", "function": "refine", "line": 129, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "Le Premier Pas : L'It\u00e9ration 1", "max_attempts": 5, "refinement_stage": "start", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T22:59:59.575500Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:00:01.741556Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "acc296cf-4375-434d-acb8-12297a84a237", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "acc296cf-4375-434d-acb8-12297a84a237", "service": "api"}}
{"timestamp": "2026-02-08T23:00:01.742554Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "625e9cfa-aefe-42b9-bb21-755cc371652c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "625e9cfa-aefe-42b9-bb21-755cc371652c", "service": "api"}}
{"timestamp": "2026-02-08T23:00:01.750067Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "acc296cf-4375-434d-acb8-12297a84a237", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "acc296cf-4375-434d-acb8-12297a84a237", "service": "api"}}
{"timestamp": "2026-02-08T23:00:01.751067Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "625e9cfa-aefe-42b9-bb21-755cc371652c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "625e9cfa-aefe-42b9-bb21-755cc371652c", "service": "api"}}
{"timestamp": "2026-02-08T23:00:04.741446Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ded72c11-7d86-410b-afd5-425a0b8f9d3f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "ded72c11-7d86-410b-afd5-425a0b8f9d3f", "service": "api"}}
{"timestamp": "2026-02-08T23:00:04.742449Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8b63edd1-f846-441d-988b-52f88a131d6b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8b63edd1-f846-441d-988b-52f88a131d6b", "service": "api"}}
{"timestamp": "2026-02-08T23:00:04.748955Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ded72c11-7d86-410b-afd5-425a0b8f9d3f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "ded72c11-7d86-410b-afd5-425a0b8f9d3f", "service": "api"}}
{"timestamp": "2026-02-08T23:00:04.749964Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8b63edd1-f846-441d-988b-52f88a131d6b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8b63edd1-f846-441d-988b-52f88a131d6b", "service": "api"}}
{"timestamp": "2026-02-08T23:00:07.459883Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Introduction \u00e0 la Programmation Lin\u00e9aire' (Turn 2)", "module": "refiner", "function": "refine", "line": 191, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempts": 2, "static_failures": 0, "runtime_failures": 1, "deterministic_fixes": 0, "llm_fixes": 22, "deferred_to_visual_qc": 6, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:00:07.460885Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionIntroductionOptimisation", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:00:07.461884Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\0\\scene_0.py (5189 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:00:07.462884Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 0 Scene: SectionIntroductionOptimisation", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:00:07.738926Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7d3573eb-dd94-4ee4-b208-0b3cec06c39c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7d3573eb-dd94-4ee4-b208-0b3cec06c39c", "service": "api"}}
{"timestamp": "2026-02-08T23:00:07.740060Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6bfdfeea-1e1b-4850-9d25-a40c5f2b0cc9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6bfdfeea-1e1b-4850-9d25-a40c5f2b0cc9", "service": "api"}}
{"timestamp": "2026-02-08T23:00:07.741061Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7d3573eb-dd94-4ee4-b208-0b3cec06c39c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7d3573eb-dd94-4ee4-b208-0b3cec06c39c", "service": "api"}}
{"timestamp": "2026-02-08T23:00:07.748060Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6bfdfeea-1e1b-4850-9d25-a40c5f2b0cc9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6bfdfeea-1e1b-4850-9d25-a40c5f2b0cc9", "service": "api"}}
{"timestamp": "2026-02-08T23:00:10.741542Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "284d8f5a-faf0-4b77-a8a7-9c686cadcc61", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "284d8f5a-faf0-4b77-a8a7-9c686cadcc61", "service": "api"}}
{"timestamp": "2026-02-08T23:00:10.742542Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "48acddbf-53d2-4f9a-a613-0045a361a327", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "48acddbf-53d2-4f9a-a613-0045a361a327", "service": "api"}}
{"timestamp": "2026-02-08T23:00:10.747544Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "284d8f5a-faf0-4b77-a8a7-9c686cadcc61", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "284d8f5a-faf0-4b77-a8a7-9c686cadcc61", "service": "api"}}
{"timestamp": "2026-02-08T23:00:10.747544Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "48acddbf-53d2-4f9a-a613-0045a361a327", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "48acddbf-53d2-4f9a-a613-0045a361a327", "service": "api"}}
{"timestamp": "2026-02-08T23:00:13.741718Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3d2bac84-3e16-4432-a710-189561eba1ab", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "3d2bac84-3e16-4432-a710-189561eba1ab", "service": "api"}}
{"timestamp": "2026-02-08T23:00:13.742716Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5bf9d5f4-c60e-4626-8300-3afe4a0eb8ee", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "5bf9d5f4-c60e-4626-8300-3afe4a0eb8ee", "service": "api"}}
{"timestamp": "2026-02-08T23:00:13.748506Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3d2bac84-3e16-4432-a710-189561eba1ab", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "3d2bac84-3e16-4432-a710-189561eba1ab", "service": "api"}}
{"timestamp": "2026-02-08T23:00:13.749013Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5bf9d5f4-c60e-4626-8300-3afe4a0eb8ee", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "5bf9d5f4-c60e-4626-8300-3afe4a0eb8ee", "service": "api"}}
{"timestamp": "2026-02-08T23:00:13.908874Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 1/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"turn": 1, "validation_type": "runtime", "issue_count": 1, "section_title": "Le Premier Pas : L'It\u00e9ration 1", "issue_samples": [{"category": "runtime", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "runtime:bce5274f", "message": "TypeError: Table.get_cell() takes from 1 to 2 positional arguments but 3 were"}], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:00:13.908874Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: TypeError: Table.get_cell() takes from 1 to 2 positional arguments but 3 were", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:00:13.910178Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 1)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:00:13.910178Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: type_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T23:00:13.911178Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 8769 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "3cf6093f-6b8d-4ce0-9d4e-4400f484889f", "timestamp": "2026-02-08T23:00:13.910178Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 8769 chars]", "prompt_length": 8769, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:00:13.912683Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:00:16.741218Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e2b6cf05-5a35-404b-8072-bbfcb27df866", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e2b6cf05-5a35-404b-8072-bbfcb27df866", "service": "api"}}
{"timestamp": "2026-02-08T23:00:16.742218Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9a3e65e6-0d1d-4383-9fb9-1a557b01b8d8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "9a3e65e6-0d1d-4383-9fb9-1a557b01b8d8", "service": "api"}}
{"timestamp": "2026-02-08T23:00:16.748217Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e2b6cf05-5a35-404b-8072-bbfcb27df866", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e2b6cf05-5a35-404b-8072-bbfcb27df866", "service": "api"}}
{"timestamp": "2026-02-08T23:00:16.749220Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9a3e65e6-0d1d-4383-9fb9-1a557b01b8d8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "9a3e65e6-0d1d-4383-9fb9-1a557b01b8d8", "service": "api"}}
{"timestamp": "2026-02-08T23:00:19.741565Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "eec81785-8766-4394-b484-fa94235a1537", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "eec81785-8766-4394-b484-fa94235a1537", "service": "api"}}
{"timestamp": "2026-02-08T23:00:19.742565Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "85c407d8-4a6c-46e6-87b7-d49c167f71f5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "85c407d8-4a6c-46e6-87b7-d49c167f71f5", "service": "api"}}
{"timestamp": "2026-02-08T23:00:19.747563Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "eec81785-8766-4394-b484-fa94235a1537", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "eec81785-8766-4394-b484-fa94235a1537", "service": "api"}}
{"timestamp": "2026-02-08T23:00:19.749068Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "85c407d8-4a6c-46e6-87b7-d49c167f71f5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "85c407d8-4a6c-46e6-87b7-d49c167f71f5", "service": "api"}}
{"timestamp": "2026-02-08T23:00:22.740324Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ae9f7373-9912-4350-b713-ab06861657d3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "ae9f7373-9912-4350-b713-ab06861657d3", "service": "api"}}
{"timestamp": "2026-02-08T23:00:22.741324Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "57183537-63df-41ce-9c9b-fbe0e464f819", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "57183537-63df-41ce-9c9b-fbe0e464f819", "service": "api"}}
{"timestamp": "2026-02-08T23:00:22.747322Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ae9f7373-9912-4350-b713-ab06861657d3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "ae9f7373-9912-4350-b713-ab06861657d3", "service": "api"}}
{"timestamp": "2026-02-08T23:00:22.747322Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "57183537-63df-41ce-9c9b-fbe0e464f819", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "57183537-63df-41ce-9c9b-fbe0e464f819", "service": "api"}}
{"timestamp": "2026-02-08T23:00:25.741339Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2b272592-124b-4f26-a6b8-1f203a3496e8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2b272592-124b-4f26-a6b8-1f203a3496e8", "service": "api"}}
{"timestamp": "2026-02-08T23:00:25.742340Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "12d98329-bd67-41f2-aff5-d171fb8dc37a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "12d98329-bd67-41f2-aff5-d171fb8dc37a", "service": "api"}}
{"timestamp": "2026-02-08T23:00:25.747340Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2b272592-124b-4f26-a6b8-1f203a3496e8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2b272592-124b-4f26-a6b8-1f203a3496e8", "service": "api"}}
{"timestamp": "2026-02-08T23:00:25.748340Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "12d98329-bd67-41f2-aff5-d171fb8dc37a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "12d98329-bd67-41f2-aff5-d171fb8dc37a", "service": "api"}}
{"timestamp": "2026-02-08T23:00:27.079534Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\0\\videos\\scene_0\\480p15\\section_0.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:00:27.211405Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Merging video (49.1s) with audio (49.4s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:00:27.855973Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/section/2", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b85315d5-ec25-4e34-82d5-084bbb273e93", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/2", "client": "127.0.0.1", "request_id": "b85315d5-ec25-4e34-82d5-084bbb273e93", "service": "api"}}
{"timestamp": "2026-02-08T23:00:27.865532Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b85315d5-ec25-4e34-82d5-084bbb273e93", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/2", "request_id": "b85315d5-ec25-4e34-82d5-084bbb273e93", "service": "api"}}
{"timestamp": "2026-02-08T23:00:27.874911Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "36f95992-f833-4137-a159-1b7a3bbb42c2", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "client": "127.0.0.1", "request_id": "36f95992-f833-4137-a159-1b7a3bbb42c2", "service": "api"}}
{"timestamp": "2026-02-08T23:00:27.879352Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "36f95992-f833-4137-a159-1b7a3bbb42c2", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "request_id": "36f95992-f833-4137-a159-1b7a3bbb42c2", "service": "api"}}
{"timestamp": "2026-02-08T23:00:27.885691Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b0d4a4cc-61a5-4099-a29f-2b8fe432a70b", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "client": "127.0.0.1", "request_id": "b0d4a4cc-61a5-4099-a29f-2b8fe432a70b", "service": "api"}}
{"timestamp": "2026-02-08T23:00:27.889270Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b0d4a4cc-61a5-4099-a29f-2b8fe432a70b", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "request_id": "b0d4a4cc-61a5-4099-a29f-2b8fe432a70b", "service": "api"}}
{"timestamp": "2026-02-08T23:00:27.973988Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:00:27.975986Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 2/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "sections", "progress": 28, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T23:00:27.976987Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 1/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 0, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:00:27.977989Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 5/7: L'Art du Pivotage", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 4, "total_sections": 7, "title": "L'Art du Pivotage", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:00:27.977989Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:00:28.383009Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "eadb4ba9-701f-4141-b743-3adc6914e978", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "client": "127.0.0.1", "request_id": "eadb4ba9-701f-4141-b743-3adc6914e978", "service": "api"}}
{"timestamp": "2026-02-08T23:00:28.385009Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "eadb4ba9-701f-4141-b743-3adc6914e978", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "request_id": "eadb4ba9-701f-4141-b743-3adc6914e978", "service": "api"}}
{"timestamp": "2026-02-08T23:00:29.050968Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8fc7f39a-a9c2-45df-a89c-1fa73b3a0db4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8fc7f39a-a9c2-45df-a89c-1fa73b3a0db4", "service": "api"}}
{"timestamp": "2026-02-08T23:00:29.051969Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "76f57e3b-ba54-4f6b-bc65-7c02fd8d25a3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "76f57e3b-ba54-4f6b-bc65-7c02fd8d25a3", "service": "api"}}
{"timestamp": "2026-02-08T23:00:29.057968Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8fc7f39a-a9c2-45df-a89c-1fa73b3a0db4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8fc7f39a-a9c2-45df-a89c-1fa73b3a0db4", "service": "api"}}
{"timestamp": "2026-02-08T23:00:29.058971Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "76f57e3b-ba54-4f6b-bc65-7c02fd8d25a3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "76f57e3b-ba54-4f6b-bc65-7c02fd8d25a3", "service": "api"}}
{"timestamp": "2026-02-08T23:00:31.741277Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "73a7a595-4bc8-4e08-a7a5-e0c346aa5e35", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "73a7a595-4bc8-4e08-a7a5-e0c346aa5e35", "service": "api"}}
{"timestamp": "2026-02-08T23:00:31.742275Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "892c5171-54b8-4bb5-a007-dfd53598c909", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "892c5171-54b8-4bb5-a007-dfd53598c909", "service": "api"}}
{"timestamp": "2026-02-08T23:00:31.749784Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "73a7a595-4bc8-4e08-a7a5-e0c346aa5e35", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "73a7a595-4bc8-4e08-a7a5-e0c346aa5e35", "service": "api"}}
{"timestamp": "2026-02-08T23:00:31.750792Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "892c5171-54b8-4bb5-a007-dfd53598c909", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "892c5171-54b8-4bb5-a007-dfd53598c909", "service": "api"}}
{"timestamp": "2026-02-08T23:00:32.130423Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5d8b044a-d2cf-4f24-85cb-c4d86f7bb6d6", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "client": "127.0.0.1", "request_id": "5d8b044a-d2cf-4f24-85cb-c4d86f7bb6d6", "service": "api"}}
{"timestamp": "2026-02-08T23:00:32.132430Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5d8b044a-d2cf-4f24-85cb-c4d86f7bb6d6", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "request_id": "5d8b044a-d2cf-4f24-85cb-c4d86f7bb6d6", "service": "api"}}
{"timestamp": "2026-02-08T23:00:33.702398Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4e266ee6-66d8-4857-90fb-0cc3d416c0f0", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "client": "127.0.0.1", "request_id": "4e266ee6-66d8-4857-90fb-0cc3d416c0f0", "service": "api"}}
{"timestamp": "2026-02-08T23:00:33.704806Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4e266ee6-66d8-4857-90fb-0cc3d416c0f0", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "request_id": "4e266ee6-66d8-4857-90fb-0cc3d416c0f0", "service": "api"}}
{"timestamp": "2026-02-08T23:00:34.741139Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "17ecb1af-0058-4f62-a321-4aaec3e22cec", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "17ecb1af-0058-4f62-a321-4aaec3e22cec", "service": "api"}}
{"timestamp": "2026-02-08T23:00:34.742137Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "46331794-5f15-4e80-92f1-992a131228b8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "46331794-5f15-4e80-92f1-992a131228b8", "service": "api"}}
{"timestamp": "2026-02-08T23:00:34.748138Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "17ecb1af-0058-4f62-a321-4aaec3e22cec", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "17ecb1af-0058-4f62-a321-4aaec3e22cec", "service": "api"}}
{"timestamp": "2026-02-08T23:00:34.749141Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "46331794-5f15-4e80-92f1-992a131228b8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "46331794-5f15-4e80-92f1-992a131228b8", "service": "api"}}
{"timestamp": "2026-02-08T23:00:37.735941Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b42989b6-5976-4a0f-bf2a-c4ac816cbc36", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "b42989b6-5976-4a0f-bf2a-c4ac816cbc36", "service": "api"}}
{"timestamp": "2026-02-08T23:00:37.736940Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "24ab5702-4396-4b4f-a958-ed2e1abeff4f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "24ab5702-4396-4b4f-a958-ed2e1abeff4f", "service": "api"}}
{"timestamp": "2026-02-08T23:00:37.744471Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b42989b6-5976-4a0f-bf2a-c4ac816cbc36", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "b42989b6-5976-4a0f-bf2a-c4ac816cbc36", "service": "api"}}
{"timestamp": "2026-02-08T23:00:37.745464Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "24ab5702-4396-4b4f-a958-ed2e1abeff4f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "24ab5702-4396-4b4f-a958-ed2e1abeff4f", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.262271Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/section/0", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ab211c7c-331b-415c-ab07-9f33d34845c1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/0", "client": "127.0.0.1", "request_id": "ab211c7c-331b-415c-ab07-9f33d34845c1", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.267274Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ab211c7c-331b-415c-ab07-9f33d34845c1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/0", "request_id": "ab211c7c-331b-415c-ab07-9f33d34845c1", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.276221Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "75d18822-8519-4089-ad5d-1c17c90e31c2", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "75d18822-8519-4089-ad5d-1c17c90e31c2", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.279229Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "75d18822-8519-4089-ad5d-1c17c90e31c2", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "request_id": "75d18822-8519-4089-ad5d-1c17c90e31c2", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.283554Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f359567b-fa3f-4361-97b0-5ab0e408e189", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "f359567b-fa3f-4361-97b0-5ab0e408e189", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.285551Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f359567b-fa3f-4361-97b0-5ab0e408e189", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "request_id": "f359567b-fa3f-4361-97b0-5ab0e408e189", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.294525Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "12d05694-96f7-4bbd-99cd-3f1cbcc18956", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "12d05694-96f7-4bbd-99cd-3f1cbcc18956", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.295525Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "12d05694-96f7-4bbd-99cd-3f1cbcc18956", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "request_id": "12d05694-96f7-4bbd-99cd-3f1cbcc18956", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.608098Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "24bfc68c-6ee4-4c4f-a570-77b3f1778b5c", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "24bfc68c-6ee4-4c4f-a570-77b3f1778b5c", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.609103Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "24bfc68c-6ee4-4c4f-a570-77b3f1778b5c", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "request_id": "24bfc68c-6ee4-4c4f-a570-77b3f1778b5c", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.612543Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T23:00:40.741703Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5aa59363-1d00-4af8-88f2-6a4890053f29", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "5aa59363-1d00-4af8-88f2-6a4890053f29", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.742702Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5aa59363-1d00-4af8-88f2-6a4890053f29", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "5aa59363-1d00-4af8-88f2-6a4890053f29", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.744700Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ecedf416-3858-4b66-a501-0b65ac677948", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ecedf416-3858-4b66-a501-0b65ac677948", "service": "api"}}
{"timestamp": "2026-02-08T23:00:40.750213Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ecedf416-3858-4b66-a501-0b65ac677948", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ecedf416-3858-4b66-a501-0b65ac677948", "service": "api"}}
{"timestamp": "2026-02-08T23:00:42.959240Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9e52a831-b9fe-4c85-88cf-2e0452d842a3", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "9e52a831-b9fe-4c85-88cf-2e0452d842a3", "service": "api"}}
{"timestamp": "2026-02-08T23:00:42.960755Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9e52a831-b9fe-4c85-88cf-2e0452d842a3", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "request_id": "9e52a831-b9fe-4c85-88cf-2e0452d842a3", "service": "api"}}
{"timestamp": "2026-02-08T23:00:43.272406Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d92f5ae1-c86c-4e5a-b075-1cd049adb7cf", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "client": "127.0.0.1", "request_id": "d92f5ae1-c86c-4e5a-b075-1cd049adb7cf", "service": "api"}}
{"timestamp": "2026-02-08T23:00:43.273406Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d92f5ae1-c86c-4e5a-b075-1cd049adb7cf", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/0/final_section.mp4", "request_id": "d92f5ae1-c86c-4e5a-b075-1cd049adb7cf", "service": "api"}}
{"timestamp": "2026-02-08T23:00:43.739471Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c49de64f-e5dc-4a27-bdbd-6f09b526b56c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c49de64f-e5dc-4a27-bdbd-6f09b526b56c", "service": "api"}}
{"timestamp": "2026-02-08T23:00:43.740917Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7a8a6163-b805-4cd9-98e7-cf3d9cc102a8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7a8a6163-b805-4cd9-98e7-cf3d9cc102a8", "service": "api"}}
{"timestamp": "2026-02-08T23:00:43.746929Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c49de64f-e5dc-4a27-bdbd-6f09b526b56c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c49de64f-e5dc-4a27-bdbd-6f09b526b56c", "service": "api"}}
{"timestamp": "2026-02-08T23:00:43.747925Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7a8a6163-b805-4cd9-98e7-cf3d9cc102a8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7a8a6163-b805-4cd9-98e7-cf3d9cc102a8", "service": "api"}}
{"timestamp": "2026-02-08T23:00:45.649784Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Total audio duration = 41.7s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:00:45.731778Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Generating unified video using NEW Pipeline (41.7s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:00:45.733781Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 4 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:00:45.734779Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'L'Art du Pivotage'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T23:00:45.736800Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9915 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 4, "job_id": "unknown", "stage": "choreography", "request_id": "2776134e-1252-4177-b274-a3c667c0b8f7", "timestamp": "2026-02-08T23:00:45.735780Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: L'Art du Pivotage\n**Duration**: 41.736000000000004s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: French\n**Visual Strategy**:\nMode=comprehensi... [truncated, total: 9915 chars]", "prompt_length": 9915, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:00:45.739292Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:00:46.739860Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bdb05340-c2f5-4645-8237-33c7851a87de", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "bdb05340-c2f5-4645-8237-33c7851a87de", "service": "api"}}
{"timestamp": "2026-02-08T23:00:46.740867Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a1c25fed-ab0d-4a8a-838d-6500b72a6622", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "a1c25fed-ab0d-4a8a-838d-6500b72a6622", "service": "api"}}
{"timestamp": "2026-02-08T23:00:46.748381Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bdb05340-c2f5-4645-8237-33c7851a87de", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "bdb05340-c2f5-4645-8237-33c7851a87de", "service": "api"}}
{"timestamp": "2026-02-08T23:00:46.749380Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a1c25fed-ab0d-4a8a-838d-6500b72a6622", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "a1c25fed-ab0d-4a8a-838d-6500b72a6622", "service": "api"}}
{"timestamp": "2026-02-08T23:00:49.741287Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e08f5b0e-3146-47f9-8081-8763f13da737", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e08f5b0e-3146-47f9-8081-8763f13da737", "service": "api"}}
{"timestamp": "2026-02-08T23:00:49.742286Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "529f7475-2487-4778-8fc5-07fcfb722d20", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "529f7475-2487-4778-8fc5-07fcfb722d20", "service": "api"}}
{"timestamp": "2026-02-08T23:00:49.746807Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e08f5b0e-3146-47f9-8081-8763f13da737", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e08f5b0e-3146-47f9-8081-8763f13da737", "service": "api"}}
{"timestamp": "2026-02-08T23:00:49.747808Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "529f7475-2487-4778-8fc5-07fcfb722d20", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "529f7475-2487-4778-8fc5-07fcfb722d20", "service": "api"}}
{"timestamp": "2026-02-08T23:00:51.481369Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/section/1", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1def9b26-0501-4bc6-b33d-01559200f5ce", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/1", "client": "127.0.0.1", "request_id": "1def9b26-0501-4bc6-b33d-01559200f5ce", "service": "api"}}
{"timestamp": "2026-02-08T23:00:51.487369Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1def9b26-0501-4bc6-b33d-01559200f5ce", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/1", "request_id": "1def9b26-0501-4bc6-b33d-01559200f5ce", "service": "api"}}
{"timestamp": "2026-02-08T23:00:52.741252Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "057b346f-9f4f-442a-b442-1cee1ba6ee2d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "057b346f-9f4f-442a-b442-1cee1ba6ee2d", "service": "api"}}
{"timestamp": "2026-02-08T23:00:52.742253Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "24edaf00-7dab-46d2-af9e-2a91e1959463", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "24edaf00-7dab-46d2-af9e-2a91e1959463", "service": "api"}}
{"timestamp": "2026-02-08T23:00:52.748250Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "057b346f-9f4f-442a-b442-1cee1ba6ee2d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "057b346f-9f4f-442a-b442-1cee1ba6ee2d", "service": "api"}}
{"timestamp": "2026-02-08T23:00:52.749251Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "24edaf00-7dab-46d2-af9e-2a91e1959463", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "24edaf00-7dab-46d2-af9e-2a91e1959463", "service": "api"}}
{"timestamp": "2026-02-08T23:00:55.737686Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "55871799-9972-406c-adb2-891759612e71", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "55871799-9972-406c-adb2-891759612e71", "service": "api"}}
{"timestamp": "2026-02-08T23:00:55.737686Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "634b09c8-1796-4770-8ab6-f235cd0aa141", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "634b09c8-1796-4770-8ab6-f235cd0aa141", "service": "api"}}
{"timestamp": "2026-02-08T23:00:55.744204Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "55871799-9972-406c-adb2-891759612e71", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "55871799-9972-406c-adb2-891759612e71", "service": "api"}}
{"timestamp": "2026-02-08T23:00:55.745203Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "634b09c8-1796-4770-8ab6-f235cd0aa141", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "634b09c8-1796-4770-8ab6-f235cd0aa141", "service": "api"}}
{"timestamp": "2026-02-08T23:00:58.741096Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7ee4d869-cc6e-4c32-9572-74f9923ce507", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7ee4d869-cc6e-4c32-9572-74f9923ce507", "service": "api"}}
{"timestamp": "2026-02-08T23:00:58.742203Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ad2f38da-999d-40c7-990d-feb211bbd1a0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ad2f38da-999d-40c7-990d-feb211bbd1a0", "service": "api"}}
{"timestamp": "2026-02-08T23:00:58.748209Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7ee4d869-cc6e-4c32-9572-74f9923ce507", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7ee4d869-cc6e-4c32-9572-74f9923ce507", "service": "api"}}
{"timestamp": "2026-02-08T23:00:58.749210Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ad2f38da-999d-40c7-990d-feb211bbd1a0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ad2f38da-999d-40c7-990d-feb211bbd1a0", "service": "api"}}
{"timestamp": "2026-02-08T23:01:01.742451Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "16d61a14-6d47-4e1b-babe-e389958b8392", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "16d61a14-6d47-4e1b-babe-e389958b8392", "service": "api"}}
{"timestamp": "2026-02-08T23:01:01.743449Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ff5a5860-5ed4-4b82-9c2c-8d637619276c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ff5a5860-5ed4-4b82-9c2c-8d637619276c", "service": "api"}}
{"timestamp": "2026-02-08T23:01:01.748449Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "16d61a14-6d47-4e1b-babe-e389958b8392", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "16d61a14-6d47-4e1b-babe-e389958b8392", "service": "api"}}
{"timestamp": "2026-02-08T23:01:01.749450Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ff5a5860-5ed4-4b82-9c2c-8d637619276c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ff5a5860-5ed4-4b82-9c2c-8d637619276c", "service": "api"}}
{"timestamp": "2026-02-08T23:01:04.739250Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6e567c7b-e11e-4df3-ba62-2a486a57fcef", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6e567c7b-e11e-4df3-ba62-2a486a57fcef", "service": "api"}}
{"timestamp": "2026-02-08T23:01:04.740287Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ed0358c8-6e6b-4703-8218-089af2f7ac63", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ed0358c8-6e6b-4703-8218-089af2f7ac63", "service": "api"}}
{"timestamp": "2026-02-08T23:01:04.740287Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6e567c7b-e11e-4df3-ba62-2a486a57fcef", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6e567c7b-e11e-4df3-ba62-2a486a57fcef", "service": "api"}}
{"timestamp": "2026-02-08T23:01:04.748122Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ed0358c8-6e6b-4703-8218-089af2f7ac63", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ed0358c8-6e6b-4703-8218-089af2f7ac63", "service": "api"}}
{"timestamp": "2026-02-08T23:01:06.826496Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 52.92s | Length: 1188 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "type_error", "request_id": "3cf6093f-6b8d-4ce0-9d4e-4400f484889f", "timestamp": "2026-02-08T23:01:06.826496Z", "response_text": "{\n  \"analysis\": \"Fixed TypeError in Table.get_cell by passing coordinates as a single tuple. The method signature in Manim CE v0.19.2 requires a single 'pos' argument for row and column indices.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        # Cellule 3200 est \u00e0 (row 2, col 3) : row 2 = z, col 3 = x2\\n        profit_cell = tableau_initial.get_cell(2, 3)\\n        profit_label = Text(\\\"Profit Ma... [truncated, total: 1188 chars]", "duration_seconds": 52.915, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:01:06.827496Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 2 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:01:06.828496Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:01:06.828496Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 2: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:01:06.828496Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 2 successful, 0 failed (out of 2 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"successful_edits": 2, "failed_edits": 0, "total_edits": 2, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:01:06.829496Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 4966 -> 4970)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:06.830002Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Le Premier Pas : L'It\u00e9ration 1' (Turn 1)", "module": "refiner", "function": "refine", "line": 219, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "Le Premier Pas : L'It\u00e9ration 1", "turn": 1, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:06.853939Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 2)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:07.738526Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ae9482e6-6ebf-4ecb-8612-a601fb3a8208", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "ae9482e6-6ebf-4ecb-8612-a601fb3a8208", "service": "api"}}
{"timestamp": "2026-02-08T23:01:07.739526Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "768b6249-b2db-4724-afa6-893cc8b4f56f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "768b6249-b2db-4724-afa6-893cc8b4f56f", "service": "api"}}
{"timestamp": "2026-02-08T23:01:07.746696Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ae9482e6-6ebf-4ecb-8612-a601fb3a8208", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "ae9482e6-6ebf-4ecb-8612-a601fb3a8208", "service": "api"}}
{"timestamp": "2026-02-08T23:01:07.747695Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "768b6249-b2db-4724-afa6-893cc8b4f56f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "768b6249-b2db-4724-afa6-893cc8b4f56f", "service": "api"}}
{"timestamp": "2026-02-08T23:01:07.939739Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 72.36s | Length: 1258 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 1, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "df54e573-a67f-4049-a510-e78bec9d7ccd", "timestamp": "2026-02-08T23:01:07.939234Z", "response_text": "{\n  \"analysis\": \"Clamped profit line endpoints to the visible axes area to prevent out-of-bounds errors and increased the vertex label buffer to avoid overlap with the profit line.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        def get_profit_line(k_val):\\n            # 1.7x + 3.2y = k\\n            p1 = axes.c2p(0, k_val / 3.2)\\n            p2 = axes.c2p(17, (k_val - 1.7 * 17) / 3.2)\\n        ... [truncated, total: 1258 chars]", "duration_seconds": 72.355, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:01:07.940749Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 2 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:01:07.940749Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:01:07.941759Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 2: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:01:07.941759Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 2 successful, 0 failed (out of 2 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"successful_edits": 2, "failed_edits": 0, "total_edits": 2, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:01:07.941759Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 5771 -> 5797)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:07.941759Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'La Visualisation : La M\u00e9thode Graphique' (Turn 2)", "module": "refiner", "function": "refine", "line": 219, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "La Visualisation : La M\u00e9thode Graphique", "turn": 2, "deterministic_fixes": 0, "llm_fixes": 2, "refinement_stage": "post_fix_revalidate", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:07.972254Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 3)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:10.740457Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fdd17f6f-bdaf-444c-9f31-6700ac322d77", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "fdd17f6f-bdaf-444c-9f31-6700ac322d77", "service": "api"}}
{"timestamp": "2026-02-08T23:01:10.741458Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "928fd137-d7a0-4bf6-a039-b75528ebd765", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "928fd137-d7a0-4bf6-a039-b75528ebd765", "service": "api"}}
{"timestamp": "2026-02-08T23:01:10.741458Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fdd17f6f-bdaf-444c-9f31-6700ac322d77", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "fdd17f6f-bdaf-444c-9f31-6700ac322d77", "service": "api"}}
{"timestamp": "2026-02-08T23:01:10.747457Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "928fd137-d7a0-4bf6-a039-b75528ebd765", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "928fd137-d7a0-4bf6-a039-b75528ebd765", "service": "api"}}
{"timestamp": "2026-02-08T23:01:12.769267Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 27.03s | Length: 8565 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 4, "job_id": "unknown", "stage": "choreography", "request_id": "2776134e-1252-4177-b274-a3c667c0b8f7", "timestamp": "2026-02-08T23:01:12.769267Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"L'Art du Pivotage\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 3.8,\n      \"notes\": \"Main title of the section.\",\n      \"visual_description\": \"Bold white text at the top of the screen.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n  ... [truncated, total: 8565 chars]", "duration_seconds": 27.033, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:01:12.770621Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (8565 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T23:01:12.772631Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\4\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:01:12.772631Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 4, "attempt": 1, "plan_chars": 8565, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\4\\choreography_plan.json", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:01:12.773630Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'L'Art du Pivotage'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T23:01:12.775630Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 23487 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 4, "job_id": "unknown", "stage": "implementation", "request_id": "035063eb-4f5c-4ae8-b184-eb9adf19b6c7", "timestamp": "2026-02-08T23:01:12.773630Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"L'Art du Pivotage\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 3.8,\n      \"notes\": \"Main title of the section.\",\n      \"visual_description\": \"Bold white text at ... [truncated, total: 23487 chars]", "prompt_length": 23487, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:01:12.777630Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:01:13.737386Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "97249fdf-1203-41ab-ba5a-65263383a99e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "97249fdf-1203-41ab-ba5a-65263383a99e", "service": "api"}}
{"timestamp": "2026-02-08T23:01:13.738388Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dc5cc83b-0540-440c-b34e-515c6b6c21aa", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "dc5cc83b-0540-440c-b34e-515c6b6c21aa", "service": "api"}}
{"timestamp": "2026-02-08T23:01:13.738388Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "97249fdf-1203-41ab-ba5a-65263383a99e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "97249fdf-1203-41ab-ba5a-65263383a99e", "service": "api"}}
{"timestamp": "2026-02-08T23:01:13.744765Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dc5cc83b-0540-440c-b34e-515c6b6c21aa", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "dc5cc83b-0540-440c-b34e-515c6b6c21aa", "service": "api"}}
{"timestamp": "2026-02-08T23:01:16.738690Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "34f38acf-5fd2-481d-994e-ef2bf488bb15", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "34f38acf-5fd2-481d-994e-ef2bf488bb15", "service": "api"}}
{"timestamp": "2026-02-08T23:01:16.739694Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "004c4fb4-824c-4ce9-9f00-b0957d6e12d1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "004c4fb4-824c-4ce9-9f00-b0957d6e12d1", "service": "api"}}
{"timestamp": "2026-02-08T23:01:16.746915Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "34f38acf-5fd2-481d-994e-ef2bf488bb15", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "34f38acf-5fd2-481d-994e-ef2bf488bb15", "service": "api"}}
{"timestamp": "2026-02-08T23:01:16.747918Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "004c4fb4-824c-4ce9-9f00-b0957d6e12d1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "004c4fb4-824c-4ce9-9f00-b0957d6e12d1", "service": "api"}}
{"timestamp": "2026-02-08T23:01:18.543633Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'La Visualisation : La M\u00e9thode Graphique' (Turn 3)", "module": "refiner", "function": "refine", "line": 191, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempts": 3, "static_failures": 0, "runtime_failures": 2, "deterministic_fixes": 0, "llm_fixes": 12, "deferred_to_visual_qc": 8, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:18.545633Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionMethodeGraphique", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:01:18.546634Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\1\\scene_1.py (6164 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:01:18.547632Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 1 Scene: SectionMethodeGraphique", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:01:19.738127Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bbcb4d49-e42d-420d-9fa0-4c26ff7148de", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "bbcb4d49-e42d-420d-9fa0-4c26ff7148de", "service": "api"}}
{"timestamp": "2026-02-08T23:01:19.738127Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b4df7f33-2937-4333-bb04-6e949fad9e7a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "b4df7f33-2937-4333-bb04-6e949fad9e7a", "service": "api"}}
{"timestamp": "2026-02-08T23:01:19.739632Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bbcb4d49-e42d-420d-9fa0-4c26ff7148de", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "bbcb4d49-e42d-420d-9fa0-4c26ff7148de", "service": "api"}}
{"timestamp": "2026-02-08T23:01:19.747649Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b4df7f33-2937-4333-bb04-6e949fad9e7a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "b4df7f33-2937-4333-bb04-6e949fad9e7a", "service": "api"}}
{"timestamp": "2026-02-08T23:01:22.739355Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d2205208-6a3b-42e7-ad3e-20a78e8ab591", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "d2205208-6a3b-42e7-ad3e-20a78e8ab591", "service": "api"}}
{"timestamp": "2026-02-08T23:01:22.740361Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8ec65583-0c72-434d-afdb-7769dd097f13", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8ec65583-0c72-434d-afdb-7769dd097f13", "service": "api"}}
{"timestamp": "2026-02-08T23:01:22.746360Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d2205208-6a3b-42e7-ad3e-20a78e8ab591", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d2205208-6a3b-42e7-ad3e-20a78e8ab591", "service": "api"}}
{"timestamp": "2026-02-08T23:01:22.747362Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8ec65583-0c72-434d-afdb-7769dd097f13", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8ec65583-0c72-434d-afdb-7769dd097f13", "service": "api"}}
{"timestamp": "2026-02-08T23:01:25.739707Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a712fa8b-301b-40f2-9002-8631e26ee465", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a712fa8b-301b-40f2-9002-8631e26ee465", "service": "api"}}
{"timestamp": "2026-02-08T23:01:25.740716Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "56e00779-60fb-4ff9-90f9-7190d3afd95d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "56e00779-60fb-4ff9-90f9-7190d3afd95d", "service": "api"}}
{"timestamp": "2026-02-08T23:01:25.747726Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a712fa8b-301b-40f2-9002-8631e26ee465", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a712fa8b-301b-40f2-9002-8631e26ee465", "service": "api"}}
{"timestamp": "2026-02-08T23:01:25.748723Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "56e00779-60fb-4ff9-90f9-7190d3afd95d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "56e00779-60fb-4ff9-90f9-7190d3afd95d", "service": "api"}}
{"timestamp": "2026-02-08T23:01:28.739559Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "12788521-2e5a-412f-a66e-17a0d785b45c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "12788521-2e5a-412f-a66e-17a0d785b45c", "service": "api"}}
{"timestamp": "2026-02-08T23:01:28.741759Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "44075d3d-abc3-4d4c-8d6d-1a3848ad20e1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "44075d3d-abc3-4d4c-8d6d-1a3848ad20e1", "service": "api"}}
{"timestamp": "2026-02-08T23:01:28.748598Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "12788521-2e5a-412f-a66e-17a0d785b45c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "12788521-2e5a-412f-a66e-17a0d785b45c", "service": "api"}}
{"timestamp": "2026-02-08T23:01:28.749628Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "44075d3d-abc3-4d4c-8d6d-1a3848ad20e1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "44075d3d-abc3-4d4c-8d6d-1a3848ad20e1", "service": "api"}}
{"timestamp": "2026-02-08T23:01:29.056165Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\1\\videos\\scene_1\\480p15\\section_1.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:01:29.178014Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Merging video (46.6s) with audio (47.0s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:01:29.950244Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:01:29.952249Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 3/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "sections", "progress": 42, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T23:01:29.952249Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 2/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 1, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:01:29.953247Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 6/7: Vers le Sommet : It\u00e9rations 2 et 3", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 5, "total_sections": 7, "title": "Vers le Sommet : It\u00e9rations 2 et 3", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:01:29.953247Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Processing 6 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:01:31.739689Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d88028f7-c3df-47b2-8d41-ab90da764229", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "d88028f7-c3df-47b2-8d41-ab90da764229", "service": "api"}}
{"timestamp": "2026-02-08T23:01:31.741695Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5ed0b162-789e-4cd2-a6e4-b13715af4293", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "5ed0b162-789e-4cd2-a6e4-b13715af4293", "service": "api"}}
{"timestamp": "2026-02-08T23:01:31.747697Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d88028f7-c3df-47b2-8d41-ab90da764229", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d88028f7-c3df-47b2-8d41-ab90da764229", "service": "api"}}
{"timestamp": "2026-02-08T23:01:31.747697Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5ed0b162-789e-4cd2-a6e4-b13715af4293", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "5ed0b162-789e-4cd2-a6e4-b13715af4293", "service": "api"}}
{"timestamp": "2026-02-08T23:01:34.737858Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "23496ea2-708a-4a92-8210-9353f0a4bbbd", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "23496ea2-708a-4a92-8210-9353f0a4bbbd", "service": "api"}}
{"timestamp": "2026-02-08T23:01:34.737858Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d8324ab4-9263-4e98-bf07-d3b4db8cdb75", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "d8324ab4-9263-4e98-bf07-d3b4db8cdb75", "service": "api"}}
{"timestamp": "2026-02-08T23:01:34.744372Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "23496ea2-708a-4a92-8210-9353f0a4bbbd", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "23496ea2-708a-4a92-8210-9353f0a4bbbd", "service": "api"}}
{"timestamp": "2026-02-08T23:01:34.744372Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d8324ab4-9263-4e98-bf07-d3b4db8cdb75", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "d8324ab4-9263-4e98-bf07-d3b4db8cdb75", "service": "api"}}
{"timestamp": "2026-02-08T23:01:37.738208Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f438a150-56d5-4fa6-8cf0-d04cc4c58e9f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "f438a150-56d5-4fa6-8cf0-d04cc4c58e9f", "service": "api"}}
{"timestamp": "2026-02-08T23:01:37.739713Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d7041f61-2eee-4ef6-91e4-b16eda593b01", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "d7041f61-2eee-4ef6-91e4-b16eda593b01", "service": "api"}}
{"timestamp": "2026-02-08T23:01:37.744721Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f438a150-56d5-4fa6-8cf0-d04cc4c58e9f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "f438a150-56d5-4fa6-8cf0-d04cc4c58e9f", "service": "api"}}
{"timestamp": "2026-02-08T23:01:37.745719Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d7041f61-2eee-4ef6-91e4-b16eda593b01", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "d7041f61-2eee-4ef6-91e4-b16eda593b01", "service": "api"}}
{"timestamp": "2026-02-08T23:01:40.738144Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f7ee7397-094d-4caf-ab26-3fd5449d6f1b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "f7ee7397-094d-4caf-ab26-3fd5449d6f1b", "service": "api"}}
{"timestamp": "2026-02-08T23:01:40.739650Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "10aaa935-02fa-4951-abe9-389251787c96", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "10aaa935-02fa-4951-abe9-389251787c96", "service": "api"}}
{"timestamp": "2026-02-08T23:01:40.746657Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f7ee7397-094d-4caf-ab26-3fd5449d6f1b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "f7ee7397-094d-4caf-ab26-3fd5449d6f1b", "service": "api"}}
{"timestamp": "2026-02-08T23:01:41.154878Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "10aaa935-02fa-4951-abe9-389251787c96", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "10aaa935-02fa-4951-abe9-389251787c96", "service": "api"}}
{"timestamp": "2026-02-08T23:01:43.738103Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "60dc83f9-bfcf-43ba-9515-60f5e0a83ef9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "60dc83f9-bfcf-43ba-9515-60f5e0a83ef9", "service": "api"}}
{"timestamp": "2026-02-08T23:01:43.738103Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2a26c403-2311-400c-bf47-46ebbfd065f6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "2a26c403-2311-400c-bf47-46ebbfd065f6", "service": "api"}}
{"timestamp": "2026-02-08T23:01:43.748614Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "60dc83f9-bfcf-43ba-9515-60f5e0a83ef9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "60dc83f9-bfcf-43ba-9515-60f5e0a83ef9", "service": "api"}}
{"timestamp": "2026-02-08T23:01:43.749616Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2a26c403-2311-400c-bf47-46ebbfd065f6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "2a26c403-2311-400c-bf47-46ebbfd065f6", "service": "api"}}
{"timestamp": "2026-02-08T23:01:46.737847Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9e868c09-e074-4052-8068-0c4e0868407c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "9e868c09-e074-4052-8068-0c4e0868407c", "service": "api"}}
{"timestamp": "2026-02-08T23:01:46.738845Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c3e4c1a4-8365-4c1c-afd8-01a3da355561", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "c3e4c1a4-8365-4c1c-afd8-01a3da355561", "service": "api"}}
{"timestamp": "2026-02-08T23:01:46.743073Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9e868c09-e074-4052-8068-0c4e0868407c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "9e868c09-e074-4052-8068-0c4e0868407c", "service": "api"}}
{"timestamp": "2026-02-08T23:01:46.744071Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c3e4c1a4-8365-4c1c-afd8-01a3da355561", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "c3e4c1a4-8365-4c1c-afd8-01a3da355561", "service": "api"}}
{"timestamp": "2026-02-08T23:01:48.893930Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Total audio duration = 39.3s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:01:48.975549Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Generating unified video using NEW Pipeline (39.3s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:01:48.977546Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 5 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:01:48.977546Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Vers le Sommet : It\u00e9rations 2 et 3'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T23:01:48.979543Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10381 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 5, "job_id": "unknown", "stage": "choreography", "request_id": "c5354d5d-845e-454e-a388-a2e6ae13dfd3", "timestamp": "2026-02-08T23:01:48.978545Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Vers le Sommet : It\u00e9rations 2 et 3\n**Duration**: 39.288s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: French\n**Visual Strategy**:\nMode=compre... [truncated, total: 10381 chars]", "prompt_length": 10381, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:01:48.981808Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:01:50.276194Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "27e0fbd1-1743-4cf4-bb31-0bb95cdbe552", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "27e0fbd1-1743-4cf4-bb31-0bb95cdbe552", "service": "api"}}
{"timestamp": "2026-02-08T23:01:50.277183Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "212f84b9-3298-497a-9ab3-ede31128aabb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "212f84b9-3298-497a-9ab3-ede31128aabb", "service": "api"}}
{"timestamp": "2026-02-08T23:01:50.277183Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "27e0fbd1-1743-4cf4-bb31-0bb95cdbe552", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "27e0fbd1-1743-4cf4-bb31-0bb95cdbe552", "service": "api"}}
{"timestamp": "2026-02-08T23:01:50.285709Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "212f84b9-3298-497a-9ab3-ede31128aabb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "212f84b9-3298-497a-9ab3-ede31128aabb", "service": "api"}}
{"timestamp": "2026-02-08T23:01:53.277727Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9686143d-cd4c-4f8f-b99f-af00e54eb6a3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "9686143d-cd4c-4f8f-b99f-af00e54eb6a3", "service": "api"}}
{"timestamp": "2026-02-08T23:01:53.278727Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8ad9475a-1dd3-4803-8caf-8fd89da731a7", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8ad9475a-1dd3-4803-8caf-8fd89da731a7", "service": "api"}}
{"timestamp": "2026-02-08T23:01:53.284756Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9686143d-cd4c-4f8f-b99f-af00e54eb6a3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "9686143d-cd4c-4f8f-b99f-af00e54eb6a3", "service": "api"}}
{"timestamp": "2026-02-08T23:01:53.285754Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8ad9475a-1dd3-4803-8caf-8fd89da731a7", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8ad9475a-1dd3-4803-8caf-8fd89da731a7", "service": "api"}}
{"timestamp": "2026-02-08T23:01:53.704595Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 2/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"turn": 2, "validation_type": "runtime", "issue_count": 1, "section_title": "Le Premier Pas : L'It\u00e9ration 1", "issue_samples": [{"category": "text_overlap", "severity": "critical", "confidence": "high", "auto_fixable": true, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "text_overlap:3d98a89b", "message": "Text overlap (24%): 'LePremierPas:L'It\u00e9ration1' overlaps 'TestduRatioMinimum'", "subject": "LePremierPas:L'It\u00e9ration1 vs TestduRatioMinimum", "reason": "bbox_overlap"}], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:53.704595Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: Text overlap (24%): 'LePremierPas:L'It\u00e9ration1' overlaps 'TestduRatioMinimum' | subject=LePremierPas:L'It\u00e9ration1 vs TestduRatioMinimum, reason=bbox_overlap", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:53.750684Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 2)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:53.750684Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: spatial_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T23:01:53.752191Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 7731 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "e6eea562-4245-49ea-acb3-abedfadcb477", "timestamp": "2026-02-08T23:01:53.750684Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 7731 chars]", "prompt_length": 7731, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:01:53.753200Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:01:53.828811Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 41.05s | Length: 5430 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 4, "job_id": "unknown", "stage": "implementation", "request_id": "035063eb-4f5c-4ae8-b184-eb9adf19b6c7", "timestamp": "2026-02-08T23:01:53.827812Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass ScenePivotageGauss(Scene):\n    def construct(self):\n        # Theme Colors\n        BG_COLOR = \"#171717\"\n        PRIMARY_TEXT = WHITE\n        SECONDARY_TEXT = \"#AFC6FF\"\n        ACCENT_BLUE = \"#58C4DD\"\n        ACCENT_GREEN = \"#83C167\"\n        ACCENT_GOLD = \"#FFC857\"\n        ACCENT_RED = \"#FF6B6B\"\n\n        self.camera.background_color = BG_COLOR\n\n ... [truncated, total: 5430 chars]", "duration_seconds": 41.052, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:01:53.829813Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5416 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T23:01:53.830942Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\4\\scene_4.py (5577 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:01:53.831939Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 4, "attempt": 1, "code_chars": 5416, "pipeline_stage": "code_generated", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:01:53.831939Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'L'Art du Pivotage'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T23:01:53.831939Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'L'Art du Pivotage'", "module": "refiner", "function": "refine", "line": 129, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "L'Art du Pivotage", "max_attempts": 5, "refinement_stage": "start", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:53.853988Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:01:56.289425Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2d1657e9-3f59-41ea-bb1a-906452bff883", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2d1657e9-3f59-41ea-bb1a-906452bff883", "service": "api"}}
{"timestamp": "2026-02-08T23:01:56.290502Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "90c6c023-543d-4aa5-873d-d44085e0ac6f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "90c6c023-543d-4aa5-873d-d44085e0ac6f", "service": "api"}}
{"timestamp": "2026-02-08T23:01:56.296501Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2d1657e9-3f59-41ea-bb1a-906452bff883", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2d1657e9-3f59-41ea-bb1a-906452bff883", "service": "api"}}
{"timestamp": "2026-02-08T23:01:56.297502Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "90c6c023-543d-4aa5-873d-d44085e0ac6f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "90c6c023-543d-4aa5-873d-d44085e0ac6f", "service": "api"}}
{"timestamp": "2026-02-08T23:01:56.379107Z", "level": "ERROR", "logger": "app.core.llm_logger", "message": "LLM Error | Duration: 2.63s | Error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "module": "llm_logger", "function": "log_response", "line": 486, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "e6eea562-4245-49ea-acb3-abedfadcb477", "timestamp": "2026-02-08T23:01:56.378567Z", "response_text": "", "duration_seconds": 2.626, "success": false, "error": "503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:01:57.403982Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 7731 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 3, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "c49a12b9-544a-4f69-af70-c49b28df3e83", "timestamp": "2026-02-08T23:01:57.402978Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 7731 chars]", "prompt_length": 7731, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:01:57.404983Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:01:59.279526Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7b968f72-78ae-45d4-80ee-477b9b5da082", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7b968f72-78ae-45d4-80ee-477b9b5da082", "service": "api"}}
{"timestamp": "2026-02-08T23:01:59.280536Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "705322b1-e6fe-4725-a58a-88b4a3f92a28", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "705322b1-e6fe-4725-a58a-88b4a3f92a28", "service": "api"}}
{"timestamp": "2026-02-08T23:01:59.286051Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7b968f72-78ae-45d4-80ee-477b9b5da082", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7b968f72-78ae-45d4-80ee-477b9b5da082", "service": "api"}}
{"timestamp": "2026-02-08T23:01:59.287051Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "705322b1-e6fe-4725-a58a-88b4a3f92a28", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "705322b1-e6fe-4725-a58a-88b4a3f92a28", "service": "api"}}
{"timestamp": "2026-02-08T23:02:02.598563Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "442b8d08-c121-44fe-ab75-5fd9220d23d5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "442b8d08-c121-44fe-ab75-5fd9220d23d5", "service": "api"}}
{"timestamp": "2026-02-08T23:02:02.599564Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dad22bf0-2bd4-448a-9328-4ce93aadd5a0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "dad22bf0-2bd4-448a-9328-4ce93aadd5a0", "service": "api"}}
{"timestamp": "2026-02-08T23:02:02.600072Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "442b8d08-c121-44fe-ab75-5fd9220d23d5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "442b8d08-c121-44fe-ab75-5fd9220d23d5", "service": "api"}}
{"timestamp": "2026-02-08T23:02:02.608073Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dad22bf0-2bd4-448a-9328-4ce93aadd5a0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "dad22bf0-2bd4-448a-9328-4ce93aadd5a0", "service": "api"}}
{"timestamp": "2026-02-08T23:02:05.280752Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ed5b16e5-9334-4c4e-ac95-60de3b9f5171", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "ed5b16e5-9334-4c4e-ac95-60de3b9f5171", "service": "api"}}
{"timestamp": "2026-02-08T23:02:05.281751Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "12b8bc4c-3fc9-42ed-a24a-0d2755074ef1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "12b8bc4c-3fc9-42ed-a24a-0d2755074ef1", "service": "api"}}
{"timestamp": "2026-02-08T23:02:05.287750Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ed5b16e5-9334-4c4e-ac95-60de3b9f5171", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "ed5b16e5-9334-4c4e-ac95-60de3b9f5171", "service": "api"}}
{"timestamp": "2026-02-08T23:02:05.287750Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "12b8bc4c-3fc9-42ed-a24a-0d2755074ef1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "12b8bc4c-3fc9-42ed-a24a-0d2755074ef1", "service": "api"}}
{"timestamp": "2026-02-08T23:02:08.285274Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "83e86739-c653-40a6-b286-7b41e5902468", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "83e86739-c653-40a6-b286-7b41e5902468", "service": "api"}}
{"timestamp": "2026-02-08T23:02:08.286277Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2e91bba5-0261-479b-829c-a38cbc0e2cd9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "2e91bba5-0261-479b-829c-a38cbc0e2cd9", "service": "api"}}
{"timestamp": "2026-02-08T23:02:08.286277Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "83e86739-c653-40a6-b286-7b41e5902468", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "83e86739-c653-40a6-b286-7b41e5902468", "service": "api"}}
{"timestamp": "2026-02-08T23:02:08.293790Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2e91bba5-0261-479b-829c-a38cbc0e2cd9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "2e91bba5-0261-479b-829c-a38cbc0e2cd9", "service": "api"}}
{"timestamp": "2026-02-08T23:02:11.290417Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c9d0def2-ded3-4523-afae-cb796b6a8b09", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c9d0def2-ded3-4523-afae-cb796b6a8b09", "service": "api"}}
{"timestamp": "2026-02-08T23:02:11.291420Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "58a8e922-3614-42d9-be9b-79b943539fc2", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "58a8e922-3614-42d9-be9b-79b943539fc2", "service": "api"}}
{"timestamp": "2026-02-08T23:02:11.296419Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c9d0def2-ded3-4523-afae-cb796b6a8b09", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c9d0def2-ded3-4523-afae-cb796b6a8b09", "service": "api"}}
{"timestamp": "2026-02-08T23:02:11.297424Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "58a8e922-3614-42d9-be9b-79b943539fc2", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "58a8e922-3614-42d9-be9b-79b943539fc2", "service": "api"}}
{"timestamp": "2026-02-08T23:02:11.358881Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'L'Art du Pivotage' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:02:11.359882Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionPivotageGauss", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:02:11.360388Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\4\\scene_4.py (5774 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:02:11.361395Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 4 Scene: SectionPivotageGauss", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:02:13.793988Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 24.81s | Length: 6871 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 5, "job_id": "unknown", "stage": "choreography", "request_id": "c5354d5d-845e-454e-a388-a2e6ae13dfd3", "timestamp": "2026-02-08T23:02:13.793988Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"It\u00e9rations du Simplexe\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 39.288,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n    },\n    {\n      \"id\": \"simplex_table\",\n      \"type\": \"Table\",\n      \"text\": \"[Tableau de Simplexe]\",\n   ... [truncated, total: 6871 chars]", "duration_seconds": 24.814, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:02:13.794986Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (6871 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T23:02:13.796986Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\5\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:02:13.797987Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 5, "attempt": 1, "plan_chars": 6871, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\5\\choreography_plan.json", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:02:13.797987Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Vers le Sommet : It\u00e9rations 2 et 3'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T23:02:13.800493Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 22281 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 5, "job_id": "unknown", "stage": "implementation", "request_id": "878f5514-3165-4329-bc51-4b0588934b01", "timestamp": "2026-02-08T23:02:13.798988Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"main_title\",\n      \"type\": \"Text\",\n      \"text\": \"It\u00e9rations du Simplexe\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 39.288,\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": ... [truncated, total: 22281 chars]", "prompt_length": 22281, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:02:13.802501Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:02:14.292702Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e119eedc-3b1a-46f5-b2e6-b465c8661b8a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e119eedc-3b1a-46f5-b2e6-b465c8661b8a", "service": "api"}}
{"timestamp": "2026-02-08T23:02:14.293700Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b805ad71-8849-4d46-80f3-1a5faef49ae7", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "b805ad71-8849-4d46-80f3-1a5faef49ae7", "service": "api"}}
{"timestamp": "2026-02-08T23:02:14.293700Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e119eedc-3b1a-46f5-b2e6-b465c8661b8a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e119eedc-3b1a-46f5-b2e6-b465c8661b8a", "service": "api"}}
{"timestamp": "2026-02-08T23:02:14.303208Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b805ad71-8849-4d46-80f3-1a5faef49ae7", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "b805ad71-8849-4d46-80f3-1a5faef49ae7", "service": "api"}}
{"timestamp": "2026-02-08T23:02:17.288860Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "77932076-f7a4-4580-bca0-cb6669d6c64f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "77932076-f7a4-4580-bca0-cb6669d6c64f", "service": "api"}}
{"timestamp": "2026-02-08T23:02:17.289865Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7d6aadff-0778-433d-b1ff-fd71c0bf0270", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7d6aadff-0778-433d-b1ff-fd71c0bf0270", "service": "api"}}
{"timestamp": "2026-02-08T23:02:17.296939Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "77932076-f7a4-4580-bca0-cb6669d6c64f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "77932076-f7a4-4580-bca0-cb6669d6c64f", "service": "api"}}
{"timestamp": "2026-02-08T23:02:17.297936Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7d6aadff-0778-433d-b1ff-fd71c0bf0270", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7d6aadff-0778-433d-b1ff-fd71c0bf0270", "service": "api"}}
{"timestamp": "2026-02-08T23:02:20.278905Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "97607cff-a347-480b-92b7-a07673e292b0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "97607cff-a347-480b-92b7-a07673e292b0", "service": "api"}}
{"timestamp": "2026-02-08T23:02:20.279904Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8adeda52-316c-462b-a129-e5b341dc751d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8adeda52-316c-462b-a129-e5b341dc751d", "service": "api"}}
{"timestamp": "2026-02-08T23:02:20.288021Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "97607cff-a347-480b-92b7-a07673e292b0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "97607cff-a347-480b-92b7-a07673e292b0", "service": "api"}}
{"timestamp": "2026-02-08T23:02:20.289033Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8adeda52-316c-462b-a129-e5b341dc751d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8adeda52-316c-462b-a129-e5b341dc751d", "service": "api"}}
{"timestamp": "2026-02-08T23:02:23.292337Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2eaa0875-be94-4bee-8822-c473a4cbbc4c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2eaa0875-be94-4bee-8822-c473a4cbbc4c", "service": "api"}}
{"timestamp": "2026-02-08T23:02:23.293336Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8dca380d-423b-48d3-bb63-8b4799f5620d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8dca380d-423b-48d3-bb63-8b4799f5620d", "service": "api"}}
{"timestamp": "2026-02-08T23:02:23.300854Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2eaa0875-be94-4bee-8822-c473a4cbbc4c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2eaa0875-be94-4bee-8822-c473a4cbbc4c", "service": "api"}}
{"timestamp": "2026-02-08T23:02:23.301854Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8dca380d-423b-48d3-bb63-8b4799f5620d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8dca380d-423b-48d3-bb63-8b4799f5620d", "service": "api"}}
{"timestamp": "2026-02-08T23:02:26.277894Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dbb7c875-b111-4e41-b860-e5dd30f62f69", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "dbb7c875-b111-4e41-b860-e5dd30f62f69", "service": "api"}}
{"timestamp": "2026-02-08T23:02:26.278893Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a76eb415-af51-4773-aa17-148b8e52d981", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "a76eb415-af51-4773-aa17-148b8e52d981", "service": "api"}}
{"timestamp": "2026-02-08T23:02:26.286029Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dbb7c875-b111-4e41-b860-e5dd30f62f69", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "dbb7c875-b111-4e41-b860-e5dd30f62f69", "service": "api"}}
{"timestamp": "2026-02-08T23:02:26.287031Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a76eb415-af51-4773-aa17-148b8e52d981", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "a76eb415-af51-4773-aa17-148b8e52d981", "service": "api"}}
{"timestamp": "2026-02-08T23:02:29.287519Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "197017c5-2d47-4a7c-8bd1-282f5e7fd091", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "197017c5-2d47-4a7c-8bd1-282f5e7fd091", "service": "api"}}
{"timestamp": "2026-02-08T23:02:29.288518Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "28a7c433-e3e3-412e-b2fc-fc78d6a5a7ed", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "28a7c433-e3e3-412e-b2fc-fc78d6a5a7ed", "service": "api"}}
{"timestamp": "2026-02-08T23:02:29.288518Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "197017c5-2d47-4a7c-8bd1-282f5e7fd091", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "197017c5-2d47-4a7c-8bd1-282f5e7fd091", "service": "api"}}
{"timestamp": "2026-02-08T23:02:29.296035Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "28a7c433-e3e3-412e-b2fc-fc78d6a5a7ed", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "28a7c433-e3e3-412e-b2fc-fc78d6a5a7ed", "service": "api"}}
{"timestamp": "2026-02-08T23:02:29.808931Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\4\\videos\\scene_4\\480p15\\section_4.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:02:29.940818Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Merging video (44.7s) with audio (41.7s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:02:30.683342Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 4: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:02:30.685343Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 4/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "sections", "progress": 57, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T23:02:30.685343Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 5/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 4, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:02:30.686344Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 7/7: Optimale Atteinte : Analyse du R\u00e9sultat", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 6, "total_sections": 7, "title": "Optimale Atteinte : Analyse du R\u00e9sultat", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:02:30.686344Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:02:32.283993Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5d9778c5-1395-426f-9ee5-2a653ffcd04e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "5d9778c5-1395-426f-9ee5-2a653ffcd04e", "service": "api"}}
{"timestamp": "2026-02-08T23:02:32.284995Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "94cc75c2-dce4-40cd-ae78-2f53f208c96e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "94cc75c2-dce4-40cd-ae78-2f53f208c96e", "service": "api"}}
{"timestamp": "2026-02-08T23:02:32.292499Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5d9778c5-1395-426f-9ee5-2a653ffcd04e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "5d9778c5-1395-426f-9ee5-2a653ffcd04e", "service": "api"}}
{"timestamp": "2026-02-08T23:02:32.293502Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "94cc75c2-dce4-40cd-ae78-2f53f208c96e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "94cc75c2-dce4-40cd-ae78-2f53f208c96e", "service": "api"}}
{"timestamp": "2026-02-08T23:02:35.428258Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d8a701ff-c4f7-477f-a02a-9e012832c69e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "d8a701ff-c4f7-477f-a02a-9e012832c69e", "service": "api"}}
{"timestamp": "2026-02-08T23:02:35.429763Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8a529956-0db3-486e-bff3-503937ab68c0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8a529956-0db3-486e-bff3-503937ab68c0", "service": "api"}}
{"timestamp": "2026-02-08T23:02:35.436777Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d8a701ff-c4f7-477f-a02a-9e012832c69e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d8a701ff-c4f7-477f-a02a-9e012832c69e", "service": "api"}}
{"timestamp": "2026-02-08T23:02:35.437778Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8a529956-0db3-486e-bff3-503937ab68c0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8a529956-0db3-486e-bff3-503937ab68c0", "service": "api"}}
{"timestamp": "2026-02-08T23:02:36.865416Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 39.46s | Length: 599 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 3, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "spatial_error", "request_id": "c49a12b9-544a-4f69-af70-c49b28df3e83", "timestamp": "2026-02-08T23:02:36.865416Z", "response_text": "{\"analysis\": \"The main title and 'Test du Ratio Minimum' overlap at the top of the screen. Shifting the ratio title further down to the right edge prevents this overlap while maintaining space for calculations.\", \"edits\": [{\"search_text\": \"        # Ratio Test\\n        ratio_title = Text(\\\"Test du Ratio Minimum\\\", font_size=32, color=YELLOW)\\n        ratio_title.to_corner(UR, buff=0.8).shift(LEFT ... [truncated, total: 599 chars]", "duration_seconds": 39.461, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:02:36.867413Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 1 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:02:36.867413Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:02:36.867413Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 1 successful, 0 failed (out of 1 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"successful_edits": 1, "failed_edits": 0, "total_edits": 1, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:02:36.868414Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 4970 -> 4969)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:02:36.868414Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Le Premier Pas : L'It\u00e9ration 1' (Turn 2)", "module": "refiner", "function": "refine", "line": 219, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "Le Premier Pas : L'It\u00e9ration 1", "turn": 2, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:02:36.895516Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 3)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:02:38.296671Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bf131545-c7a9-4f6f-9bc1-2b716709255f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "bf131545-c7a9-4f6f-9bc1-2b716709255f", "service": "api"}}
{"timestamp": "2026-02-08T23:02:38.297673Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2a88337e-a2ec-4dfb-be55-e4942a69d8f4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "2a88337e-a2ec-4dfb-be55-e4942a69d8f4", "service": "api"}}
{"timestamp": "2026-02-08T23:02:38.306419Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bf131545-c7a9-4f6f-9bc1-2b716709255f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "bf131545-c7a9-4f6f-9bc1-2b716709255f", "service": "api"}}
{"timestamp": "2026-02-08T23:02:38.307422Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2a88337e-a2ec-4dfb-be55-e4942a69d8f4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "2a88337e-a2ec-4dfb-be55-e4942a69d8f4", "service": "api"}}
{"timestamp": "2026-02-08T23:02:41.285070Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a97c8dd9-5962-4375-8388-2de1b4029e32", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a97c8dd9-5962-4375-8388-2de1b4029e32", "service": "api"}}
{"timestamp": "2026-02-08T23:02:41.286071Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2f5da42a-5a82-4163-b5e9-f5bb4625fc25", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "2f5da42a-5a82-4163-b5e9-f5bb4625fc25", "service": "api"}}
{"timestamp": "2026-02-08T23:02:41.287070Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a97c8dd9-5962-4375-8388-2de1b4029e32", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a97c8dd9-5962-4375-8388-2de1b4029e32", "service": "api"}}
{"timestamp": "2026-02-08T23:02:41.293576Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2f5da42a-5a82-4163-b5e9-f5bb4625fc25", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "2f5da42a-5a82-4163-b5e9-f5bb4625fc25", "service": "api"}}
{"timestamp": "2026-02-08T23:02:44.291037Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b45b4739-ce51-4b7f-84ee-0dc04dd2c729", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "b45b4739-ce51-4b7f-84ee-0dc04dd2c729", "service": "api"}}
{"timestamp": "2026-02-08T23:02:44.292039Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "810e9148-b483-4831-8e6b-3ed2814a310a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "810e9148-b483-4831-8e6b-3ed2814a310a", "service": "api"}}
{"timestamp": "2026-02-08T23:02:44.299036Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b45b4739-ce51-4b7f-84ee-0dc04dd2c729", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "b45b4739-ce51-4b7f-84ee-0dc04dd2c729", "service": "api"}}
{"timestamp": "2026-02-08T23:02:44.300041Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "810e9148-b483-4831-8e6b-3ed2814a310a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "810e9148-b483-4831-8e6b-3ed2814a310a", "service": "api"}}
{"timestamp": "2026-02-08T23:02:47.289153Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "92fe4150-254f-4b26-9173-67cd727cbcdc", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "92fe4150-254f-4b26-9173-67cd727cbcdc", "service": "api"}}
{"timestamp": "2026-02-08T23:02:47.290153Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6d5da146-5674-4ec9-a06a-b4d91c1d6442", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6d5da146-5674-4ec9-a06a-b4d91c1d6442", "service": "api"}}
{"timestamp": "2026-02-08T23:02:47.296449Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "92fe4150-254f-4b26-9173-67cd727cbcdc", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "92fe4150-254f-4b26-9173-67cd727cbcdc", "service": "api"}}
{"timestamp": "2026-02-08T23:02:47.297450Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6d5da146-5674-4ec9-a06a-b4d91c1d6442", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6d5da146-5674-4ec9-a06a-b4d91c1d6442", "service": "api"}}
{"timestamp": "2026-02-08T23:02:51.142431Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Total audio duration = 44.0s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:02:51.221595Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Generating unified video using NEW Pipeline (44.0s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:02:51.223123Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 6 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:02:51.224122Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Optimale Atteinte : Analyse du R\u00e9sultat'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T23:02:51.226122Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 11048 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "choreography", "request_id": "5690634d-9f93-4983-88a1-cffea7b11a19", "timestamp": "2026-02-08T23:02:51.225122Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Optimale Atteinte : Analyse du R\u00e9sultat\n**Duration**: 43.968s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: French\n**Visual Strategy**:\nMode=c... [truncated, total: 11048 chars]", "prompt_length": 11048, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:02:51.228124Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:02:52.334540Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c74c5ef4-bd30-4faa-aa18-cdcb9598b8f8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c74c5ef4-bd30-4faa-aa18-cdcb9598b8f8", "service": "api"}}
{"timestamp": "2026-02-08T23:02:52.336549Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c74c5ef4-bd30-4faa-aa18-cdcb9598b8f8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c74c5ef4-bd30-4faa-aa18-cdcb9598b8f8", "service": "api"}}
{"timestamp": "2026-02-08T23:02:52.338571Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fd8a30fc-8b19-41f2-8b32-6a39eb582508", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "fd8a30fc-8b19-41f2-8b32-6a39eb582508", "service": "api"}}
{"timestamp": "2026-02-08T23:02:52.348087Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fd8a30fc-8b19-41f2-8b32-6a39eb582508", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "fd8a30fc-8b19-41f2-8b32-6a39eb582508", "service": "api"}}
{"timestamp": "2026-02-08T23:02:52.740003Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "923f92af-2113-49cd-babe-a3f7fe5560ed", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "923f92af-2113-49cd-babe-a3f7fe5560ed", "service": "api"}}
{"timestamp": "2026-02-08T23:02:52.741011Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e665268e-ded3-4b98-b8e0-eb0ef045ecaa", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e665268e-ded3-4b98-b8e0-eb0ef045ecaa", "service": "api"}}
{"timestamp": "2026-02-08T23:02:52.747010Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "923f92af-2113-49cd-babe-a3f7fe5560ed", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "923f92af-2113-49cd-babe-a3f7fe5560ed", "service": "api"}}
{"timestamp": "2026-02-08T23:02:52.748021Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e665268e-ded3-4b98-b8e0-eb0ef045ecaa", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e665268e-ded3-4b98-b8e0-eb0ef045ecaa", "service": "api"}}
{"timestamp": "2026-02-08T23:02:54.225016Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/section/1", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fafffa73-173f-4077-b2ac-c86cfd36854d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/1", "client": "127.0.0.1", "request_id": "fafffa73-173f-4077-b2ac-c86cfd36854d", "service": "api"}}
{"timestamp": "2026-02-08T23:02:54.230012Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fafffa73-173f-4077-b2ac-c86cfd36854d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/1", "request_id": "fafffa73-173f-4077-b2ac-c86cfd36854d", "service": "api"}}
{"timestamp": "2026-02-08T23:02:54.237420Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d43461fd-2636-4543-842f-25b7096a5cf5", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "d43461fd-2636-4543-842f-25b7096a5cf5", "service": "api"}}
{"timestamp": "2026-02-08T23:02:54.238417Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d43461fd-2636-4543-842f-25b7096a5cf5", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "request_id": "d43461fd-2636-4543-842f-25b7096a5cf5", "service": "api"}}
{"timestamp": "2026-02-08T23:02:54.242101Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T23:02:54.243119Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d8752ff3-bf33-4881-bf8e-451d8a052459", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "d8752ff3-bf33-4881-bf8e-451d8a052459", "service": "api"}}
{"timestamp": "2026-02-08T23:02:54.246120Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d8752ff3-bf33-4881-bf8e-451d8a052459", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "request_id": "d8752ff3-bf33-4881-bf8e-451d8a052459", "service": "api"}}
{"timestamp": "2026-02-08T23:02:54.560059Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a87f4ec3-970b-4670-ad91-da8d5e4b289e", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "a87f4ec3-970b-4670-ad91-da8d5e4b289e", "service": "api"}}
{"timestamp": "2026-02-08T23:02:54.561149Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a87f4ec3-970b-4670-ad91-da8d5e4b289e", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "request_id": "a87f4ec3-970b-4670-ad91-da8d5e4b289e", "service": "api"}}
{"timestamp": "2026-02-08T23:02:54.565148Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T23:02:56.052848Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "83f23652-adf1-4783-a634-2d0af580c0a1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "83f23652-adf1-4783-a634-2d0af580c0a1", "service": "api"}}
{"timestamp": "2026-02-08T23:02:56.053847Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "601ffded-a6f4-41d2-93b3-c0c1e11895c7", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "601ffded-a6f4-41d2-93b3-c0c1e11895c7", "service": "api"}}
{"timestamp": "2026-02-08T23:02:56.059846Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "83f23652-adf1-4783-a634-2d0af580c0a1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "83f23652-adf1-4783-a634-2d0af580c0a1", "service": "api"}}
{"timestamp": "2026-02-08T23:02:56.061174Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "601ffded-a6f4-41d2-93b3-c0c1e11895c7", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "601ffded-a6f4-41d2-93b3-c0c1e11895c7", "service": "api"}}
{"timestamp": "2026-02-08T23:02:58.603200Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "85fb55ce-e23b-40b6-8065-0ff195207a53", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "85fb55ce-e23b-40b6-8065-0ff195207a53", "service": "api"}}
{"timestamp": "2026-02-08T23:02:58.605210Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "85fb55ce-e23b-40b6-8065-0ff195207a53", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "request_id": "85fb55ce-e23b-40b6-8065-0ff195207a53", "service": "api"}}
{"timestamp": "2026-02-08T23:02:58.744545Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "73c89731-7d26-453a-8d00-9a65cd3b431d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "73c89731-7d26-453a-8d00-9a65cd3b431d", "service": "api"}}
{"timestamp": "2026-02-08T23:02:58.745547Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c92f8b48-60cf-44ac-a3aa-2eb1280b73c5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "c92f8b48-60cf-44ac-a3aa-2eb1280b73c5", "service": "api"}}
{"timestamp": "2026-02-08T23:02:58.753060Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "73c89731-7d26-453a-8d00-9a65cd3b431d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "73c89731-7d26-453a-8d00-9a65cd3b431d", "service": "api"}}
{"timestamp": "2026-02-08T23:02:58.754061Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c92f8b48-60cf-44ac-a3aa-2eb1280b73c5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "c92f8b48-60cf-44ac-a3aa-2eb1280b73c5", "service": "api"}}
{"timestamp": "2026-02-08T23:03:01.751269Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "797c996a-7d1a-47c0-99b3-512adcb0bfea", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "797c996a-7d1a-47c0-99b3-512adcb0bfea", "service": "api"}}
{"timestamp": "2026-02-08T23:03:01.751269Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "131de739-2826-46c9-8a19-751f328fdde6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "131de739-2826-46c9-8a19-751f328fdde6", "service": "api"}}
{"timestamp": "2026-02-08T23:03:01.760278Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "797c996a-7d1a-47c0-99b3-512adcb0bfea", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "797c996a-7d1a-47c0-99b3-512adcb0bfea", "service": "api"}}
{"timestamp": "2026-02-08T23:03:01.761612Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "131de739-2826-46c9-8a19-751f328fdde6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "131de739-2826-46c9-8a19-751f328fdde6", "service": "api"}}
{"timestamp": "2026-02-08T23:03:02.266388Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d139ce5e-4e22-48f5-b049-ef6926cf6386", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "d139ce5e-4e22-48f5-b049-ef6926cf6386", "service": "api"}}
{"timestamp": "2026-02-08T23:03:02.267486Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d139ce5e-4e22-48f5-b049-ef6926cf6386", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "request_id": "d139ce5e-4e22-48f5-b049-ef6926cf6386", "service": "api"}}
{"timestamp": "2026-02-08T23:03:04.134058Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 50.33s | Length: 7185 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 5, "job_id": "unknown", "stage": "implementation", "request_id": "878f5514-3165-4329-bc51-4b0588934b01", "timestamp": "2026-02-08T23:03:04.133061Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass SceneIterationsFinales(Scene):\n    def construct(self):\n        # Configuration de base\n        self.camera.background_color = \"#171717\"\n        current_time = 0.0\n\n        # --- OBJETS ---\n        # Titre Principal\n        main_title = Text(\"It\u00e9rations du Simplexe\", font_size=40, color=WHITE)\n        main_title.to_edge(UP, buff=0.5)\n\n        # ... [truncated, total: 7185 chars]", "duration_seconds": 50.333, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:03:04.136059Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (7170 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T23:03:04.138060Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\5\\scene_5.py (7347 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:03:04.138060Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 5, "attempt": 1, "code_chars": 7170, "pipeline_stage": "code_generated", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:03:04.138060Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Vers le Sommet : It\u00e9rations 2 et 3'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T23:03:04.138060Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Vers le Sommet : It\u00e9rations 2 et 3'", "module": "refiner", "function": "refine", "line": 129, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "Vers le Sommet : It\u00e9rations 2 et 3", "max_attempts": 5, "refinement_stage": "start", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:03:04.163546Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:03:04.746979Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b3934b41-cb07-4c09-aa46-154c7a6e70ae", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "b3934b41-cb07-4c09-aa46-154c7a6e70ae", "service": "api"}}
{"timestamp": "2026-02-08T23:03:04.748292Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ee0564a1-d6bf-4ae2-96f0-9cbeef738081", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ee0564a1-d6bf-4ae2-96f0-9cbeef738081", "service": "api"}}
{"timestamp": "2026-02-08T23:03:04.757036Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b3934b41-cb07-4c09-aa46-154c7a6e70ae", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "b3934b41-cb07-4c09-aa46-154c7a6e70ae", "service": "api"}}
{"timestamp": "2026-02-08T23:03:04.758038Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ee0564a1-d6bf-4ae2-96f0-9cbeef738081", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ee0564a1-d6bf-4ae2-96f0-9cbeef738081", "service": "api"}}
{"timestamp": "2026-02-08T23:03:04.945506Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "317458f4-3adc-415f-862b-053f2f8c5c5d", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "317458f4-3adc-415f-862b-053f2f8c5c5d", "service": "api"}}
{"timestamp": "2026-02-08T23:03:04.947508Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "317458f4-3adc-415f-862b-053f2f8c5c5d", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "request_id": "317458f4-3adc-415f-862b-053f2f8c5c5d", "service": "api"}}
{"timestamp": "2026-02-08T23:03:06.473856Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8134d46e-3bb4-474e-ac3c-e175f5ceea54", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "8134d46e-3bb4-474e-ac3c-e175f5ceea54", "service": "api"}}
{"timestamp": "2026-02-08T23:03:06.475362Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8134d46e-3bb4-474e-ac3c-e175f5ceea54", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "request_id": "8134d46e-3bb4-474e-ac3c-e175f5ceea54", "service": "api"}}
{"timestamp": "2026-02-08T23:03:07.744727Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b85d0c52-88c9-4757-ba47-ed0a2a5f9c78", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "b85d0c52-88c9-4757-ba47-ed0a2a5f9c78", "service": "api"}}
{"timestamp": "2026-02-08T23:03:07.745736Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6dc86539-6547-4eb2-8a9f-fcac4c350d0e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6dc86539-6547-4eb2-8a9f-fcac4c350d0e", "service": "api"}}
{"timestamp": "2026-02-08T23:03:07.754254Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b85d0c52-88c9-4757-ba47-ed0a2a5f9c78", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "b85d0c52-88c9-4757-ba47-ed0a2a5f9c78", "service": "api"}}
{"timestamp": "2026-02-08T23:03:07.755255Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6dc86539-6547-4eb2-8a9f-fcac4c350d0e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6dc86539-6547-4eb2-8a9f-fcac4c350d0e", "service": "api"}}
{"timestamp": "2026-02-08T23:03:09.107556Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fbae9492-e250-470a-b2d0-721c9b55122a", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "client": "127.0.0.1", "request_id": "fbae9492-e250-470a-b2d0-721c9b55122a", "service": "api"}}
{"timestamp": "2026-02-08T23:03:09.109143Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fbae9492-e250-470a-b2d0-721c9b55122a", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/1/final_section.mp4", "request_id": "fbae9492-e250-470a-b2d0-721c9b55122a", "service": "api"}}
{"timestamp": "2026-02-08T23:03:10.741977Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8969705d-6096-4a0e-9f59-f72b28b7743f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8969705d-6096-4a0e-9f59-f72b28b7743f", "service": "api"}}
{"timestamp": "2026-02-08T23:03:10.742977Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6eb37729-05b2-4a17-b724-e3161790fbef", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6eb37729-05b2-4a17-b724-e3161790fbef", "service": "api"}}
{"timestamp": "2026-02-08T23:03:10.748976Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8969705d-6096-4a0e-9f59-f72b28b7743f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8969705d-6096-4a0e-9f59-f72b28b7743f", "service": "api"}}
{"timestamp": "2026-02-08T23:03:10.749977Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6eb37729-05b2-4a17-b724-e3161790fbef", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6eb37729-05b2-4a17-b724-e3161790fbef", "service": "api"}}
{"timestamp": "2026-02-08T23:03:13.741387Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "28dd91cc-344c-4bc3-961f-697df4ede2ed", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "28dd91cc-344c-4bc3-961f-697df4ede2ed", "service": "api"}}
{"timestamp": "2026-02-08T23:03:13.741387Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f9668753-3d7b-48c5-ae4f-4432d48582fc", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "f9668753-3d7b-48c5-ae4f-4432d48582fc", "service": "api"}}
{"timestamp": "2026-02-08T23:03:13.748392Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "28dd91cc-344c-4bc3-961f-697df4ede2ed", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "28dd91cc-344c-4bc3-961f-697df4ede2ed", "service": "api"}}
{"timestamp": "2026-02-08T23:03:13.749898Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f9668753-3d7b-48c5-ae4f-4432d48582fc", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "f9668753-3d7b-48c5-ae4f-4432d48582fc", "service": "api"}}
{"timestamp": "2026-02-08T23:03:16.750907Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ebf5584e-586d-4acf-821d-944b95c8f01d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "ebf5584e-586d-4acf-821d-944b95c8f01d", "service": "api"}}
{"timestamp": "2026-02-08T23:03:16.751907Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f60099d7-c9e8-4a9d-a64f-ac32d3404e81", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "f60099d7-c9e8-4a9d-a64f-ac32d3404e81", "service": "api"}}
{"timestamp": "2026-02-08T23:03:16.758493Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ebf5584e-586d-4acf-821d-944b95c8f01d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "ebf5584e-586d-4acf-821d-944b95c8f01d", "service": "api"}}
{"timestamp": "2026-02-08T23:03:16.758493Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f60099d7-c9e8-4a9d-a64f-ac32d3404e81", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "f60099d7-c9e8-4a9d-a64f-ac32d3404e81", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.601999Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/section/2", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "841fb224-3a38-4948-b2e4-30a4e38c44d0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/2", "client": "127.0.0.1", "request_id": "841fb224-3a38-4948-b2e4-30a4e38c44d0", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.605506Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "841fb224-3a38-4948-b2e4-30a4e38c44d0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/2", "request_id": "841fb224-3a38-4948-b2e4-30a4e38c44d0", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.611031Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c265d69a-c640-414c-ad65-8e4448df6b8e", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "client": "127.0.0.1", "request_id": "c265d69a-c640-414c-ad65-8e4448df6b8e", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.613030Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c265d69a-c640-414c-ad65-8e4448df6b8e", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "request_id": "c265d69a-c640-414c-ad65-8e4448df6b8e", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.620005Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "617a7f0e-fa0a-4ea0-944f-e17eccf08414", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "client": "127.0.0.1", "request_id": "617a7f0e-fa0a-4ea0-944f-e17eccf08414", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.622011Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "617a7f0e-fa0a-4ea0-944f-e17eccf08414", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "request_id": "617a7f0e-fa0a-4ea0-944f-e17eccf08414", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.742723Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c28f1ae8-e719-4d47-9755-b6b24b363af1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c28f1ae8-e719-4d47-9755-b6b24b363af1", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.743727Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3b4f31e4-645a-4536-b810-1c53f74d6fb8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "3b4f31e4-645a-4536-b810-1c53f74d6fb8", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.752759Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c28f1ae8-e719-4d47-9755-b6b24b363af1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c28f1ae8-e719-4d47-9755-b6b24b363af1", "service": "api"}}
{"timestamp": "2026-02-08T23:03:19.752759Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3b4f31e4-645a-4536-b810-1c53f74d6fb8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "3b4f31e4-645a-4536-b810-1c53f74d6fb8", "service": "api"}}
{"timestamp": "2026-02-08T23:03:22.128461Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 30.90s | Length: 9354 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "choreography", "request_id": "5690634d-9f93-4983-88a1-cffea7b11a19", "timestamp": "2026-02-08T23:03:22.127454Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Solution Optimale Finale\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 21.96,\n      \"notes\": \"Titre principal de la section d'analyse.\",\n      \"visual_description\": \"White bold text at the top of the screen.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n... [truncated, total: 9354 chars]", "duration_seconds": 30.902, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:03:22.128461Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (9354 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_choreographer"}}
{"timestamp": "2026-02-08T23:03:22.131135Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\6\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:03:22.132130Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 6, "attempt": 1, "plan_chars": 9354, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\6\\choreography_plan.json", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:03:22.132130Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Optimale Atteinte : Analyse du R\u00e9sultat'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T23:03:22.135130Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 25197 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "implementation", "request_id": "a6472f33-af3f-48da-a511-4742b3c24398", "timestamp": "2026-02-08T23:03:22.133131Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Solution Optimale Finale\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 21.96,\n      \"notes\": \"Titre principal de la section d'analyse.\",\n      \"visual_description... [truncated, total: 25197 chars]", "prompt_length": 25197, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:03:22.136134Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:03:22.787198Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8f97db44-10be-4d14-a357-94bcfa2bc2e8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8f97db44-10be-4d14-a357-94bcfa2bc2e8", "service": "api"}}
{"timestamp": "2026-02-08T23:03:22.789209Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fe8a1816-684e-48cd-a6b4-f88207e0ceb2", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "fe8a1816-684e-48cd-a6b4-f88207e0ceb2", "service": "api"}}
{"timestamp": "2026-02-08T23:03:22.799170Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8f97db44-10be-4d14-a357-94bcfa2bc2e8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8f97db44-10be-4d14-a357-94bcfa2bc2e8", "service": "api"}}
{"timestamp": "2026-02-08T23:03:22.800193Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fe8a1816-684e-48cd-a6b4-f88207e0ceb2", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "fe8a1816-684e-48cd-a6b4-f88207e0ceb2", "service": "api"}}
{"timestamp": "2026-02-08T23:03:24.195286Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Le Premier Pas : L'It\u00e9ration 1' (Turn 3)", "module": "refiner", "function": "refine", "line": 191, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempts": 3, "static_failures": 0, "runtime_failures": 2, "deterministic_fixes": 0, "llm_fixes": 2, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:03:24.196286Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionPremiereIteration", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:03:24.197289Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\3\\scene_3.py (5294 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:03:24.198289Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 3 Scene: SectionPremiereIteration", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:03:24.635634Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9694ca38-40b5-41e3-a41c-3fd69f6d878c", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "client": "127.0.0.1", "request_id": "9694ca38-40b5-41e3-a41c-3fd69f6d878c", "service": "api"}}
{"timestamp": "2026-02-08T23:03:24.636635Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9694ca38-40b5-41e3-a41c-3fd69f6d878c", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "request_id": "9694ca38-40b5-41e3-a41c-3fd69f6d878c", "service": "api"}}
{"timestamp": "2026-02-08T23:03:25.738476Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8fb7f365-58ce-4b2b-8648-2a77995741c8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8fb7f365-58ce-4b2b-8648-2a77995741c8", "service": "api"}}
{"timestamp": "2026-02-08T23:03:25.738476Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "197b355b-7de0-4420-b3fe-98692f5338ac", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "197b355b-7de0-4420-b3fe-98692f5338ac", "service": "api"}}
{"timestamp": "2026-02-08T23:03:25.745914Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8fb7f365-58ce-4b2b-8648-2a77995741c8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8fb7f365-58ce-4b2b-8648-2a77995741c8", "service": "api"}}
{"timestamp": "2026-02-08T23:03:25.748274Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "197b355b-7de0-4420-b3fe-98692f5338ac", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "197b355b-7de0-4420-b3fe-98692f5338ac", "service": "api"}}
{"timestamp": "2026-02-08T23:03:27.508873Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "39555ca2-0619-4879-b549-080056dea368", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "client": "127.0.0.1", "request_id": "39555ca2-0619-4879-b549-080056dea368", "service": "api"}}
{"timestamp": "2026-02-08T23:03:27.510381Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "39555ca2-0619-4879-b549-080056dea368", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/2/final_section.mp4", "request_id": "39555ca2-0619-4879-b549-080056dea368", "service": "api"}}
{"timestamp": "2026-02-08T23:03:28.738849Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dff4bf7e-06e4-40b8-b7d5-7e6460285979", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "dff4bf7e-06e4-40b8-b7d5-7e6460285979", "service": "api"}}
{"timestamp": "2026-02-08T23:03:28.738849Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "be7c5ea9-3ca4-460f-8d5a-b8fdd5e476c7", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "be7c5ea9-3ca4-460f-8d5a-b8fdd5e476c7", "service": "api"}}
{"timestamp": "2026-02-08T23:03:28.746951Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dff4bf7e-06e4-40b8-b7d5-7e6460285979", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "dff4bf7e-06e4-40b8-b7d5-7e6460285979", "service": "api"}}
{"timestamp": "2026-02-08T23:03:28.749705Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "be7c5ea9-3ca4-460f-8d5a-b8fdd5e476c7", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "be7c5ea9-3ca4-460f-8d5a-b8fdd5e476c7", "service": "api"}}
{"timestamp": "2026-02-08T23:03:30.758319Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/section/4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1f307baa-8c13-4fe1-87e5-87a73ee321aa", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/4", "client": "127.0.0.1", "request_id": "1f307baa-8c13-4fe1-87e5-87a73ee321aa", "service": "api"}}
{"timestamp": "2026-02-08T23:03:30.762370Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1f307baa-8c13-4fe1-87e5-87a73ee321aa", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/4", "request_id": "1f307baa-8c13-4fe1-87e5-87a73ee321aa", "service": "api"}}
{"timestamp": "2026-02-08T23:03:30.769012Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e4b32858-0f9b-4833-8598-9c81f24aa7e6", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "client": "127.0.0.1", "request_id": "e4b32858-0f9b-4833-8598-9c81f24aa7e6", "service": "api"}}
{"timestamp": "2026-02-08T23:03:30.771169Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e4b32858-0f9b-4833-8598-9c81f24aa7e6", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "request_id": "e4b32858-0f9b-4833-8598-9c81f24aa7e6", "service": "api"}}
{"timestamp": "2026-02-08T23:03:30.774919Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T23:03:30.775928Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "16ddf69d-9a0e-41d8-a349-8abb02d34202", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "client": "127.0.0.1", "request_id": "16ddf69d-9a0e-41d8-a349-8abb02d34202", "service": "api"}}
{"timestamp": "2026-02-08T23:03:30.778929Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "16ddf69d-9a0e-41d8-a349-8abb02d34202", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "request_id": "16ddf69d-9a0e-41d8-a349-8abb02d34202", "service": "api"}}
{"timestamp": "2026-02-08T23:03:31.109986Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a78f468c-7e2e-4a3c-8983-3902d03559f1", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "client": "127.0.0.1", "request_id": "a78f468c-7e2e-4a3c-8983-3902d03559f1", "service": "api"}}
{"timestamp": "2026-02-08T23:03:31.112154Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a78f468c-7e2e-4a3c-8983-3902d03559f1", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "request_id": "a78f468c-7e2e-4a3c-8983-3902d03559f1", "service": "api"}}
{"timestamp": "2026-02-08T23:03:31.740363Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f85e435b-ffbe-4f10-a5bb-ab446cdee1fe", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "f85e435b-ffbe-4f10-a5bb-ab446cdee1fe", "service": "api"}}
{"timestamp": "2026-02-08T23:03:31.741372Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d0cb9330-fde1-4ead-9e1a-3d2823bf9b91", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "d0cb9330-fde1-4ead-9e1a-3d2823bf9b91", "service": "api"}}
{"timestamp": "2026-02-08T23:03:31.748890Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f85e435b-ffbe-4f10-a5bb-ab446cdee1fe", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "f85e435b-ffbe-4f10-a5bb-ab446cdee1fe", "service": "api"}}
{"timestamp": "2026-02-08T23:03:31.748890Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d0cb9330-fde1-4ead-9e1a-3d2823bf9b91", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "d0cb9330-fde1-4ead-9e1a-3d2823bf9b91", "service": "api"}}
{"timestamp": "2026-02-08T23:03:34.743804Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5b6690cb-54fc-4bc2-9020-327261b6e48e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "5b6690cb-54fc-4bc2-9020-327261b6e48e", "service": "api"}}
{"timestamp": "2026-02-08T23:03:34.744811Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c2abc67d-b62d-4412-979d-e60df3dad70d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "c2abc67d-b62d-4412-979d-e60df3dad70d", "service": "api"}}
{"timestamp": "2026-02-08T23:03:34.752903Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5b6690cb-54fc-4bc2-9020-327261b6e48e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "5b6690cb-54fc-4bc2-9020-327261b6e48e", "service": "api"}}
{"timestamp": "2026-02-08T23:03:34.753920Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c2abc67d-b62d-4412-979d-e60df3dad70d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "c2abc67d-b62d-4412-979d-e60df3dad70d", "service": "api"}}
{"timestamp": "2026-02-08T23:03:36.668302Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "071ac194-f9dc-4eb8-9676-b2137cf84444", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "client": "127.0.0.1", "request_id": "071ac194-f9dc-4eb8-9676-b2137cf84444", "service": "api"}}
{"timestamp": "2026-02-08T23:03:36.670804Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "071ac194-f9dc-4eb8-9676-b2137cf84444", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "request_id": "071ac194-f9dc-4eb8-9676-b2137cf84444", "service": "api"}}
{"timestamp": "2026-02-08T23:03:36.977782Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "96ae8781-047b-4d9a-ba0e-18e8793819db", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "client": "127.0.0.1", "request_id": "96ae8781-047b-4d9a-ba0e-18e8793819db", "service": "api"}}
{"timestamp": "2026-02-08T23:03:36.978782Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "96ae8781-047b-4d9a-ba0e-18e8793819db", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/sections/4/final_section.mp4", "request_id": "96ae8781-047b-4d9a-ba0e-18e8793819db", "service": "api"}}
{"timestamp": "2026-02-08T23:03:37.740351Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fe8d285d-d431-46a9-8cb1-83529fa64d12", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "fe8d285d-d431-46a9-8cb1-83529fa64d12", "service": "api"}}
{"timestamp": "2026-02-08T23:03:37.741378Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aa1c74d8-179b-4f62-8ac1-7e234ec606e4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "aa1c74d8-179b-4f62-8ac1-7e234ec606e4", "service": "api"}}
{"timestamp": "2026-02-08T23:03:37.747395Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fe8d285d-d431-46a9-8cb1-83529fa64d12", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "fe8d285d-d431-46a9-8cb1-83529fa64d12", "service": "api"}}
{"timestamp": "2026-02-08T23:03:37.747395Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aa1c74d8-179b-4f62-8ac1-7e234ec606e4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "aa1c74d8-179b-4f62-8ac1-7e234ec606e4", "service": "api"}}
{"timestamp": "2026-02-08T23:03:40.743861Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "32c75cfe-8c68-47b9-8652-5e8486702be0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "32c75cfe-8c68-47b9-8652-5e8486702be0", "service": "api"}}
{"timestamp": "2026-02-08T23:03:40.745860Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "be20135b-57a6-4516-aceb-4be5ef4a7dc4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "be20135b-57a6-4516-aceb-4be5ef4a7dc4", "service": "api"}}
{"timestamp": "2026-02-08T23:03:40.751886Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "32c75cfe-8c68-47b9-8652-5e8486702be0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "32c75cfe-8c68-47b9-8652-5e8486702be0", "service": "api"}}
{"timestamp": "2026-02-08T23:03:40.752888Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "be20135b-57a6-4516-aceb-4be5ef4a7dc4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "be20135b-57a6-4516-aceb-4be5ef4a7dc4", "service": "api"}}
{"timestamp": "2026-02-08T23:03:43.752381Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b4ee340c-d8f6-4839-b5f9-dd87695134bd", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "b4ee340c-d8f6-4839-b5f9-dd87695134bd", "service": "api"}}
{"timestamp": "2026-02-08T23:03:43.753374Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "97eb38dc-81f1-4ecd-939a-2a82383456eb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "97eb38dc-81f1-4ecd-939a-2a82383456eb", "service": "api"}}
{"timestamp": "2026-02-08T23:03:43.759702Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b4ee340c-d8f6-4839-b5f9-dd87695134bd", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "b4ee340c-d8f6-4839-b5f9-dd87695134bd", "service": "api"}}
{"timestamp": "2026-02-08T23:03:43.760209Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "97eb38dc-81f1-4ecd-939a-2a82383456eb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "97eb38dc-81f1-4ecd-939a-2a82383456eb", "service": "api"}}
{"timestamp": "2026-02-08T23:03:46.740062Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "255d0b5f-5474-4750-a28b-418c93da6f20", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "255d0b5f-5474-4750-a28b-418c93da6f20", "service": "api"}}
{"timestamp": "2026-02-08T23:03:46.741072Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9d7b1168-4a55-4276-bc28-4c4e96d31afc", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "9d7b1168-4a55-4276-bc28-4c4e96d31afc", "service": "api"}}
{"timestamp": "2026-02-08T23:03:46.747076Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "255d0b5f-5474-4750-a28b-418c93da6f20", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "255d0b5f-5474-4750-a28b-418c93da6f20", "service": "api"}}
{"timestamp": "2026-02-08T23:03:46.749079Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9d7b1168-4a55-4276-bc28-4c4e96d31afc", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "9d7b1168-4a55-4276-bc28-4c4e96d31afc", "service": "api"}}
{"timestamp": "2026-02-08T23:03:48.928621Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Vers le Sommet : It\u00e9rations 2 et 3' (Turn 1)", "module": "refiner", "function": "refine", "line": 191, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempts": 1, "static_failures": 0, "runtime_failures": 0, "deterministic_fixes": 0, "llm_fixes": 0, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:03:48.930128Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionIterationsFinales", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:03:48.932137Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\5\\scene_5.py (7544 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:03:48.933143Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 5 Scene: SectionIterationsFinales", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:03:49.750467Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3fc5e673-5123-49f1-a108-4c189aa43872", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "3fc5e673-5123-49f1-a108-4c189aa43872", "service": "api"}}
{"timestamp": "2026-02-08T23:03:49.753360Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7087d7e7-9afe-4dad-a0b5-c29555fba61d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7087d7e7-9afe-4dad-a0b5-c29555fba61d", "service": "api"}}
{"timestamp": "2026-02-08T23:03:49.769549Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3fc5e673-5123-49f1-a108-4c189aa43872", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "3fc5e673-5123-49f1-a108-4c189aa43872", "service": "api"}}
{"timestamp": "2026-02-08T23:03:49.774091Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7087d7e7-9afe-4dad-a0b5-c29555fba61d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7087d7e7-9afe-4dad-a0b5-c29555fba61d", "service": "api"}}
{"timestamp": "2026-02-08T23:03:52.177765Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 30.04s | Length: 5439 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "implementation", "request_id": "a6472f33-af3f-48da-a511-4742b3c24398", "timestamp": "2026-02-08T23:03:52.176760Z", "response_text": "```python\nfrom manim import *  # type: ignore\n\nclass SceneConclusionSolution(Scene):\n    def construct(self):\n        # Theme setup: 3Blue1Brown Dark\n        self.camera.background_color = \"#171717\"\n        primary_text_color = WHITE\n        secondary_text_color = \"#AFC6FF\"\n        accent_yellow = YELLOW\n        accent_green = GREEN\n        accent_blue = BLUE_B\n\n        # 1. Objects initialization... [truncated, total: 5439 chars]", "duration_seconds": 30.043, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:03:52.178767Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.implementer", "message": "Generated implementation (5425 chars)", "module": "implementer", "function": "implement", "line": 115, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_implementer"}}
{"timestamp": "2026-02-08T23:03:52.181286Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\6\\scene_6.py (5574 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:03:52.181286Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Raw Manim code generated", "module": "generator", "function": "on_raw_code", "line": 154, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 6, "attempt": 1, "code_chars": 5425, "pipeline_stage": "code_generated", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:03:52.181286Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 3: Refinement for 'Optimale Atteinte : Analyse du R\u00e9sultat'", "module": "orchestrator", "function": "_execute_pipeline", "line": 220, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-08T23:03:52.182288Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Starting refinement for 'Optimale Atteinte : Analyse du R\u00e9sultat'", "module": "refiner", "function": "refine", "line": 129, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "Optimale Atteinte : Analyse du R\u00e9sultat", "max_attempts": 5, "refinement_stage": "start", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:03:52.207914Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 1)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:03:52.748980Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7ddf330a-4678-4917-a94a-65e631ed5fd3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7ddf330a-4678-4917-a94a-65e631ed5fd3", "service": "api"}}
{"timestamp": "2026-02-08T23:03:52.748980Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7d9c394f-56ec-4035-8a7e-167c8f0425ad", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7d9c394f-56ec-4035-8a7e-167c8f0425ad", "service": "api"}}
{"timestamp": "2026-02-08T23:03:52.756501Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7ddf330a-4678-4917-a94a-65e631ed5fd3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7ddf330a-4678-4917-a94a-65e631ed5fd3", "service": "api"}}
{"timestamp": "2026-02-08T23:03:52.758008Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7d9c394f-56ec-4035-8a7e-167c8f0425ad", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7d9c394f-56ec-4035-8a7e-167c8f0425ad", "service": "api"}}
{"timestamp": "2026-02-08T23:03:55.744681Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "54430ba8-ccb1-41b8-b2d2-38f39fc065e9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "54430ba8-ccb1-41b8-b2d2-38f39fc065e9", "service": "api"}}
{"timestamp": "2026-02-08T23:03:55.745681Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0ea45223-d68b-4b73-9bce-fea462af72ec", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "0ea45223-d68b-4b73-9bce-fea462af72ec", "service": "api"}}
{"timestamp": "2026-02-08T23:03:55.753191Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "54430ba8-ccb1-41b8-b2d2-38f39fc065e9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "54430ba8-ccb1-41b8-b2d2-38f39fc065e9", "service": "api"}}
{"timestamp": "2026-02-08T23:03:55.754193Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0ea45223-d68b-4b73-9bce-fea462af72ec", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "0ea45223-d68b-4b73-9bce-fea462af72ec", "service": "api"}}
{"timestamp": "2026-02-08T23:03:58.688237Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\3\\videos\\scene_3\\480p15\\section_3.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:03:58.748936Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "20fa880e-ad83-44c6-a748-47a49ce782bb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "20fa880e-ad83-44c6-a748-47a49ce782bb", "service": "api"}}
{"timestamp": "2026-02-08T23:03:58.750445Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "49827304-119e-437d-85f9-1a597e7cdb70", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "49827304-119e-437d-85f9-1a597e7cdb70", "service": "api"}}
{"timestamp": "2026-02-08T23:03:58.758996Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "20fa880e-ad83-44c6-a748-47a49ce782bb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "20fa880e-ad83-44c6-a748-47a49ce782bb", "service": "api"}}
{"timestamp": "2026-02-08T23:03:58.758996Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "49827304-119e-437d-85f9-1a597e7cdb70", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "49827304-119e-437d-85f9-1a597e7cdb70", "service": "api"}}
{"timestamp": "2026-02-08T23:03:58.846919Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Merging video (43.0s) with audio (43.3s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:03:59.738251Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 3: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:03:59.740257Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 5/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "sections", "progress": 71, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T23:03:59.740257Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 4/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 3, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:04:01.748525Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e32eac6d-159d-421a-9f82-8733894d07c1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e32eac6d-159d-421a-9f82-8733894d07c1", "service": "api"}}
{"timestamp": "2026-02-08T23:04:01.751028Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6e2c22d1-c402-4490-83c0-e79212bd052f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6e2c22d1-c402-4490-83c0-e79212bd052f", "service": "api"}}
{"timestamp": "2026-02-08T23:04:01.751028Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e32eac6d-159d-421a-9f82-8733894d07c1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e32eac6d-159d-421a-9f82-8733894d07c1", "service": "api"}}
{"timestamp": "2026-02-08T23:04:01.761396Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6e2c22d1-c402-4490-83c0-e79212bd052f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6e2c22d1-c402-4490-83c0-e79212bd052f", "service": "api"}}
{"timestamp": "2026-02-08T23:04:04.749335Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2a1f8f21-5d8d-460b-a8d3-2f5b9848df22", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2a1f8f21-5d8d-460b-a8d3-2f5b9848df22", "service": "api"}}
{"timestamp": "2026-02-08T23:04:04.750341Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "adec4c91-1a90-4b6e-8465-5714d7948a36", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "adec4c91-1a90-4b6e-8465-5714d7948a36", "service": "api"}}
{"timestamp": "2026-02-08T23:04:04.758780Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2a1f8f21-5d8d-460b-a8d3-2f5b9848df22", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2a1f8f21-5d8d-460b-a8d3-2f5b9848df22", "service": "api"}}
{"timestamp": "2026-02-08T23:04:04.760288Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "adec4c91-1a90-4b6e-8465-5714d7948a36", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "adec4c91-1a90-4b6e-8465-5714d7948a36", "service": "api"}}
{"timestamp": "2026-02-08T23:04:07.739450Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e2a7fe2c-1d59-4307-886a-ae7b493fa919", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e2a7fe2c-1d59-4307-886a-ae7b493fa919", "service": "api"}}
{"timestamp": "2026-02-08T23:04:07.740449Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ec1fe44b-d242-4094-83fd-1af3ef1efc47", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ec1fe44b-d242-4094-83fd-1af3ef1efc47", "service": "api"}}
{"timestamp": "2026-02-08T23:04:07.749036Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e2a7fe2c-1d59-4307-886a-ae7b493fa919", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e2a7fe2c-1d59-4307-886a-ae7b493fa919", "service": "api"}}
{"timestamp": "2026-02-08T23:04:07.750269Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ec1fe44b-d242-4094-83fd-1af3ef1efc47", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ec1fe44b-d242-4094-83fd-1af3ef1efc47", "service": "api"}}
{"timestamp": "2026-02-08T23:04:11.280404Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1c896742-cb90-48e8-b670-1656e8d6e5b3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "1c896742-cb90-48e8-b670-1656e8d6e5b3", "service": "api"}}
{"timestamp": "2026-02-08T23:04:11.281484Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "839299ab-6a4d-43dc-a1c0-c1893a565ba6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "839299ab-6a4d-43dc-a1c0-c1893a565ba6", "service": "api"}}
{"timestamp": "2026-02-08T23:04:11.288473Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1c896742-cb90-48e8-b670-1656e8d6e5b3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "1c896742-cb90-48e8-b670-1656e8d6e5b3", "service": "api"}}
{"timestamp": "2026-02-08T23:04:11.289476Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "839299ab-6a4d-43dc-a1c0-c1893a565ba6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "839299ab-6a4d-43dc-a1c0-c1893a565ba6", "service": "api"}}
{"timestamp": "2026-02-08T23:04:14.280573Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f2b80bad-407c-47d5-9110-c6132cd0e441", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "f2b80bad-407c-47d5-9110-c6132cd0e441", "service": "api"}}
{"timestamp": "2026-02-08T23:04:14.281585Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8aca9c9c-7520-4007-acdd-a1d1f74c8c3f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8aca9c9c-7520-4007-acdd-a1d1f74c8c3f", "service": "api"}}
{"timestamp": "2026-02-08T23:04:14.287581Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f2b80bad-407c-47d5-9110-c6132cd0e441", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "f2b80bad-407c-47d5-9110-c6132cd0e441", "service": "api"}}
{"timestamp": "2026-02-08T23:04:14.287581Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8aca9c9c-7520-4007-acdd-a1d1f74c8c3f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8aca9c9c-7520-4007-acdd-a1d1f74c8c3f", "service": "api"}}
{"timestamp": "2026-02-08T23:04:17.288298Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4543b94c-3678-46e6-95bf-c1d5f064ad9c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "4543b94c-3678-46e6-95bf-c1d5f064ad9c", "service": "api"}}
{"timestamp": "2026-02-08T23:04:17.289316Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e1a2b918-f836-438e-9166-dc9cef44f2be", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e1a2b918-f836-438e-9166-dc9cef44f2be", "service": "api"}}
{"timestamp": "2026-02-08T23:04:17.295387Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4543b94c-3678-46e6-95bf-c1d5f064ad9c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "4543b94c-3678-46e6-95bf-c1d5f064ad9c", "service": "api"}}
{"timestamp": "2026-02-08T23:04:17.295387Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e1a2b918-f836-438e-9166-dc9cef44f2be", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e1a2b918-f836-438e-9166-dc9cef44f2be", "service": "api"}}
{"timestamp": "2026-02-08T23:04:20.112501Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Runtime validation FAILED (Turn 1/5)", "module": "refiner", "function": "_log_issues", "line": 432, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"turn": 1, "validation_type": "runtime", "issue_count": 1, "section_title": "Optimale Atteinte : Analyse du R\u00e9sultat", "issue_samples": [{"category": "runtime", "severity": "critical", "confidence": "high", "auto_fixable": false, "line": null, "is_certain": true, "is_uncertain": false, "whitelist_key": "runtime:ba3e737a", "message": "ValueError: SceneConclusionSolution._monitored_wait() has a duration of 0 <= 0"}], "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:04:20.112501Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "  Issue 1 [critical/high]: ValueError: SceneConclusionSolution._monitored_wait() has a duration of 0 <= 0", "module": "refiner", "function": "_log_issues", "line": 444, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:04:20.115020Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Applying LLM fix (Turn 1)...", "module": "refiner", "function": "_apply_llm_fix", "line": 383, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:04:20.115020Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\ud83c\udfaf Selected strategy: runtime_error", "module": "adaptive_fixer", "function": "run_turn", "line": 87, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T23:04:20.117013Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9178 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "runtime_error", "request_id": "f3f9c091-d699-45a0-95ec-b5a9fb096d5c", "timestamp": "2026-02-08T23:04:20.116014Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 9178 chars]", "prompt_length": 9178, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:04:20.119015Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:04:20.291846Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "484d7247-7bf8-4d77-9be0-6398e1a10011", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "484d7247-7bf8-4d77-9be0-6398e1a10011", "service": "api"}}
{"timestamp": "2026-02-08T23:04:20.292855Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fb5c91f8-8c85-4d21-917b-3a08ddfca96a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "fb5c91f8-8c85-4d21-917b-3a08ddfca96a", "service": "api"}}
{"timestamp": "2026-02-08T23:04:20.302371Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "484d7247-7bf8-4d77-9be0-6398e1a10011", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "484d7247-7bf8-4d77-9be0-6398e1a10011", "service": "api"}}
{"timestamp": "2026-02-08T23:04:20.303374Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fb5c91f8-8c85-4d21-917b-3a08ddfca96a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "fb5c91f8-8c85-4d21-917b-3a08ddfca96a", "service": "api"}}
{"timestamp": "2026-02-08T23:04:23.248155Z", "level": "ERROR", "logger": "app.core.llm_logger", "message": "LLM Error | Duration: 3.13s | Error: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "module": "llm_logger", "function": "log_response", "line": 486, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "runtime_error", "request_id": "f3f9c091-d699-45a0-95ec-b5a9fb096d5c", "timestamp": "2026-02-08T23:04:23.248155Z", "response_text": "", "duration_seconds": 3.131, "success": false, "error": "503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}", "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:04:23.281666Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "660faaee-e482-44a9-93dd-48001ad168ac", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "660faaee-e482-44a9-93dd-48001ad168ac", "service": "api"}}
{"timestamp": "2026-02-08T23:04:23.281666Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "32227cf9-7399-4470-9e41-945477b3c366", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "32227cf9-7399-4470-9e41-945477b3c366", "service": "api"}}
{"timestamp": "2026-02-08T23:04:23.288674Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "660faaee-e482-44a9-93dd-48001ad168ac", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "660faaee-e482-44a9-93dd-48001ad168ac", "service": "api"}}
{"timestamp": "2026-02-08T23:04:23.289675Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "32227cf9-7399-4470-9e41-945477b3c366", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "32227cf9-7399-4470-9e41-945477b3c366", "service": "api"}}
{"timestamp": "2026-02-08T23:04:24.268563Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9178 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "runtime_error", "request_id": "c8d3d885-8fc1-4bb3-b2e5-e0dc64a80718", "timestamp": "2026-02-08T23:04:24.268055Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 9178 chars]", "prompt_length": 9178, "config": {"temperature": 0.6, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:04:24.271075Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:04:26.287765Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bd10a413-a37e-46a4-9283-649561a19a6d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "bd10a413-a37e-46a4-9283-649561a19a6d", "service": "api"}}
{"timestamp": "2026-02-08T23:04:26.288775Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ef36bc46-bec6-499c-b25f-a50d561b9b58", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ef36bc46-bec6-499c-b25f-a50d561b9b58", "service": "api"}}
{"timestamp": "2026-02-08T23:04:26.288775Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bd10a413-a37e-46a4-9283-649561a19a6d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "bd10a413-a37e-46a4-9283-649561a19a6d", "service": "api"}}
{"timestamp": "2026-02-08T23:04:26.298639Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ef36bc46-bec6-499c-b25f-a50d561b9b58", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ef36bc46-bec6-499c-b25f-a50d561b9b58", "service": "api"}}
{"timestamp": "2026-02-08T23:04:29.287562Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6550bc27-283f-4e16-b666-59b1b8069ce3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6550bc27-283f-4e16-b666-59b1b8069ce3", "service": "api"}}
{"timestamp": "2026-02-08T23:04:29.288565Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "83aebb92-61a9-47de-b18b-fc80a3aa4e38", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "83aebb92-61a9-47de-b18b-fc80a3aa4e38", "service": "api"}}
{"timestamp": "2026-02-08T23:04:29.296071Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6550bc27-283f-4e16-b666-59b1b8069ce3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6550bc27-283f-4e16-b666-59b1b8069ce3", "service": "api"}}
{"timestamp": "2026-02-08T23:04:29.297074Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "83aebb92-61a9-47de-b18b-fc80a3aa4e38", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "83aebb92-61a9-47de-b18b-fc80a3aa4e38", "service": "api"}}
{"timestamp": "2026-02-08T23:04:29.572656Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\5\\videos\\scene_5\\480p15\\section_5.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:04:29.696433Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Merging video (40.2s) with audio (39.3s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:04:30.356080Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 5: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:04:30.358835Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 6/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "sections", "progress": 85, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T23:04:30.358835Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 6/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 5, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:04:32.281876Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e7deabdf-d6f2-455b-a069-ea71b67775cb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "e7deabdf-d6f2-455b-a069-ea71b67775cb", "service": "api"}}
{"timestamp": "2026-02-08T23:04:32.282884Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3111a8f4-fdb1-491e-a546-870ab1a92b69", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "3111a8f4-fdb1-491e-a546-870ab1a92b69", "service": "api"}}
{"timestamp": "2026-02-08T23:04:32.287882Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e7deabdf-d6f2-455b-a069-ea71b67775cb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "e7deabdf-d6f2-455b-a069-ea71b67775cb", "service": "api"}}
{"timestamp": "2026-02-08T23:04:32.288882Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3111a8f4-fdb1-491e-a546-870ab1a92b69", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "3111a8f4-fdb1-491e-a546-870ab1a92b69", "service": "api"}}
{"timestamp": "2026-02-08T23:04:35.281214Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "940e13f2-a831-4d64-8be1-5425940bc4e5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "940e13f2-a831-4d64-8be1-5425940bc4e5", "service": "api"}}
{"timestamp": "2026-02-08T23:04:35.282735Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c37c8b51-34f6-4822-826c-88a3311d721f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "c37c8b51-34f6-4822-826c-88a3311d721f", "service": "api"}}
{"timestamp": "2026-02-08T23:04:35.289740Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "940e13f2-a831-4d64-8be1-5425940bc4e5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "940e13f2-a831-4d64-8be1-5425940bc4e5", "service": "api"}}
{"timestamp": "2026-02-08T23:04:35.289740Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c37c8b51-34f6-4822-826c-88a3311d721f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "c37c8b51-34f6-4822-826c-88a3311d721f", "service": "api"}}
{"timestamp": "2026-02-08T23:04:38.285900Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "eb4fb4ec-abfb-4ef8-b717-29aefe71eeea", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "eb4fb4ec-abfb-4ef8-b717-29aefe71eeea", "service": "api"}}
{"timestamp": "2026-02-08T23:04:38.286410Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e16a6de4-1ec5-41de-83fe-3f29417b6bc1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e16a6de4-1ec5-41de-83fe-3f29417b6bc1", "service": "api"}}
{"timestamp": "2026-02-08T23:04:38.294560Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "eb4fb4ec-abfb-4ef8-b717-29aefe71eeea", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "eb4fb4ec-abfb-4ef8-b717-29aefe71eeea", "service": "api"}}
{"timestamp": "2026-02-08T23:04:38.295570Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e16a6de4-1ec5-41de-83fe-3f29417b6bc1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e16a6de4-1ec5-41de-83fe-3f29417b6bc1", "service": "api"}}
{"timestamp": "2026-02-08T23:04:41.337131Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a5deb066-9b75-4b3e-919a-27dddb0ff80f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a5deb066-9b75-4b3e-919a-27dddb0ff80f", "service": "api"}}
{"timestamp": "2026-02-08T23:04:41.338129Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a5deb066-9b75-4b3e-919a-27dddb0ff80f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a5deb066-9b75-4b3e-919a-27dddb0ff80f", "service": "api"}}
{"timestamp": "2026-02-08T23:04:41.339131Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8710d50e-0e97-4e4b-939b-5d5564c3a8d3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8710d50e-0e97-4e4b-939b-5d5564c3a8d3", "service": "api"}}
{"timestamp": "2026-02-08T23:04:41.348654Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8710d50e-0e97-4e4b-939b-5d5564c3a8d3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8710d50e-0e97-4e4b-939b-5d5564c3a8d3", "service": "api"}}
{"timestamp": "2026-02-08T23:04:44.289725Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f91f6cdf-ed7b-4c38-8aec-716907effe2d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "f91f6cdf-ed7b-4c38-8aec-716907effe2d", "service": "api"}}
{"timestamp": "2026-02-08T23:04:44.291229Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "cd3d1625-6033-423a-9a7a-db217fda1d63", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "cd3d1625-6033-423a-9a7a-db217fda1d63", "service": "api"}}
{"timestamp": "2026-02-08T23:04:44.297245Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f91f6cdf-ed7b-4c38-8aec-716907effe2d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "f91f6cdf-ed7b-4c38-8aec-716907effe2d", "service": "api"}}
{"timestamp": "2026-02-08T23:04:44.298243Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "cd3d1625-6033-423a-9a7a-db217fda1d63", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "cd3d1625-6033-423a-9a7a-db217fda1d63", "service": "api"}}
{"timestamp": "2026-02-08T23:04:47.290784Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6ee0dfe2-92bf-4cfb-963d-a68de6e1f153", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6ee0dfe2-92bf-4cfb-963d-a68de6e1f153", "service": "api"}}
{"timestamp": "2026-02-08T23:04:47.291791Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bc042c14-6d90-4909-98c6-cab6a3a2a4be", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "bc042c14-6d90-4909-98c6-cab6a3a2a4be", "service": "api"}}
{"timestamp": "2026-02-08T23:04:47.296795Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6ee0dfe2-92bf-4cfb-963d-a68de6e1f153", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6ee0dfe2-92bf-4cfb-963d-a68de6e1f153", "service": "api"}}
{"timestamp": "2026-02-08T23:04:47.297796Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bc042c14-6d90-4909-98c6-cab6a3a2a4be", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "bc042c14-6d90-4909-98c6-cab6a3a2a4be", "service": "api"}}
{"timestamp": "2026-02-08T23:04:50.289211Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4bf4dd6e-8c83-446a-bc88-1a58c0ceba51", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "4bf4dd6e-8c83-446a-bc88-1a58c0ceba51", "service": "api"}}
{"timestamp": "2026-02-08T23:04:50.290718Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "20ca4e99-b14c-40c2-b4ef-5b944a34f7fd", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "20ca4e99-b14c-40c2-b4ef-5b944a34f7fd", "service": "api"}}
{"timestamp": "2026-02-08T23:04:50.297734Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4bf4dd6e-8c83-446a-bc88-1a58c0ceba51", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "4bf4dd6e-8c83-446a-bc88-1a58c0ceba51", "service": "api"}}
{"timestamp": "2026-02-08T23:04:50.298734Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "20ca4e99-b14c-40c2-b4ef-5b944a34f7fd", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "20ca4e99-b14c-40c2-b4ef-5b944a34f7fd", "service": "api"}}
{"timestamp": "2026-02-08T23:04:53.283535Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "81ca15ac-eab0-4e55-9322-31ec3568e216", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "81ca15ac-eab0-4e55-9322-31ec3568e216", "service": "api"}}
{"timestamp": "2026-02-08T23:04:53.284531Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6ed56070-bc8d-4515-b0af-691070477969", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6ed56070-bc8d-4515-b0af-691070477969", "service": "api"}}
{"timestamp": "2026-02-08T23:04:53.284531Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "81ca15ac-eab0-4e55-9322-31ec3568e216", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "81ca15ac-eab0-4e55-9322-31ec3568e216", "service": "api"}}
{"timestamp": "2026-02-08T23:04:53.292623Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6ed56070-bc8d-4515-b0af-691070477969", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6ed56070-bc8d-4515-b0af-691070477969", "service": "api"}}
{"timestamp": "2026-02-08T23:04:56.292940Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "66f1f5ee-8d74-407e-9316-420660ac2cc0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "66f1f5ee-8d74-407e-9316-420660ac2cc0", "service": "api"}}
{"timestamp": "2026-02-08T23:04:56.293938Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "92b6f9d6-4764-4be6-86a7-5638049b2215", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "92b6f9d6-4764-4be6-86a7-5638049b2215", "service": "api"}}
{"timestamp": "2026-02-08T23:04:56.301816Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "66f1f5ee-8d74-407e-9316-420660ac2cc0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "66f1f5ee-8d74-407e-9316-420660ac2cc0", "service": "api"}}
{"timestamp": "2026-02-08T23:04:56.302786Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "92b6f9d6-4764-4be6-86a7-5638049b2215", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "92b6f9d6-4764-4be6-86a7-5638049b2215", "service": "api"}}
{"timestamp": "2026-02-08T23:04:59.294264Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ea4849e0-04e3-4264-8bf8-48230a83dc2d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "ea4849e0-04e3-4264-8bf8-48230a83dc2d", "service": "api"}}
{"timestamp": "2026-02-08T23:04:59.294264Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8185a7b8-6784-49c7-85f5-9b674b73c169", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8185a7b8-6784-49c7-85f5-9b674b73c169", "service": "api"}}
{"timestamp": "2026-02-08T23:04:59.300784Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ea4849e0-04e3-4264-8bf8-48230a83dc2d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "ea4849e0-04e3-4264-8bf8-48230a83dc2d", "service": "api"}}
{"timestamp": "2026-02-08T23:04:59.302149Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8185a7b8-6784-49c7-85f5-9b674b73c169", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8185a7b8-6784-49c7-85f5-9b674b73c169", "service": "api"}}
{"timestamp": "2026-02-08T23:05:01.747762Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9d0e5da6-bad4-4807-8d6c-3d4c0b7d3c37", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "9d0e5da6-bad4-4807-8d6c-3d4c0b7d3c37", "service": "api"}}
{"timestamp": "2026-02-08T23:05:01.748765Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8ede3b84-b3c7-4f5b-8e11-7d0124d6090b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8ede3b84-b3c7-4f5b-8e11-7d0124d6090b", "service": "api"}}
{"timestamp": "2026-02-08T23:05:01.756117Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9d0e5da6-bad4-4807-8d6c-3d4c0b7d3c37", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "9d0e5da6-bad4-4807-8d6c-3d4c0b7d3c37", "service": "api"}}
{"timestamp": "2026-02-08T23:05:01.756117Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8ede3b84-b3c7-4f5b-8e11-7d0124d6090b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8ede3b84-b3c7-4f5b-8e11-7d0124d6090b", "service": "api"}}
{"timestamp": "2026-02-08T23:05:04.747714Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4679333d-e3bf-47f2-95dd-3e0464a13516", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "4679333d-e3bf-47f2-95dd-3e0464a13516", "service": "api"}}
{"timestamp": "2026-02-08T23:05:04.748716Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "17f45e9c-09d1-4634-97da-8be11aea0d03", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "17f45e9c-09d1-4634-97da-8be11aea0d03", "service": "api"}}
{"timestamp": "2026-02-08T23:05:04.755238Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4679333d-e3bf-47f2-95dd-3e0464a13516", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "4679333d-e3bf-47f2-95dd-3e0464a13516", "service": "api"}}
{"timestamp": "2026-02-08T23:05:04.755238Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "17f45e9c-09d1-4634-97da-8be11aea0d03", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "17f45e9c-09d1-4634-97da-8be11aea0d03", "service": "api"}}
{"timestamp": "2026-02-08T23:05:07.742783Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "35fa493b-1d5f-4cdc-8aeb-99955a3164d1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "35fa493b-1d5f-4cdc-8aeb-99955a3164d1", "service": "api"}}
{"timestamp": "2026-02-08T23:05:07.743855Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7d375e57-453f-4a6e-90cd-3646a7897e69", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7d375e57-453f-4a6e-90cd-3646a7897e69", "service": "api"}}
{"timestamp": "2026-02-08T23:05:07.752139Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "35fa493b-1d5f-4cdc-8aeb-99955a3164d1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "35fa493b-1d5f-4cdc-8aeb-99955a3164d1", "service": "api"}}
{"timestamp": "2026-02-08T23:05:07.753149Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7d375e57-453f-4a6e-90cd-3646a7897e69", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7d375e57-453f-4a6e-90cd-3646a7897e69", "service": "api"}}
{"timestamp": "2026-02-08T23:05:10.754296Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ab345ff5-09da-4602-9118-e24378276ec5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "ab345ff5-09da-4602-9118-e24378276ec5", "service": "api"}}
{"timestamp": "2026-02-08T23:05:10.756298Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fd56f821-d956-4607-b591-2fec31d2a51a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "fd56f821-d956-4607-b591-2fec31d2a51a", "service": "api"}}
{"timestamp": "2026-02-08T23:05:10.762815Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ab345ff5-09da-4602-9118-e24378276ec5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "ab345ff5-09da-4602-9118-e24378276ec5", "service": "api"}}
{"timestamp": "2026-02-08T23:05:10.763815Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fd56f821-d956-4607-b591-2fec31d2a51a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "fd56f821-d956-4607-b591-2fec31d2a51a", "service": "api"}}
{"timestamp": "2026-02-08T23:05:14.282718Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a17a77d1-90fd-4d13-8497-2665a13a3144", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a17a77d1-90fd-4d13-8497-2665a13a3144", "service": "api"}}
{"timestamp": "2026-02-08T23:05:14.283718Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6360a3d9-d9c4-46e9-b4be-c60284c990ba", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6360a3d9-d9c4-46e9-b4be-c60284c990ba", "service": "api"}}
{"timestamp": "2026-02-08T23:05:14.288872Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a17a77d1-90fd-4d13-8497-2665a13a3144", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a17a77d1-90fd-4d13-8497-2665a13a3144", "service": "api"}}
{"timestamp": "2026-02-08T23:05:14.289873Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6360a3d9-d9c4-46e9-b4be-c60284c990ba", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6360a3d9-d9c4-46e9-b4be-c60284c990ba", "service": "api"}}
{"timestamp": "2026-02-08T23:05:17.280952Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2fd9b601-48f8-470c-9eb7-0af572570cb5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2fd9b601-48f8-470c-9eb7-0af572570cb5", "service": "api"}}
{"timestamp": "2026-02-08T23:05:17.281959Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "87998ea4-aeea-4639-8e99-eb860823d046", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "87998ea4-aeea-4639-8e99-eb860823d046", "service": "api"}}
{"timestamp": "2026-02-08T23:05:17.286963Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2fd9b601-48f8-470c-9eb7-0af572570cb5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2fd9b601-48f8-470c-9eb7-0af572570cb5", "service": "api"}}
{"timestamp": "2026-02-08T23:05:17.288434Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "87998ea4-aeea-4639-8e99-eb860823d046", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "87998ea4-aeea-4639-8e99-eb860823d046", "service": "api"}}
{"timestamp": "2026-02-08T23:05:19.745571Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c769557e-b1a6-4b11-a7b5-c9cf0037f192", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "c769557e-b1a6-4b11-a7b5-c9cf0037f192", "service": "api"}}
{"timestamp": "2026-02-08T23:05:19.746897Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f9237c0c-e249-4b09-a773-5b9418c8757c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "f9237c0c-e249-4b09-a773-5b9418c8757c", "service": "api"}}
{"timestamp": "2026-02-08T23:05:19.757018Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c769557e-b1a6-4b11-a7b5-c9cf0037f192", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "c769557e-b1a6-4b11-a7b5-c9cf0037f192", "service": "api"}}
{"timestamp": "2026-02-08T23:05:19.759017Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f9237c0c-e249-4b09-a773-5b9418c8757c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "f9237c0c-e249-4b09-a773-5b9418c8757c", "service": "api"}}
{"timestamp": "2026-02-08T23:05:23.282635Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7e0204ee-b248-4856-a2b7-bc6691536b32", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7e0204ee-b248-4856-a2b7-bc6691536b32", "service": "api"}}
{"timestamp": "2026-02-08T23:05:23.283626Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "82aa93c0-4afe-4403-bba0-1a697f3434ce", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "82aa93c0-4afe-4403-bba0-1a697f3434ce", "service": "api"}}
{"timestamp": "2026-02-08T23:05:23.291130Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7e0204ee-b248-4856-a2b7-bc6691536b32", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7e0204ee-b248-4856-a2b7-bc6691536b32", "service": "api"}}
{"timestamp": "2026-02-08T23:05:23.292138Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "82aa93c0-4afe-4403-bba0-1a697f3434ce", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "82aa93c0-4afe-4403-bba0-1a697f3434ce", "service": "api"}}
{"timestamp": "2026-02-08T23:05:26.285327Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3811ce4d-b67b-4809-af7f-3b09c6215c17", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "3811ce4d-b67b-4809-af7f-3b09c6215c17", "service": "api"}}
{"timestamp": "2026-02-08T23:05:26.285327Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "510ac649-463e-4801-beb5-eef977bdc6ed", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "510ac649-463e-4801-beb5-eef977bdc6ed", "service": "api"}}
{"timestamp": "2026-02-08T23:05:26.286333Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3811ce4d-b67b-4809-af7f-3b09c6215c17", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "3811ce4d-b67b-4809-af7f-3b09c6215c17", "service": "api"}}
{"timestamp": "2026-02-08T23:05:26.293864Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "510ac649-463e-4801-beb5-eef977bdc6ed", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "510ac649-463e-4801-beb5-eef977bdc6ed", "service": "api"}}
{"timestamp": "2026-02-08T23:05:29.294951Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "474265e3-ec44-4d5f-aa17-de238e9aa291", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "474265e3-ec44-4d5f-aa17-de238e9aa291", "service": "api"}}
{"timestamp": "2026-02-08T23:05:29.295950Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "5d7abd0b-0ae6-45b3-9bf7-d8468c9e82ea", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "5d7abd0b-0ae6-45b3-9bf7-d8468c9e82ea", "service": "api"}}
{"timestamp": "2026-02-08T23:05:29.302458Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "474265e3-ec44-4d5f-aa17-de238e9aa291", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "474265e3-ec44-4d5f-aa17-de238e9aa291", "service": "api"}}
{"timestamp": "2026-02-08T23:05:29.303461Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "5d7abd0b-0ae6-45b3-9bf7-d8468c9e82ea", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "5d7abd0b-0ae6-45b3-9bf7-d8468c9e82ea", "service": "api"}}
{"timestamp": "2026-02-08T23:05:32.295044Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2ee27ce6-c963-4ee8-bc1e-836237355714", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2ee27ce6-c963-4ee8-bc1e-836237355714", "service": "api"}}
{"timestamp": "2026-02-08T23:05:32.296039Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "74b124fd-24eb-46ff-989e-583631d8ad38", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "74b124fd-24eb-46ff-989e-583631d8ad38", "service": "api"}}
{"timestamp": "2026-02-08T23:05:32.296039Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2ee27ce6-c963-4ee8-bc1e-836237355714", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2ee27ce6-c963-4ee8-bc1e-836237355714", "service": "api"}}
{"timestamp": "2026-02-08T23:05:32.304153Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "74b124fd-24eb-46ff-989e-583631d8ad38", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "74b124fd-24eb-46ff-989e-583631d8ad38", "service": "api"}}
{"timestamp": "2026-02-08T23:05:35.293048Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a614ec22-2829-483e-88b7-b49e039f3be1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a614ec22-2829-483e-88b7-b49e039f3be1", "service": "api"}}
{"timestamp": "2026-02-08T23:05:35.294021Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b9a3fc41-d9d5-4f36-9d4e-86798fabce71", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "b9a3fc41-d9d5-4f36-9d4e-86798fabce71", "service": "api"}}
{"timestamp": "2026-02-08T23:05:35.294021Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a614ec22-2829-483e-88b7-b49e039f3be1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a614ec22-2829-483e-88b7-b49e039f3be1", "service": "api"}}
{"timestamp": "2026-02-08T23:05:35.302054Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b9a3fc41-d9d5-4f36-9d4e-86798fabce71", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "b9a3fc41-d9d5-4f36-9d4e-86798fabce71", "service": "api"}}
{"timestamp": "2026-02-08T23:05:38.287887Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "924e6d03-4c6b-4317-a445-64703d2b8535", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "924e6d03-4c6b-4317-a445-64703d2b8535", "service": "api"}}
{"timestamp": "2026-02-08T23:05:38.288899Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "65e1dce3-d9e6-4d6f-978b-a55882ebc72a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "65e1dce3-d9e6-4d6f-978b-a55882ebc72a", "service": "api"}}
{"timestamp": "2026-02-08T23:05:38.288899Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "924e6d03-4c6b-4317-a445-64703d2b8535", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "924e6d03-4c6b-4317-a445-64703d2b8535", "service": "api"}}
{"timestamp": "2026-02-08T23:05:38.296145Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "65e1dce3-d9e6-4d6f-978b-a55882ebc72a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "65e1dce3-d9e6-4d6f-978b-a55882ebc72a", "service": "api"}}
{"timestamp": "2026-02-08T23:05:41.282841Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1c409402-b323-4f20-8a6c-e32df782bfd0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "1c409402-b323-4f20-8a6c-e32df782bfd0", "service": "api"}}
{"timestamp": "2026-02-08T23:05:41.283840Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "33e31d27-8f51-4208-a8cc-ececb5201869", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "33e31d27-8f51-4208-a8cc-ececb5201869", "service": "api"}}
{"timestamp": "2026-02-08T23:05:41.288841Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1c409402-b323-4f20-8a6c-e32df782bfd0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "1c409402-b323-4f20-8a6c-e32df782bfd0", "service": "api"}}
{"timestamp": "2026-02-08T23:05:41.289842Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "33e31d27-8f51-4208-a8cc-ececb5201869", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "33e31d27-8f51-4208-a8cc-ececb5201869", "service": "api"}}
{"timestamp": "2026-02-08T23:05:44.296941Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b013cf79-a25b-4c97-a16e-49e270175254", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "b013cf79-a25b-4c97-a16e-49e270175254", "service": "api"}}
{"timestamp": "2026-02-08T23:05:44.297943Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e4c3e666-6005-4169-b86e-abb665b589e5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e4c3e666-6005-4169-b86e-abb665b589e5", "service": "api"}}
{"timestamp": "2026-02-08T23:05:44.297943Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b013cf79-a25b-4c97-a16e-49e270175254", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "b013cf79-a25b-4c97-a16e-49e270175254", "service": "api"}}
{"timestamp": "2026-02-08T23:05:44.305451Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e4c3e666-6005-4169-b86e-abb665b589e5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e4c3e666-6005-4169-b86e-abb665b589e5", "service": "api"}}
{"timestamp": "2026-02-08T23:05:47.289361Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7f59e8e8-9ad9-4e2d-99cd-db2f0b18e1e1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7f59e8e8-9ad9-4e2d-99cd-db2f0b18e1e1", "service": "api"}}
{"timestamp": "2026-02-08T23:05:47.291873Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "123adc14-fbd6-48dd-ae66-ff1b67e0eb03", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "123adc14-fbd6-48dd-ae66-ff1b67e0eb03", "service": "api"}}
{"timestamp": "2026-02-08T23:05:47.298885Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7f59e8e8-9ad9-4e2d-99cd-db2f0b18e1e1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7f59e8e8-9ad9-4e2d-99cd-db2f0b18e1e1", "service": "api"}}
{"timestamp": "2026-02-08T23:05:47.299885Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "123adc14-fbd6-48dd-ae66-ff1b67e0eb03", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "123adc14-fbd6-48dd-ae66-ff1b67e0eb03", "service": "api"}}
{"timestamp": "2026-02-08T23:05:50.291917Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "120a3c81-8e11-4e33-b588-a6678b1c14ad", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "120a3c81-8e11-4e33-b588-a6678b1c14ad", "service": "api"}}
{"timestamp": "2026-02-08T23:05:50.292918Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7152c021-3dc2-485d-b032-138486aeaed4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "7152c021-3dc2-485d-b032-138486aeaed4", "service": "api"}}
{"timestamp": "2026-02-08T23:05:50.299922Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "120a3c81-8e11-4e33-b588-a6678b1c14ad", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "120a3c81-8e11-4e33-b588-a6678b1c14ad", "service": "api"}}
{"timestamp": "2026-02-08T23:05:50.299922Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7152c021-3dc2-485d-b032-138486aeaed4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "7152c021-3dc2-485d-b032-138486aeaed4", "service": "api"}}
{"timestamp": "2026-02-08T23:05:53.282320Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3129e767-144b-43f3-a48b-b405e42e549a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "3129e767-144b-43f3-a48b-b405e42e549a", "service": "api"}}
{"timestamp": "2026-02-08T23:05:53.283326Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "cb4aaa9f-3941-4000-99b5-1c431e21b912", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "cb4aaa9f-3941-4000-99b5-1c431e21b912", "service": "api"}}
{"timestamp": "2026-02-08T23:05:53.283326Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3129e767-144b-43f3-a48b-b405e42e549a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "3129e767-144b-43f3-a48b-b405e42e549a", "service": "api"}}
{"timestamp": "2026-02-08T23:05:53.291843Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "cb4aaa9f-3941-4000-99b5-1c431e21b912", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "cb4aaa9f-3941-4000-99b5-1c431e21b912", "service": "api"}}
{"timestamp": "2026-02-08T23:05:54.278292Z", "level": "WARNING", "logger": "app.services.pipeline.animation.generation.refinement.adaptive_fixer", "message": "\u26a0\ufe0f Fix attempt 1 failed: Request timed out", "module": "adaptive_fixer", "function": "run_turn", "line": 156, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_adaptive_fixer"}}
{"timestamp": "2026-02-08T23:05:54.280799Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 16363 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_request", "section_index": 6, "job_id": "unknown", "stage": "refinement", "attempt": 2, "strategy": "runtime_error", "request_id": "6fd5db4b-5227-41f4-99a7-d8fd40883cbd", "timestamp": "2026-02-08T23:05:54.279294Z", "model": "gemini-3-flash-preview", "prompt": "Fix the listed errors in the ManimCE v0.19.2 code using SURGICAL text replacements.\n\nYou MUST output a single JSON object that matches the required schema:\n- analysis: string (<=200 chars)\n- edits: 1\u201310 objects with exact search_text and replacement_text\n\nRULES:\n- search_text MUST be copied EXACTLY from CURRENT CODE (including whitespace).\n- Include 2\u20133 lines of surrounding context (max ~10 lines ... [truncated, total: 16363 chars]", "prompt_length": 16363, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"analysis": {"type": "string", "description": "Brief analysis of the error and fix strategy", "maxLength": 200}, "edits": {"type": "array", "items": {"type": "object", "properties": {"search_text": {"type": "string", "description": "Exact text to find with 2-3 lines of context", "maxLength": 5000}, "replacement_text": {"type": "string", "description": "New text to replace search_text with", "maxLength": 5000}}, "required": ["search_text", "replacement_text"], "propertyOrdering": ["search_text", "replacement_text"]}, "description": "List of surgical edits", "maxItems": 10}}, "required": ["analysis", "edits"]}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edition v0.19.2\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nFORBIDDEN (NEVER USE)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nTexMobject\nTextMobject\nGraphScene\nThreeDScene\nCENTER (use ORIGIN)\ntracker.number\nself.wait(0) or self.wait(x if cond else 0)\nease_in_expo\nAxes.get_graph\ncamera.frame unless MovingCameraScene\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nCOMMON FAILURES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Wrong kwargs: Text(size=...), Circle(size=...)\n- Animation targets lists\n- Legacy APIs\n- Missing FadeOut before replacement\n- Undefined names/colors\n- Unexpected keyword arguments\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nSPATIAL FIX PATTERNS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWhen you see \"Spatial Issue\" or \"text_overlap\" or \"out_of_bounds\" or \"object_occlusion\":\n\n1. TEXT OVERLAP:\n   - Find the second text's positioning code\n   - Change to: `.next_to(other_obj, DOWN, buff=0.4)`\n   - Or add: `.shift(DOWN * 0.8)` after creation\n   - Ensure FadeOut of old text before FadeIn of new\n\n2. OUT OF BOUNDS / TEXT CLIPPING:\n   - Clamp coordinates: X max \u00b15.5, Y max \u00b13.0\n   - For groups: add `.scale_to_fit_width(11)` or `.scale(0.8)`\n   - Replace `RIGHT * 8` with `RIGHT * 5`\n   - For text at screen edge: reduce font_size or shift inward by 0.5\n   - Text MUST have \u22650.5 units margin from screen edges\n\n3. GROUP / TABLE OVERFLOW:\n   - Add `.scale_to_fit_width(11)` IMMEDIATELY after Table/VGroup creation\n   - Then `.move_to(ORIGIN)` to re-center\n   - Example:\n     table = MobjectTable(...)\n     table.scale_to_fit_width(11)  # MUST scale before positioning\n     table.move_to(ORIGIN)\n   - Row labels: use `.next_to(table, LEFT, buff=0.3)`, not absolute positioning\n\n4. OBJECT COVERING TEXT:\n   - For SurroundingRectangle highlight boxes:\n     Change to `fill_opacity=0, stroke_width=2`\n   - For other shapes covering text:\n     Add `.set_fill(opacity=0)` or reorder z-layers\n   - NEVER place a filled rectangle on top of text/numbers\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nEDIT RULES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n- Return ONLY JSON\n- search_text MUST appear verbatim\n- Replace only necessary lines\n- Do NOT change formatting or unrelated code\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPRIORITY\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. Runtime errors\n2. API incompatibility\n3. Spatial layout issues\n4. Type errors\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMISSION\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nMake the code run with correct spatial layout.\n\nBe precise.\nBe mechanical.\nDo not be creative."}, "system_instruction": "You are a Manim Community Edition v0.19.2 Code Repair Agent.\n\nYour job:\nFix runtime, API, and SPATIAL errors with minimal surgical edits.\n\nYou must output JSON matching this schema:\n- analysis (<=200 chars)\n- edits (1\u20132 items)\nEach edit has:\n- search_text (exact match, 2\u20133 lines context)\n- replacement_text\n\nYou are NOT an animator.\nYou do NOT improve visuals.\nYou do NOT redesign scenes.\n\nFix only what is broken.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nENVIRONMENT\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nManim Community Edit... [truncated, total: 2845 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:05:54.281806Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335"}
{"timestamp": "2026-02-08T23:05:56.290964Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "48f8319e-3316-47cd-8282-2c461d098a51", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "48f8319e-3316-47cd-8282-2c461d098a51", "service": "api"}}
{"timestamp": "2026-02-08T23:05:56.291971Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "22f7162c-db18-4466-8aa1-b12fb3436cb2", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "22f7162c-db18-4466-8aa1-b12fb3436cb2", "service": "api"}}
{"timestamp": "2026-02-08T23:05:56.298981Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "48f8319e-3316-47cd-8282-2c461d098a51", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "48f8319e-3316-47cd-8282-2c461d098a51", "service": "api"}}
{"timestamp": "2026-02-08T23:05:56.299983Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "22f7162c-db18-4466-8aa1-b12fb3436cb2", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "22f7162c-db18-4466-8aa1-b12fb3436cb2", "service": "api"}}
{"timestamp": "2026-02-08T23:05:57.041035Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 92.77s | Length: 1183 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "refinement", "attempt": 1, "strategy": "runtime_error", "request_id": "c8d3d885-8fc1-4bb3-b2e5-e0dc64a80718", "timestamp": "2026-02-08T23:05:57.039911Z", "response_text": "{\n  \"analysis\": \"The runtime error is caused by 'self.wait(0.0)' and other wait calls that resolve to zero duration, which are not permitted in Manim CE. I have removed these redundant calls.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        self.play(FadeIn(title), run_time=0.8)\\n        self.wait(0.0) # Syncing\\n        self.play(Create(table_final), run_time=2.0)\",\n      \"replacement_text\": \" ... [truncated, total: 1183 chars]", "duration_seconds": 92.771, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:05:59.295501Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "911a765c-f212-494f-b34e-040ff5149916", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "911a765c-f212-494f-b34e-040ff5149916", "service": "api"}}
{"timestamp": "2026-02-08T23:05:59.296502Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8327fa6e-a418-4127-86b8-d094a866a651", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8327fa6e-a418-4127-86b8-d094a866a651", "service": "api"}}
{"timestamp": "2026-02-08T23:05:59.303017Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "911a765c-f212-494f-b34e-040ff5149916", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "911a765c-f212-494f-b34e-040ff5149916", "service": "api"}}
{"timestamp": "2026-02-08T23:05:59.304030Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8327fa6e-a418-4127-86b8-d094a866a651", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8327fa6e-a418-4127-86b8-d094a866a651", "service": "api"}}
{"timestamp": "2026-02-08T23:06:02.290050Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "51d0d73f-5a34-481d-9c4d-3aca51524807", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "51d0d73f-5a34-481d-9c4d-3aca51524807", "service": "api"}}
{"timestamp": "2026-02-08T23:06:02.291048Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "65921a28-7627-4d91-acf6-4867b62c0542", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "65921a28-7627-4d91-acf6-4867b62c0542", "service": "api"}}
{"timestamp": "2026-02-08T23:06:02.291048Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "51d0d73f-5a34-481d-9c4d-3aca51524807", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "51d0d73f-5a34-481d-9c4d-3aca51524807", "service": "api"}}
{"timestamp": "2026-02-08T23:06:02.299403Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "65921a28-7627-4d91-acf6-4867b62c0542", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "65921a28-7627-4d91-acf6-4867b62c0542", "service": "api"}}
{"timestamp": "2026-02-08T23:06:05.287929Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b241411a-0b92-4b61-ad40-369ed9f85492", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "b241411a-0b92-4b61-ad40-369ed9f85492", "service": "api"}}
{"timestamp": "2026-02-08T23:06:05.288930Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "62c3d6cb-b1a9-46be-aa80-6eb13af0aff1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "62c3d6cb-b1a9-46be-aa80-6eb13af0aff1", "service": "api"}}
{"timestamp": "2026-02-08T23:06:05.289929Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b241411a-0b92-4b61-ad40-369ed9f85492", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "b241411a-0b92-4b61-ad40-369ed9f85492", "service": "api"}}
{"timestamp": "2026-02-08T23:06:05.295303Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "62c3d6cb-b1a9-46be-aa80-6eb13af0aff1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "62c3d6cb-b1a9-46be-aa80-6eb13af0aff1", "service": "api"}}
{"timestamp": "2026-02-08T23:06:08.292236Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3bb3ea6e-be19-4559-ac47-964dead3b698", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "3bb3ea6e-be19-4559-ac47-964dead3b698", "service": "api"}}
{"timestamp": "2026-02-08T23:06:08.293233Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bd355669-164a-4661-b56e-faf31b3f8702", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "bd355669-164a-4661-b56e-faf31b3f8702", "service": "api"}}
{"timestamp": "2026-02-08T23:06:08.299717Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3bb3ea6e-be19-4559-ac47-964dead3b698", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "3bb3ea6e-be19-4559-ac47-964dead3b698", "service": "api"}}
{"timestamp": "2026-02-08T23:06:08.301221Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bd355669-164a-4661-b56e-faf31b3f8702", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "bd355669-164a-4661-b56e-faf31b3f8702", "service": "api"}}
{"timestamp": "2026-02-08T23:06:11.291017Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "59f309d8-1700-416a-8a31-4c9f13941e7d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "59f309d8-1700-416a-8a31-4c9f13941e7d", "service": "api"}}
{"timestamp": "2026-02-08T23:06:11.292077Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e3000495-c853-46bf-8845-bee3e6405153", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e3000495-c853-46bf-8845-bee3e6405153", "service": "api"}}
{"timestamp": "2026-02-08T23:06:11.292077Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "59f309d8-1700-416a-8a31-4c9f13941e7d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "59f309d8-1700-416a-8a31-4c9f13941e7d", "service": "api"}}
{"timestamp": "2026-02-08T23:06:11.301618Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e3000495-c853-46bf-8845-bee3e6405153", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e3000495-c853-46bf-8845-bee3e6405153", "service": "api"}}
{"timestamp": "2026-02-08T23:06:14.279781Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2d26adb8-493f-4d9b-a557-bbcff6d5fb0a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2d26adb8-493f-4d9b-a557-bbcff6d5fb0a", "service": "api"}}
{"timestamp": "2026-02-08T23:06:14.281288Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "261dcdf1-8d48-4741-83ce-84b5af63f042", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "261dcdf1-8d48-4741-83ce-84b5af63f042", "service": "api"}}
{"timestamp": "2026-02-08T23:06:14.287296Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2d26adb8-493f-4d9b-a557-bbcff6d5fb0a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2d26adb8-493f-4d9b-a557-bbcff6d5fb0a", "service": "api"}}
{"timestamp": "2026-02-08T23:06:14.288296Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "261dcdf1-8d48-4741-83ce-84b5af63f042", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "261dcdf1-8d48-4741-83ce-84b5af63f042", "service": "api"}}
{"timestamp": "2026-02-08T23:06:17.293181Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2e0707f7-7364-4d9e-a3d0-98fe24a68abd", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2e0707f7-7364-4d9e-a3d0-98fe24a68abd", "service": "api"}}
{"timestamp": "2026-02-08T23:06:17.294190Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6124bd7f-bec2-413b-a032-34cbd9ca11df", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6124bd7f-bec2-413b-a032-34cbd9ca11df", "service": "api"}}
{"timestamp": "2026-02-08T23:06:17.303704Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2e0707f7-7364-4d9e-a3d0-98fe24a68abd", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2e0707f7-7364-4d9e-a3d0-98fe24a68abd", "service": "api"}}
{"timestamp": "2026-02-08T23:06:17.304709Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6124bd7f-bec2-413b-a032-34cbd9ca11df", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6124bd7f-bec2-413b-a032-34cbd9ca11df", "service": "api"}}
{"timestamp": "2026-02-08T23:06:20.283510Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ae6f0aff-fc1c-44fe-8f9b-f7c2cc4eaaa9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "ae6f0aff-fc1c-44fe-8f9b-f7c2cc4eaaa9", "service": "api"}}
{"timestamp": "2026-02-08T23:06:20.284525Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "aa95e7e7-fbf9-44f2-b903-0f762a4e79eb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "aa95e7e7-fbf9-44f2-b903-0f762a4e79eb", "service": "api"}}
{"timestamp": "2026-02-08T23:06:20.291034Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ae6f0aff-fc1c-44fe-8f9b-f7c2cc4eaaa9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "ae6f0aff-fc1c-44fe-8f9b-f7c2cc4eaaa9", "service": "api"}}
{"timestamp": "2026-02-08T23:06:20.292041Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "aa95e7e7-fbf9-44f2-b903-0f762a4e79eb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "aa95e7e7-fbf9-44f2-b903-0f762a4e79eb", "service": "api"}}
{"timestamp": "2026-02-08T23:06:47.201447Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "999d122b-e385-42d5-a73e-c5f73440e934", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "999d122b-e385-42d5-a73e-c5f73440e934", "service": "api"}}
{"timestamp": "2026-02-08T23:06:47.202460Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "011db4b2-9726-4234-987f-b8a808505539", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "011db4b2-9726-4234-987f-b8a808505539", "service": "api"}}
{"timestamp": "2026-02-08T23:06:47.213424Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "999d122b-e385-42d5-a73e-c5f73440e934", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "999d122b-e385-42d5-a73e-c5f73440e934", "service": "api"}}
{"timestamp": "2026-02-08T23:06:47.214423Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "011db4b2-9726-4234-987f-b8a808505539", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "011db4b2-9726-4234-987f-b8a808505539", "service": "api"}}
{"timestamp": "2026-02-08T23:06:48.454196Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/section/6", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f5468097-efdb-4778-bbb1-45f0e1490268", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/6", "client": "127.0.0.1", "request_id": "f5468097-efdb-4778-bbb1-45f0e1490268", "service": "api"}}
{"timestamp": "2026-02-08T23:06:48.464858Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f5468097-efdb-4778-bbb1-45f0e1490268", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/section/6", "request_id": "f5468097-efdb-4778-bbb1-45f0e1490268", "service": "api"}}
{"timestamp": "2026-02-08T23:06:49.741487Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8e9ddf05-95f0-460a-aea8-30aace3d4ed8", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8e9ddf05-95f0-460a-aea8-30aace3d4ed8", "service": "api"}}
{"timestamp": "2026-02-08T23:06:49.742965Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b7a04d03-ff36-4d83-84e5-ba247a7fcce4", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "b7a04d03-ff36-4d83-84e5-ba247a7fcce4", "service": "api"}}
{"timestamp": "2026-02-08T23:06:49.750506Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8e9ddf05-95f0-460a-aea8-30aace3d4ed8", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8e9ddf05-95f0-460a-aea8-30aace3d4ed8", "service": "api"}}
{"timestamp": "2026-02-08T23:06:49.751499Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b7a04d03-ff36-4d83-84e5-ba247a7fcce4", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "b7a04d03-ff36-4d83-84e5-ba247a7fcce4", "service": "api"}}
{"timestamp": "2026-02-08T23:06:52.742342Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8cefc1f4-de8d-4f8d-b330-2cf82ea61c1c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8cefc1f4-de8d-4f8d-b330-2cf82ea61c1c", "service": "api"}}
{"timestamp": "2026-02-08T23:06:52.742342Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dcbb2566-5f95-40e2-be5b-936d05fd3ee1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "dcbb2566-5f95-40e2-be5b-936d05fd3ee1", "service": "api"}}
{"timestamp": "2026-02-08T23:06:52.749854Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8cefc1f4-de8d-4f8d-b330-2cf82ea61c1c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8cefc1f4-de8d-4f8d-b330-2cf82ea61c1c", "service": "api"}}
{"timestamp": "2026-02-08T23:06:52.751357Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dcbb2566-5f95-40e2-be5b-936d05fd3ee1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "dcbb2566-5f95-40e2-be5b-936d05fd3ee1", "service": "api"}}
{"timestamp": "2026-02-08T23:06:55.750060Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6d9e5cf7-d39d-4590-b576-baa2b03cc197", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6d9e5cf7-d39d-4590-b576-baa2b03cc197", "service": "api"}}
{"timestamp": "2026-02-08T23:06:55.751563Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8b647368-ba89-40fa-8560-4a28d760c2e2", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8b647368-ba89-40fa-8560-4a28d760c2e2", "service": "api"}}
{"timestamp": "2026-02-08T23:06:55.758717Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6d9e5cf7-d39d-4590-b576-baa2b03cc197", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6d9e5cf7-d39d-4590-b576-baa2b03cc197", "service": "api"}}
{"timestamp": "2026-02-08T23:06:55.759724Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8b647368-ba89-40fa-8560-4a28d760c2e2", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8b647368-ba89-40fa-8560-4a28d760c2e2", "service": "api"}}
{"timestamp": "2026-02-08T23:06:58.741124Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6ec6b68b-7372-42e9-a5bb-341dae0d68bc", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6ec6b68b-7372-42e9-a5bb-341dae0d68bc", "service": "api"}}
{"timestamp": "2026-02-08T23:06:58.743160Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e4a57f30-e826-4cee-8b54-eb2243d6cc7a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e4a57f30-e826-4cee-8b54-eb2243d6cc7a", "service": "api"}}
{"timestamp": "2026-02-08T23:06:58.751970Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6ec6b68b-7372-42e9-a5bb-341dae0d68bc", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6ec6b68b-7372-42e9-a5bb-341dae0d68bc", "service": "api"}}
{"timestamp": "2026-02-08T23:06:58.752975Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e4a57f30-e826-4cee-8b54-eb2243d6cc7a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e4a57f30-e826-4cee-8b54-eb2243d6cc7a", "service": "api"}}
{"timestamp": "2026-02-08T23:07:01.742581Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0f505c7a-88dd-4422-bf02-47843c602850", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "0f505c7a-88dd-4422-bf02-47843c602850", "service": "api"}}
{"timestamp": "2026-02-08T23:07:01.743914Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1436dc85-0576-4337-b10a-265ff9269ad9", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "1436dc85-0576-4337-b10a-265ff9269ad9", "service": "api"}}
{"timestamp": "2026-02-08T23:07:01.749879Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0f505c7a-88dd-4422-bf02-47843c602850", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "0f505c7a-88dd-4422-bf02-47843c602850", "service": "api"}}
{"timestamp": "2026-02-08T23:07:01.751384Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1436dc85-0576-4337-b10a-265ff9269ad9", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "1436dc85-0576-4337-b10a-265ff9269ad9", "service": "api"}}
{"timestamp": "2026-02-08T23:07:04.756972Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1148e057-9d0b-4e33-87ab-ce37f1df3b81", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "1148e057-9d0b-4e33-87ab-ce37f1df3b81", "service": "api"}}
{"timestamp": "2026-02-08T23:07:04.757969Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "51daeaeb-d1df-4e92-a39a-d7804090bdc5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "51daeaeb-d1df-4e92-a39a-d7804090bdc5", "service": "api"}}
{"timestamp": "2026-02-08T23:07:04.769529Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1148e057-9d0b-4e33-87ab-ce37f1df3b81", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "1148e057-9d0b-4e33-87ab-ce37f1df3b81", "service": "api"}}
{"timestamp": "2026-02-08T23:07:04.771019Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "51daeaeb-d1df-4e92-a39a-d7804090bdc5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "51daeaeb-d1df-4e92-a39a-d7804090bdc5", "service": "api"}}
{"timestamp": "2026-02-08T23:07:06.392582Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 72.11s | Length: 1266 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"event": "llm_response", "section_index": 6, "job_id": "unknown", "stage": "refinement", "attempt": 2, "strategy": "runtime_error", "request_id": "6fd5db4b-5227-41f4-99a7-d8fd40883cbd", "timestamp": "2026-02-08T23:07:06.391575Z", "response_text": "{\n  \"analysis\": \"The error is caused by self.wait(0.0) which is forbidden in Manim and results in a ValueError. I've removed the explicit zero wait and other redundant near-zero waits.\",\n  \"edits\": [\n    {\n      \"search_text\": \"        # --- SEGMENT 0 (0.0s - 5.928s) ---\\n        self.play(FadeIn(title), run_time=0.8)\\n        self.wait(0.0) # Syncing\\n        self.play(Create(table_final), run_ti... [truncated, total: 1266 chars]", "duration_seconds": 72.113, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-08T23:07:06.393596Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcdd Applying 3 surgical edit(s)...", "module": "edit_applier", "function": "apply_edits_atomically", "line": 20, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:07:06.393596Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 1: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:07:06.394934Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 2: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:07:06.394934Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "  Edit 3: \u2705 SUCCESS - applied surgical fix", "module": "edit_applier", "function": "apply_edits_atomically", "line": 48, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:07:06.394934Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.refinement.edit_applier", "message": "\ud83d\udcca Edit summary: 3 successful, 0 failed (out of 3 total)", "module": "edit_applier", "function": "apply_edits_atomically", "line": 58, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"successful_edits": 3, "failed_edits": 0, "total_edits": 3, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refinement"}}
{"timestamp": "2026-02-08T23:07:06.395943Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "LLM fix applied (length: 5425 -> 5291)", "module": "refiner", "function": "_apply_llm_fix", "line": 389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:07:06.395943Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Re-running validation after fixes for 'Optimale Atteinte : Analyse du R\u00e9sultat' (Turn 1)", "module": "refiner", "function": "refine", "line": 219, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_title": "Optimale Atteinte : Analyse du R\u00e9sultat", "turn": 1, "deterministic_fixes": 0, "llm_fixes": 1, "refinement_stage": "post_fix_revalidate", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:07:06.439900Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Static validation PASSED (Turn 2)", "module": "refiner", "function": "refine", "line": 158, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:07:07.756398Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2a902c17-7eaa-4fd3-99bc-b6e056d526f3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2a902c17-7eaa-4fd3-99bc-b6e056d526f3", "service": "api"}}
{"timestamp": "2026-02-08T23:07:07.757405Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "14266176-ae42-4b49-899a-6b895eece068", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "14266176-ae42-4b49-899a-6b895eece068", "service": "api"}}
{"timestamp": "2026-02-08T23:07:07.767732Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2a902c17-7eaa-4fd3-99bc-b6e056d526f3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2a902c17-7eaa-4fd3-99bc-b6e056d526f3", "service": "api"}}
{"timestamp": "2026-02-08T23:07:07.768889Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "14266176-ae42-4b49-899a-6b895eece068", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "14266176-ae42-4b49-899a-6b895eece068", "service": "api"}}
{"timestamp": "2026-02-08T23:07:10.747007Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "550bedc5-10c6-453e-be11-2ab4cafb9c75", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "550bedc5-10c6-453e-be11-2ab4cafb9c75", "service": "api"}}
{"timestamp": "2026-02-08T23:07:10.748458Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6a086282-e67d-4f8f-96f5-8f64fd47ccce", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6a086282-e67d-4f8f-96f5-8f64fd47ccce", "service": "api"}}
{"timestamp": "2026-02-08T23:07:10.749467Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "550bedc5-10c6-453e-be11-2ab4cafb9c75", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "550bedc5-10c6-453e-be11-2ab4cafb9c75", "service": "api"}}
{"timestamp": "2026-02-08T23:07:10.761998Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6a086282-e67d-4f8f-96f5-8f64fd47ccce", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6a086282-e67d-4f8f-96f5-8f64fd47ccce", "service": "api"}}
{"timestamp": "2026-02-08T23:07:13.749300Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6904141a-78ee-43f1-878d-0e005097dd1d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6904141a-78ee-43f1-878d-0e005097dd1d", "service": "api"}}
{"timestamp": "2026-02-08T23:07:13.750784Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8e6232a9-7b68-4f4a-a7e4-8d209a6354c3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8e6232a9-7b68-4f4a-a7e4-8d209a6354c3", "service": "api"}}
{"timestamp": "2026-02-08T23:07:13.757964Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6904141a-78ee-43f1-878d-0e005097dd1d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6904141a-78ee-43f1-878d-0e005097dd1d", "service": "api"}}
{"timestamp": "2026-02-08T23:07:13.759041Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8e6232a9-7b68-4f4a-a7e4-8d209a6354c3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8e6232a9-7b68-4f4a-a7e4-8d209a6354c3", "service": "api"}}
{"timestamp": "2026-02-08T23:07:16.748748Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8e1b1995-6635-4e2e-a8d0-ebb17393b1d6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8e1b1995-6635-4e2e-a8d0-ebb17393b1d6", "service": "api"}}
{"timestamp": "2026-02-08T23:07:16.749750Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f103a072-560c-4cec-8824-bb608c71caf5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "f103a072-560c-4cec-8824-bb608c71caf5", "service": "api"}}
{"timestamp": "2026-02-08T23:07:16.761520Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8e1b1995-6635-4e2e-a8d0-ebb17393b1d6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8e1b1995-6635-4e2e-a8d0-ebb17393b1d6", "service": "api"}}
{"timestamp": "2026-02-08T23:07:16.763545Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f103a072-560c-4cec-8824-bb608c71caf5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "f103a072-560c-4cec-8824-bb608c71caf5", "service": "api"}}
{"timestamp": "2026-02-08T23:07:19.743018Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "97704ae7-fe2e-4836-9feb-35edeee16660", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "97704ae7-fe2e-4836-9feb-35edeee16660", "service": "api"}}
{"timestamp": "2026-02-08T23:07:19.744017Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "e2c5078f-1ed7-4f97-91ea-0808ba701916", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "e2c5078f-1ed7-4f97-91ea-0808ba701916", "service": "api"}}
{"timestamp": "2026-02-08T23:07:19.752749Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "97704ae7-fe2e-4836-9feb-35edeee16660", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "97704ae7-fe2e-4836-9feb-35edeee16660", "service": "api"}}
{"timestamp": "2026-02-08T23:07:19.753995Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "e2c5078f-1ed7-4f97-91ea-0808ba701916", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "e2c5078f-1ed7-4f97-91ea-0808ba701916", "service": "api"}}
{"timestamp": "2026-02-08T23:07:22.756208Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "da5cb678-40ea-48fa-a476-b2674f650fb1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "da5cb678-40ea-48fa-a476-b2674f650fb1", "service": "api"}}
{"timestamp": "2026-02-08T23:07:22.756208Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bf832d67-f1a6-4985-9cae-0f1a44fe07e3", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "bf832d67-f1a6-4985-9cae-0f1a44fe07e3", "service": "api"}}
{"timestamp": "2026-02-08T23:07:22.765648Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "da5cb678-40ea-48fa-a476-b2674f650fb1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "da5cb678-40ea-48fa-a476-b2674f650fb1", "service": "api"}}
{"timestamp": "2026-02-08T23:07:22.766648Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bf832d67-f1a6-4985-9cae-0f1a44fe07e3", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "bf832d67-f1a6-4985-9cae-0f1a44fe07e3", "service": "api"}}
{"timestamp": "2026-02-08T23:07:25.755127Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ad535471-52fa-4309-80d6-aa8ee9b16f0f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "ad535471-52fa-4309-80d6-aa8ee9b16f0f", "service": "api"}}
{"timestamp": "2026-02-08T23:07:25.756634Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "1a3d0a7f-8d3c-4ec9-88e1-32fb4b57acee", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "1a3d0a7f-8d3c-4ec9-88e1-32fb4b57acee", "service": "api"}}
{"timestamp": "2026-02-08T23:07:25.757642Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ad535471-52fa-4309-80d6-aa8ee9b16f0f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "ad535471-52fa-4309-80d6-aa8ee9b16f0f", "service": "api"}}
{"timestamp": "2026-02-08T23:07:25.767397Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "1a3d0a7f-8d3c-4ec9-88e1-32fb4b57acee", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "1a3d0a7f-8d3c-4ec9-88e1-32fb4b57acee", "service": "api"}}
{"timestamp": "2026-02-08T23:07:28.750061Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "db36093d-a242-44bb-806a-5a02ce0f62ae", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "db36093d-a242-44bb-806a-5a02ce0f62ae", "service": "api"}}
{"timestamp": "2026-02-08T23:07:28.752602Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ba7f74e3-557d-46dc-b4c5-cd6e2df25e7b", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ba7f74e3-557d-46dc-b4c5-cd6e2df25e7b", "service": "api"}}
{"timestamp": "2026-02-08T23:07:28.752602Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "db36093d-a242-44bb-806a-5a02ce0f62ae", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "db36093d-a242-44bb-806a-5a02ce0f62ae", "service": "api"}}
{"timestamp": "2026-02-08T23:07:28.763696Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ba7f74e3-557d-46dc-b4c5-cd6e2df25e7b", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ba7f74e3-557d-46dc-b4c5-cd6e2df25e7b", "service": "api"}}
{"timestamp": "2026-02-08T23:07:31.756495Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0f2c8fd2-7331-410e-b918-dca6c1a84136", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "0f2c8fd2-7331-410e-b918-dca6c1a84136", "service": "api"}}
{"timestamp": "2026-02-08T23:07:31.757564Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "b9bf90a6-5044-432a-8cfe-8b367d3e6ad5", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "b9bf90a6-5044-432a-8cfe-8b367d3e6ad5", "service": "api"}}
{"timestamp": "2026-02-08T23:07:31.758570Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0f2c8fd2-7331-410e-b918-dca6c1a84136", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "0f2c8fd2-7331-410e-b918-dca6c1a84136", "service": "api"}}
{"timestamp": "2026-02-08T23:07:31.767613Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "b9bf90a6-5044-432a-8cfe-8b367d3e6ad5", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "b9bf90a6-5044-432a-8cfe-8b367d3e6ad5", "service": "api"}}
{"timestamp": "2026-02-08T23:07:34.749855Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fb989744-2e92-4879-a265-8ce7083a8b34", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "fb989744-2e92-4879-a265-8ce7083a8b34", "service": "api"}}
{"timestamp": "2026-02-08T23:07:34.751363Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6da8fb36-b9f9-4d1a-8047-8518fc1ac15d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6da8fb36-b9f9-4d1a-8047-8518fc1ac15d", "service": "api"}}
{"timestamp": "2026-02-08T23:07:34.762277Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fb989744-2e92-4879-a265-8ce7083a8b34", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "fb989744-2e92-4879-a265-8ce7083a8b34", "service": "api"}}
{"timestamp": "2026-02-08T23:07:34.763278Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6da8fb36-b9f9-4d1a-8047-8518fc1ac15d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6da8fb36-b9f9-4d1a-8047-8518fc1ac15d", "service": "api"}}
{"timestamp": "2026-02-08T23:07:37.756690Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f6025a2f-c91b-4ed9-8c0b-722d5f5ae105", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "f6025a2f-c91b-4ed9-8c0b-722d5f5ae105", "service": "api"}}
{"timestamp": "2026-02-08T23:07:37.758691Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "3c0e1cc2-511f-43c7-8335-68cf4b5cf78f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "3c0e1cc2-511f-43c7-8335-68cf4b5cf78f", "service": "api"}}
{"timestamp": "2026-02-08T23:07:37.770866Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f6025a2f-c91b-4ed9-8c0b-722d5f5ae105", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "f6025a2f-c91b-4ed9-8c0b-722d5f5ae105", "service": "api"}}
{"timestamp": "2026-02-08T23:07:37.772902Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "3c0e1cc2-511f-43c7-8335-68cf4b5cf78f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "3c0e1cc2-511f-43c7-8335-68cf4b5cf78f", "service": "api"}}
{"timestamp": "2026-02-08T23:07:41.296758Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "da4c4de6-b7f1-46f2-af34-efa574372c87", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "da4c4de6-b7f1-46f2-af34-efa574372c87", "service": "api"}}
{"timestamp": "2026-02-08T23:07:41.297757Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "366ac29c-23a0-425c-b029-ec9eb65b6c75", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "366ac29c-23a0-425c-b029-ec9eb65b6c75", "service": "api"}}
{"timestamp": "2026-02-08T23:07:41.307126Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "da4c4de6-b7f1-46f2-af34-efa574372c87", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "da4c4de6-b7f1-46f2-af34-efa574372c87", "service": "api"}}
{"timestamp": "2026-02-08T23:07:41.308126Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "366ac29c-23a0-425c-b029-ec9eb65b6c75", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "366ac29c-23a0-425c-b029-ec9eb65b6c75", "service": "api"}}
{"timestamp": "2026-02-08T23:07:44.294352Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d6d01168-5ea0-4fd5-a389-a544b0d1ae5e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "d6d01168-5ea0-4fd5-a389-a544b0d1ae5e", "service": "api"}}
{"timestamp": "2026-02-08T23:07:44.296393Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8dbd3866-ad45-4a81-ae93-5b839e49d889", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8dbd3866-ad45-4a81-ae93-5b839e49d889", "service": "api"}}
{"timestamp": "2026-02-08T23:07:44.296393Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d6d01168-5ea0-4fd5-a389-a544b0d1ae5e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6d01168-5ea0-4fd5-a389-a544b0d1ae5e", "service": "api"}}
{"timestamp": "2026-02-08T23:07:44.306650Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8dbd3866-ad45-4a81-ae93-5b839e49d889", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8dbd3866-ad45-4a81-ae93-5b839e49d889", "service": "api"}}
{"timestamp": "2026-02-08T23:07:47.286345Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dc094d7b-866b-4a79-a6b9-d989cb6f3f9e", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "dc094d7b-866b-4a79-a6b9-d989cb6f3f9e", "service": "api"}}
{"timestamp": "2026-02-08T23:07:47.288347Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f9aa11c5-17ee-4199-919f-a1c026d34682", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "f9aa11c5-17ee-4199-919f-a1c026d34682", "service": "api"}}
{"timestamp": "2026-02-08T23:07:47.295865Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dc094d7b-866b-4a79-a6b9-d989cb6f3f9e", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "dc094d7b-866b-4a79-a6b9-d989cb6f3f9e", "service": "api"}}
{"timestamp": "2026-02-08T23:07:47.296864Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f9aa11c5-17ee-4199-919f-a1c026d34682", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "f9aa11c5-17ee-4199-919f-a1c026d34682", "service": "api"}}
{"timestamp": "2026-02-08T23:07:50.298552Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9c92fd1f-fae1-4d7c-8a19-5509d149e20a", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "9c92fd1f-fae1-4d7c-8a19-5509d149e20a", "service": "api"}}
{"timestamp": "2026-02-08T23:07:50.300548Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4100805a-6768-4f85-90ec-15fb43ccf5a7", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "4100805a-6768-4f85-90ec-15fb43ccf5a7", "service": "api"}}
{"timestamp": "2026-02-08T23:07:50.300548Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9c92fd1f-fae1-4d7c-8a19-5509d149e20a", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "9c92fd1f-fae1-4d7c-8a19-5509d149e20a", "service": "api"}}
{"timestamp": "2026-02-08T23:07:50.311503Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4100805a-6768-4f85-90ec-15fb43ccf5a7", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "4100805a-6768-4f85-90ec-15fb43ccf5a7", "service": "api"}}
{"timestamp": "2026-02-08T23:07:53.289573Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a7da2052-7bc1-48c7-ad60-4bb862eeea4f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a7da2052-7bc1-48c7-ad60-4bb862eeea4f", "service": "api"}}
{"timestamp": "2026-02-08T23:07:53.290572Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "55224faa-5d7c-4f72-ab86-c950761a8684", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "55224faa-5d7c-4f72-ab86-c950761a8684", "service": "api"}}
{"timestamp": "2026-02-08T23:07:53.299543Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a7da2052-7bc1-48c7-ad60-4bb862eeea4f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a7da2052-7bc1-48c7-ad60-4bb862eeea4f", "service": "api"}}
{"timestamp": "2026-02-08T23:07:53.300544Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "55224faa-5d7c-4f72-ab86-c950761a8684", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "55224faa-5d7c-4f72-ab86-c950761a8684", "service": "api"}}
{"timestamp": "2026-02-08T23:07:56.284948Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "7bbbdb31-8023-43b7-ac79-949b5a72ca44", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "7bbbdb31-8023-43b7-ac79-949b5a72ca44", "service": "api"}}
{"timestamp": "2026-02-08T23:07:56.285949Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "45a58ceb-eb85-456b-be4c-c8a7b982f0c2", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "45a58ceb-eb85-456b-be4c-c8a7b982f0c2", "service": "api"}}
{"timestamp": "2026-02-08T23:07:56.295544Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "7bbbdb31-8023-43b7-ac79-949b5a72ca44", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "7bbbdb31-8023-43b7-ac79-949b5a72ca44", "service": "api"}}
{"timestamp": "2026-02-08T23:07:56.296547Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "45a58ceb-eb85-456b-be4c-c8a7b982f0c2", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "45a58ceb-eb85-456b-be4c-c8a7b982f0c2", "service": "api"}}
{"timestamp": "2026-02-08T23:07:59.288988Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a0822740-eb4b-490c-bf8c-8057c4922dac", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a0822740-eb4b-490c-bf8c-8057c4922dac", "service": "api"}}
{"timestamp": "2026-02-08T23:07:59.289503Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "0678d8a2-7f12-4930-bacf-1141cb9f6bf6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "0678d8a2-7f12-4930-bacf-1141cb9f6bf6", "service": "api"}}
{"timestamp": "2026-02-08T23:07:59.297840Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a0822740-eb4b-490c-bf8c-8057c4922dac", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a0822740-eb4b-490c-bf8c-8057c4922dac", "service": "api"}}
{"timestamp": "2026-02-08T23:07:59.298838Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "0678d8a2-7f12-4930-bacf-1141cb9f6bf6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "0678d8a2-7f12-4930-bacf-1141cb9f6bf6", "service": "api"}}
{"timestamp": "2026-02-08T23:08:02.295173Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6f363373-d13f-4b27-bc52-ad28dd4cfd39", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6f363373-d13f-4b27-bc52-ad28dd4cfd39", "service": "api"}}
{"timestamp": "2026-02-08T23:08:02.296183Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "4173d4e1-eb9e-4b53-a9eb-41fd8a559eb7", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "4173d4e1-eb9e-4b53-a9eb-41fd8a559eb7", "service": "api"}}
{"timestamp": "2026-02-08T23:08:02.296183Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6f363373-d13f-4b27-bc52-ad28dd4cfd39", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6f363373-d13f-4b27-bc52-ad28dd4cfd39", "service": "api"}}
{"timestamp": "2026-02-08T23:08:02.307768Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "4173d4e1-eb9e-4b53-a9eb-41fd8a559eb7", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "4173d4e1-eb9e-4b53-a9eb-41fd8a559eb7", "service": "api"}}
{"timestamp": "2026-02-08T23:08:04.008568Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.refiner", "message": "Refinement successful for 'Optimale Atteinte : Analyse du R\u00e9sultat' (Turn 2)", "module": "refiner", "function": "refine", "line": 191, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"attempts": 2, "static_failures": 0, "runtime_failures": 1, "deterministic_fixes": 0, "llm_fixes": 1, "deferred_to_visual_qc": 0, "skipped_whitelisted": 0, "refinement_stage": "success", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_refiner"}}
{"timestamp": "2026-02-08T23:08:04.009566Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Preparing scene: SectionConclusionSolution", "module": "generator", "function": "process_code_and_render", "line": 225, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "manim_generator"}}
{"timestamp": "2026-02-08T23:08:04.011564Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Code file written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\6\\scene_6.py (5634 bytes)", "module": "file_manager", "function": "prepare_scene_file", "line": 53, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_file_manager"}}
{"timestamp": "2026-02-08T23:08:04.011564Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Rendering section 6 Scene: SectionConclusionSolution", "module": "renderer", "function": "render_scene", "line": 108, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:08:05.282732Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8d5709f1-1b82-4395-9a85-ba4c07d6c3e6", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8d5709f1-1b82-4395-9a85-ba4c07d6c3e6", "service": "api"}}
{"timestamp": "2026-02-08T23:08:05.284155Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2a86a2b0-a359-4239-ab7e-985b3fa8da36", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "2a86a2b0-a359-4239-ab7e-985b3fa8da36", "service": "api"}}
{"timestamp": "2026-02-08T23:08:05.291662Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8d5709f1-1b82-4395-9a85-ba4c07d6c3e6", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8d5709f1-1b82-4395-9a85-ba4c07d6c3e6", "service": "api"}}
{"timestamp": "2026-02-08T23:08:05.292911Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2a86a2b0-a359-4239-ab7e-985b3fa8da36", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "2a86a2b0-a359-4239-ab7e-985b3fa8da36", "service": "api"}}
{"timestamp": "2026-02-08T23:08:08.297158Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "237f4de3-fcf7-4f7d-a918-20b44e560575", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "237f4de3-fcf7-4f7d-a918-20b44e560575", "service": "api"}}
{"timestamp": "2026-02-08T23:08:08.298170Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d824ee6a-0787-438a-bb47-85c9249fa459", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "d824ee6a-0787-438a-bb47-85c9249fa459", "service": "api"}}
{"timestamp": "2026-02-08T23:08:08.307657Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "237f4de3-fcf7-4f7d-a918-20b44e560575", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "237f4de3-fcf7-4f7d-a918-20b44e560575", "service": "api"}}
{"timestamp": "2026-02-08T23:08:08.310659Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d824ee6a-0787-438a-bb47-85c9249fa459", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "d824ee6a-0787-438a-bb47-85c9249fa459", "service": "api"}}
{"timestamp": "2026-02-08T23:08:11.291519Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6bc33523-8d8a-4c4d-b85b-fc593dd799bf", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "6bc33523-8d8a-4c4d-b85b-fc593dd799bf", "service": "api"}}
{"timestamp": "2026-02-08T23:08:11.292532Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "86c95a9e-6972-4649-b77c-3522be344cdf", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "86c95a9e-6972-4649-b77c-3522be344cdf", "service": "api"}}
{"timestamp": "2026-02-08T23:08:11.305695Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6bc33523-8d8a-4c4d-b85b-fc593dd799bf", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "6bc33523-8d8a-4c4d-b85b-fc593dd799bf", "service": "api"}}
{"timestamp": "2026-02-08T23:08:11.308222Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "86c95a9e-6972-4649-b77c-3522be344cdf", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "86c95a9e-6972-4649-b77c-3522be344cdf", "service": "api"}}
{"timestamp": "2026-02-08T23:08:14.294575Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fa1d8f98-0fcd-400f-b065-6a5db494a6af", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "fa1d8f98-0fcd-400f-b065-6a5db494a6af", "service": "api"}}
{"timestamp": "2026-02-08T23:08:14.295573Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2955100e-4be4-411d-bb2e-f3f5be15dd18", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "2955100e-4be4-411d-bb2e-f3f5be15dd18", "service": "api"}}
{"timestamp": "2026-02-08T23:08:14.305671Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fa1d8f98-0fcd-400f-b065-6a5db494a6af", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "fa1d8f98-0fcd-400f-b065-6a5db494a6af", "service": "api"}}
{"timestamp": "2026-02-08T23:08:14.307672Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2955100e-4be4-411d-bb2e-f3f5be15dd18", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "2955100e-4be4-411d-bb2e-f3f5be15dd18", "service": "api"}}
{"timestamp": "2026-02-08T23:08:17.293797Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d3ce87a1-bb94-47a3-be21-0664d5e3fd47", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "d3ce87a1-bb94-47a3-be21-0664d5e3fd47", "service": "api"}}
{"timestamp": "2026-02-08T23:08:17.294804Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c12b331c-1c00-4117-aa7d-fe3262b55068", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "c12b331c-1c00-4117-aa7d-fe3262b55068", "service": "api"}}
{"timestamp": "2026-02-08T23:08:17.303198Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d3ce87a1-bb94-47a3-be21-0664d5e3fd47", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d3ce87a1-bb94-47a3-be21-0664d5e3fd47", "service": "api"}}
{"timestamp": "2026-02-08T23:08:17.305009Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c12b331c-1c00-4117-aa7d-fe3262b55068", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "c12b331c-1c00-4117-aa7d-fe3262b55068", "service": "api"}}
{"timestamp": "2026-02-08T23:08:20.296253Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "636609e5-cd7b-418b-bdfd-70fc85af51ef", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "636609e5-cd7b-418b-bdfd-70fc85af51ef", "service": "api"}}
{"timestamp": "2026-02-08T23:08:20.297244Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f29c3d3a-b791-47af-867c-86a890a933d0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "f29c3d3a-b791-47af-867c-86a890a933d0", "service": "api"}}
{"timestamp": "2026-02-08T23:08:20.303756Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "636609e5-cd7b-418b-bdfd-70fc85af51ef", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "636609e5-cd7b-418b-bdfd-70fc85af51ef", "service": "api"}}
{"timestamp": "2026-02-08T23:08:20.304761Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f29c3d3a-b791-47af-867c-86a890a933d0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "f29c3d3a-b791-47af-867c-86a890a933d0", "service": "api"}}
{"timestamp": "2026-02-08T23:08:23.295283Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "9ae6f212-12f4-408a-9260-f726d86dc5dd", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "9ae6f212-12f4-408a-9260-f726d86dc5dd", "service": "api"}}
{"timestamp": "2026-02-08T23:08:23.296285Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "208761ee-e4e4-46b8-8f56-37ece548368c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "208761ee-e4e4-46b8-8f56-37ece548368c", "service": "api"}}
{"timestamp": "2026-02-08T23:08:23.297281Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "9ae6f212-12f4-408a-9260-f726d86dc5dd", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "9ae6f212-12f4-408a-9260-f726d86dc5dd", "service": "api"}}
{"timestamp": "2026-02-08T23:08:23.306294Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "208761ee-e4e4-46b8-8f56-37ece548368c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "208761ee-e4e4-46b8-8f56-37ece548368c", "service": "api"}}
{"timestamp": "2026-02-08T23:08:26.291690Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d1a06231-6ec3-4653-9b5d-2f40ad0cecc1", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "d1a06231-6ec3-4653-9b5d-2f40ad0cecc1", "service": "api"}}
{"timestamp": "2026-02-08T23:08:26.292195Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "bc9ee51b-9652-4cd8-ab0f-33caca7369cf", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "bc9ee51b-9652-4cd8-ab0f-33caca7369cf", "service": "api"}}
{"timestamp": "2026-02-08T23:08:26.292195Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d1a06231-6ec3-4653-9b5d-2f40ad0cecc1", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d1a06231-6ec3-4653-9b5d-2f40ad0cecc1", "service": "api"}}
{"timestamp": "2026-02-08T23:08:26.299709Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "bc9ee51b-9652-4cd8-ab0f-33caca7369cf", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "bc9ee51b-9652-4cd8-ab0f-33caca7369cf", "service": "api"}}
{"timestamp": "2026-02-08T23:08:29.284753Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a15afd48-caa7-4364-a12e-61c312f0b763", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "a15afd48-caa7-4364-a12e-61c312f0b763", "service": "api"}}
{"timestamp": "2026-02-08T23:08:29.285754Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "dbb82d10-f410-4823-b99a-a8deb5218ff0", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "dbb82d10-f410-4823-b99a-a8deb5218ff0", "service": "api"}}
{"timestamp": "2026-02-08T23:08:29.286755Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a15afd48-caa7-4364-a12e-61c312f0b763", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "a15afd48-caa7-4364-a12e-61c312f0b763", "service": "api"}}
{"timestamp": "2026-02-08T23:08:29.293260Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "dbb82d10-f410-4823-b99a-a8deb5218ff0", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "dbb82d10-f410-4823-b99a-a8deb5218ff0", "service": "api"}}
{"timestamp": "2026-02-08T23:08:32.294434Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2017105d-ceb3-4787-a54e-2ddfc99ed52f", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2017105d-ceb3-4787-a54e-2ddfc99ed52f", "service": "api"}}
{"timestamp": "2026-02-08T23:08:32.295436Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "a768be04-f3a4-4e9c-9207-717fc16fdc61", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "a768be04-f3a4-4e9c-9207-717fc16fdc61", "service": "api"}}
{"timestamp": "2026-02-08T23:08:32.295436Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2017105d-ceb3-4787-a54e-2ddfc99ed52f", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2017105d-ceb3-4787-a54e-2ddfc99ed52f", "service": "api"}}
{"timestamp": "2026-02-08T23:08:32.303459Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "a768be04-f3a4-4e9c-9207-717fc16fdc61", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "a768be04-f3a4-4e9c-9207-717fc16fdc61", "service": "api"}}
{"timestamp": "2026-02-08T23:08:35.297331Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "f49a0305-e5ff-4016-a323-ca7f5a9eb04d", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "f49a0305-e5ff-4016-a323-ca7f5a9eb04d", "service": "api"}}
{"timestamp": "2026-02-08T23:08:35.298842Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "ad0ef9c8-9208-41d0-896d-f410fc425fde", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "ad0ef9c8-9208-41d0-896d-f410fc425fde", "service": "api"}}
{"timestamp": "2026-02-08T23:08:35.299851Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "f49a0305-e5ff-4016-a323-ca7f5a9eb04d", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "f49a0305-e5ff-4016-a323-ca7f5a9eb04d", "service": "api"}}
{"timestamp": "2026-02-08T23:08:35.307378Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "ad0ef9c8-9208-41d0-896d-f410fc425fde", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "ad0ef9c8-9208-41d0-896d-f410fc425fde", "service": "api"}}
{"timestamp": "2026-02-08T23:08:38.289052Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "2b08bd35-69da-496a-afd7-87fa1c6beb10", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "2b08bd35-69da-496a-afd7-87fa1c6beb10", "service": "api"}}
{"timestamp": "2026-02-08T23:08:38.290557Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8726da09-4408-4fa2-9035-8529eb1b6c91", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "8726da09-4408-4fa2-9035-8529eb1b6c91", "service": "api"}}
{"timestamp": "2026-02-08T23:08:38.297065Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "2b08bd35-69da-496a-afd7-87fa1c6beb10", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "2b08bd35-69da-496a-afd7-87fa1c6beb10", "service": "api"}}
{"timestamp": "2026-02-08T23:08:38.298070Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8726da09-4408-4fa2-9035-8529eb1b6c91", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "8726da09-4408-4fa2-9035-8529eb1b6c91", "service": "api"}}
{"timestamp": "2026-02-08T23:08:47.245101Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.renderer", "message": "Successfully rendered video: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections\\6\\videos\\scene_6\\480p15\\section_6.mp4", "module": "renderer", "function": "render_scene", "line": 148, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "animation_renderer"}}
{"timestamp": "2026-02-08T23:08:47.371761Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Merging video (43.7s) with audio (44.0s)", "module": "sections", "function": "process_segments_audio_first", "line": 1389, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:08:48.185561Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 6: Successfully created unified video", "module": "sections", "function": "process_segments_audio_first", "line": 1410, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_processor"}}
{"timestamp": "2026-02-08T23:08:48.187863Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Section 7/7 completed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "sections", "progress": 100, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T23:08:48.189336Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Finished section 7/7", "module": "orchestrator", "function": "_process_single_section", "line": 337, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_index": 6, "total_sections": 7, "has_video": true, "has_audio": true, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:08:48.190342Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] All sections processed", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "sections", "progress": 100, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T23:08:48.190342Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Section processing complete", "module": "orchestrator", "function": "process_sections_parallel", "line": 185, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"total_sections": 7, "successful": 7, "failed": 0, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:08:48.190342Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Completed: process_sections_parallel (7 sections)", "module": "logging", "function": "__exit__", "line": 345, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"duration_seconds": 731.7708969116211, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:08:48.190342Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Aggregated section results", "module": "orchestrator", "function": "aggregate_results", "line": 442, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"video_count": 7, "audio_count": 7, "chapter_count": 7, "total_duration": 308.832, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "section_orchestrator"}}
{"timestamp": "2026-02-08T23:08:48.194101Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Saved updated script with section metadata", "module": "video_generator", "function": "generate_video", "line": 289, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_count": 7, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_generator"}}
{"timestamp": "2026-02-08T23:08:48.195335Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[combining] Combining sections...", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "combining", "progress": 0, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T23:08:48.195335Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Starting: combine_sections (7 sections)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_processor"}}
{"timestamp": "2026-02-08T23:08:48.196341Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Combining sections with FFmpeg helpers", "module": "processor", "function": "combine_sections", "line": 73, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"section_count": 7, "output_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\final_video.mp4", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_processor"}}
{"timestamp": "2026-02-08T23:08:54.630186Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Completed: combine_sections (7 sections)", "module": "logging", "function": "__exit__", "line": 345, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"duration_seconds": 6.434851169586182, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_processor"}}
{"timestamp": "2026-02-08T23:08:54.631696Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[combining] Video complete!", "module": "progress", "function": "report_stage_progress", "line": 231, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"stage": "combining", "progress": 100, "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "progress_tracker"}}
{"timestamp": "2026-02-08T23:08:54.632704Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Cleaning up intermediate files", "module": "video_generator", "function": "_cleanup_intermediate_files", "line": 431, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"sections_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\sections", "job_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_generator"}}
{"timestamp": "2026-02-08T23:08:54.866741Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Cleanup complete", "module": "video_generator", "function": "_cleanup_intermediate_files", "line": 452, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"files_removed": 3, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_generator"}}
{"timestamp": "2026-02-08T23:08:54.867246Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Video generation completed successfully", "module": "video_generator", "function": "generate_video", "line": 326, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "video_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\16810011-d592-4d2b-838b-981d7a4e3335\\final_video.mp4", "section_count": 7, "total_duration": 308.832, "total_cost": 0.1974, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "component": "video_generator"}}
{"timestamp": "2026-02-08T23:08:54.867246Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Completed: generate_video (job: 16810011)", "module": "logging", "function": "__exit__", "line": 345, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "extra": {"duration_seconds": 812.1493790149689, "request_id": "d6ef9b01-dea8-4fba-9bba-154455dc6c87", "job_id": "16810011-d592-4d2b-838b-981d7a4e3335", "component": "video_generator"}}
{"timestamp": "2026-02-08T23:09:00.607081Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "8771f686-f0df-49ea-99b5-1a0a91549fdb", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "client": "127.0.0.1", "request_id": "8771f686-f0df-49ea-99b5-1a0a91549fdb", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.610079Z", "level": "INFO", "logger": "app.main", "message": "GET /job/16810011-d592-4d2b-838b-981d7a4e3335/details", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "6faaeb1c-82b1-4fac-bc1f-61023ef9fa8c", "extra": {"method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "client": "127.0.0.1", "request_id": "6faaeb1c-82b1-4fac-bc1f-61023ef9fa8c", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.611079Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "8771f686-f0df-49ea-99b5-1a0a91549fdb", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335", "request_id": "8771f686-f0df-49ea-99b5-1a0a91549fdb", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.612079Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "6faaeb1c-82b1-4fac-bc1f-61023ef9fa8c", "extra": {"status_code": 200, "method": "GET", "path": "/job/16810011-d592-4d2b-838b-981d7a4e3335/details", "request_id": "6faaeb1c-82b1-4fac-bc1f-61023ef9fa8c", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.624792Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "c5840baf-3714-4b57-b1c1-0138b503638a", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "client": "127.0.0.1", "request_id": "c5840baf-3714-4b57-b1c1-0138b503638a", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.626792Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "c5840baf-3714-4b57-b1c1-0138b503638a", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "request_id": "c5840baf-3714-4b57-b1c1-0138b503638a", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.632822Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T23:09:00.634303Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "99cb120f-3c8d-48d2-812b-657d2c8e9184", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "client": "127.0.0.1", "request_id": "99cb120f-3c8d-48d2-812b-657d2c8e9184", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.637769Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "99cb120f-3c8d-48d2-812b-657d2c8e9184", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "request_id": "99cb120f-3c8d-48d2-812b-657d2c8e9184", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.660354Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "14cfbb8a-5827-4ca0-9de8-21530adf73c6", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "client": "127.0.0.1", "request_id": "14cfbb8a-5827-4ca0-9de8-21530adf73c6", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.661863Z", "level": "INFO", "logger": "app.main", "message": "Response: 304", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "14cfbb8a-5827-4ca0-9de8-21530adf73c6", "extra": {"status_code": 304, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "request_id": "14cfbb8a-5827-4ca0-9de8-21530adf73c6", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.980506Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "fb5e0254-b4b9-4be7-95bb-c3ed317cc423", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "client": "127.0.0.1", "request_id": "fb5e0254-b4b9-4be7-95bb-c3ed317cc423", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.983019Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "fb5e0254-b4b9-4be7-95bb-c3ed317cc423", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "request_id": "fb5e0254-b4b9-4be7-95bb-c3ed317cc423", "service": "api"}}
{"timestamp": "2026-02-08T23:09:00.987022Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1833, "exception": {"type": "ConnectionResetError", "message": "[WinError 10054] An existing connection was forcibly closed by the remote host", "traceback": "Traceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}}
{"timestamp": "2026-02-08T23:09:22.322324Z", "level": "INFO", "logger": "app.main", "message": "GET /outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "module": "main", "function": "add_request_correlation", "line": 186, "request_id": "d54e767e-d103-473d-95ac-a89a8f5b5cbc", "extra": {"method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "client": "127.0.0.1", "request_id": "d54e767e-d103-473d-95ac-a89a8f5b5cbc", "service": "api"}}
{"timestamp": "2026-02-08T23:09:22.324696Z", "level": "INFO", "logger": "app.main", "message": "Response: 206", "module": "main", "function": "add_request_correlation", "line": 230, "request_id": "d54e767e-d103-473d-95ac-a89a8f5b5cbc", "extra": {"status_code": 206, "method": "GET", "path": "/outputs/16810011-d592-4d2b-838b-981d7a4e3335/final_video.mp4", "request_id": "d54e767e-d103-473d-95ac-a89a8f5b5cbc", "service": "api"}}
{"timestamp": "2026-02-08T23:40:31.339113Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T00:40:32.002196Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T20:18:45.225903Z", "level": "INFO", "logger": "__main__", "message": "Starting MathViz Backend API", "module": "main", "function": "<module>", "line": 65, "extra": {"log_level": "INFO", "json_logs": false, "service": "api"}}
{"timestamp": "2026-02-09T20:18:45.227080Z", "level": "INFO", "logger": "__main__", "message": "Authentication mode", "module": "main", "function": "<module>", "line": 70, "extra": {"auth_enabled": true, "public_paths": {"exact": ["/", "/auth/login", "/auth/logout", "/auth/session", "/docs", "/health", "/openapi.json", "/redoc"], "prefixes": ["/docs/", "/redoc/", "/static/", "/outputs/"]}, "service": "api"}}
{"timestamp": "2026-02-09T20:19:13.922961Z", "level": "INFO", "logger": "app.main", "message": "Starting MathViz Backend API", "module": "main", "function": "<module>", "line": 65, "extra": {"log_level": "INFO", "json_logs": false, "service": "api"}}
{"timestamp": "2026-02-09T20:19:13.923507Z", "level": "INFO", "logger": "app.main", "message": "Authentication mode", "module": "main", "function": "<module>", "line": 70, "extra": {"auth_enabled": true, "public_paths": {"exact": ["/", "/auth/login", "/auth/logout", "/auth/session", "/docs", "/health", "/openapi.json", "/redoc"], "prefixes": ["/docs/", "/redoc/", "/static/", "/outputs/"]}, "service": "api"}}
{"timestamp": "2026-02-09T20:19:29.342816Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "extra": {"component": "video_processor"}}
{"timestamp": "2026-02-09T20:19:29.342816Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "component": "video_generator"}}
{"timestamp": "2026-02-09T20:19:29.385625Z", "level": "INFO", "logger": "app.services.infrastructure.orchestration.lifecycle", "message": "Startup runtime checks complete", "module": "lifecycle", "function": "run_startup", "line": 52, "extra": {"runtime_report": {"directories": {"output": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "writable": true}, "upload": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads", "writable": true}}, "tools": {"required": ["ffmpeg", "ffprobe", "manim"], "missing": ["manim"]}, "ok": true}, "service": "lifecycle"}}
{"timestamp": "2026-02-09T20:19:29.454427Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T20:19:29.475242Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T20:19:30.526141Z", "level": "INFO", "logger": "app.main", "message": "GET /health", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "a51e0c04-5a5d-44a9-bba2-375b6778b4d8", "extra": {"method": "GET", "path": "/health", "client": "127.0.0.1", "request_id": "a51e0c04-5a5d-44a9-bba2-375b6778b4d8", "service": "api"}}
{"timestamp": "2026-02-09T20:19:30.547514Z", "level": "WARNING", "logger": "app.main", "message": "Health check: manim not found in PATH (REQUIRED)", "module": "main", "function": "health_check", "line": 240, "request_id": "a51e0c04-5a5d-44a9-bba2-375b6778b4d8", "extra": {"request_id": "a51e0c04-5a5d-44a9-bba2-375b6778b4d8", "service": "api"}}
{"timestamp": "2026-02-09T20:19:30.591009Z", "level": "INFO", "logger": "app.main", "message": "Health check: ruff not found in PATH (optional - type checking disabled)", "module": "main", "function": "health_check", "line": 242, "request_id": "a51e0c04-5a5d-44a9-bba2-375b6778b4d8", "extra": {"request_id": "a51e0c04-5a5d-44a9-bba2-375b6778b4d8", "service": "api"}}
{"timestamp": "2026-02-09T20:19:30.618773Z", "level": "INFO", "logger": "app.main", "message": "Response: 503", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "a51e0c04-5a5d-44a9-bba2-375b6778b4d8", "extra": {"status_code": 503, "method": "GET", "path": "/health", "request_id": "a51e0c04-5a5d-44a9-bba2-375b6778b4d8", "service": "api"}}
{"timestamp": "2026-02-09T20:19:49.407475Z", "level": "INFO", "logger": "app.main", "message": "GET /health", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "d6642818-6e37-4682-809c-83a73c5f763a", "extra": {"method": "GET", "path": "/health", "client": "127.0.0.1", "request_id": "d6642818-6e37-4682-809c-83a73c5f763a", "service": "api"}}
{"timestamp": "2026-02-09T20:19:49.423341Z", "level": "WARNING", "logger": "app.main", "message": "Health check: manim not found in PATH (REQUIRED)", "module": "main", "function": "health_check", "line": 240, "request_id": "d6642818-6e37-4682-809c-83a73c5f763a", "extra": {"request_id": "d6642818-6e37-4682-809c-83a73c5f763a", "service": "api"}}
{"timestamp": "2026-02-09T20:19:49.454223Z", "level": "INFO", "logger": "app.main", "message": "Health check: ruff not found in PATH (optional - type checking disabled)", "module": "main", "function": "health_check", "line": 242, "request_id": "d6642818-6e37-4682-809c-83a73c5f763a", "extra": {"request_id": "d6642818-6e37-4682-809c-83a73c5f763a", "service": "api"}}
{"timestamp": "2026-02-09T20:19:49.479608Z", "level": "INFO", "logger": "app.main", "message": "Response: 503", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "d6642818-6e37-4682-809c-83a73c5f763a", "extra": {"status_code": 503, "method": "GET", "path": "/health", "request_id": "d6642818-6e37-4682-809c-83a73c5f763a", "service": "api"}}
{"timestamp": "2026-02-09T20:44:08.513846Z", "level": "INFO", "logger": "app.main", "message": "Starting MathViz Backend API", "module": "main", "function": "<module>", "line": 65, "extra": {"log_level": "INFO", "json_logs": false, "service": "api"}}
{"timestamp": "2026-02-09T20:44:08.514412Z", "level": "INFO", "logger": "app.main", "message": "Authentication mode", "module": "main", "function": "<module>", "line": 70, "extra": {"auth_enabled": true, "public_paths": {"exact": ["/", "/auth/login", "/auth/logout", "/auth/session", "/docs", "/health", "/openapi.json", "/redoc"], "prefixes": ["/docs/", "/redoc/", "/static/", "/outputs/"]}, "service": "api"}}
{"timestamp": "2026-02-09T20:44:18.540655Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "extra": {"component": "video_processor"}}
{"timestamp": "2026-02-09T20:44:18.541163Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "component": "video_generator"}}
{"timestamp": "2026-02-09T20:44:18.567136Z", "level": "INFO", "logger": "app.services.infrastructure.orchestration.lifecycle", "message": "Startup runtime checks complete", "module": "lifecycle", "function": "run_startup", "line": 52, "extra": {"runtime_report": {"directories": {"output": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "writable": true}, "upload": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads", "writable": true}}, "tools": {"required": ["ffmpeg", "ffprobe", "manim"], "missing": ["manim"]}, "ok": true}, "service": "lifecycle"}}
{"timestamp": "2026-02-09T20:44:18.626080Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T20:44:18.643904Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T20:44:23.868954Z", "level": "INFO", "logger": "app.main", "message": "GET /health", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "e37adc46-6e6c-4c6c-aef3-d1db1f05424e", "extra": {"method": "GET", "path": "/health", "client": "127.0.0.1", "request_id": "e37adc46-6e6c-4c6c-aef3-d1db1f05424e", "service": "api"}}
{"timestamp": "2026-02-09T20:44:23.886843Z", "level": "WARNING", "logger": "app.main", "message": "Health check: manim not found in PATH (REQUIRED)", "module": "main", "function": "health_check", "line": 240, "request_id": "e37adc46-6e6c-4c6c-aef3-d1db1f05424e", "extra": {"request_id": "e37adc46-6e6c-4c6c-aef3-d1db1f05424e", "service": "api"}}
{"timestamp": "2026-02-09T20:44:23.916540Z", "level": "INFO", "logger": "app.main", "message": "Health check: ruff not found in PATH (optional - type checking disabled)", "module": "main", "function": "health_check", "line": 242, "request_id": "e37adc46-6e6c-4c6c-aef3-d1db1f05424e", "extra": {"request_id": "e37adc46-6e6c-4c6c-aef3-d1db1f05424e", "service": "api"}}
{"timestamp": "2026-02-09T20:44:23.957497Z", "level": "INFO", "logger": "app.main", "message": "Response: 503", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "e37adc46-6e6c-4c6c-aef3-d1db1f05424e", "extra": {"status_code": 503, "method": "GET", "path": "/health", "request_id": "e37adc46-6e6c-4c6c-aef3-d1db1f05424e", "service": "api"}}
{"timestamp": "2026-02-09T21:12:31.435036Z", "level": "INFO", "logger": "app.main", "message": "Starting MathViz Backend API", "module": "main", "function": "<module>", "line": 65, "extra": {"log_level": "INFO", "json_logs": false, "service": "api"}}
{"timestamp": "2026-02-09T21:12:31.435036Z", "level": "INFO", "logger": "app.main", "message": "Authentication mode", "module": "main", "function": "<module>", "line": 70, "extra": {"auth_enabled": true, "public_paths": {"exact": ["/", "/auth/login", "/auth/logout", "/auth/session", "/docs", "/health", "/openapi.json", "/redoc"], "prefixes": ["/docs/", "/redoc/", "/static/", "/outputs/"]}, "service": "api"}}
{"timestamp": "2026-02-09T21:12:40.024210Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "extra": {"component": "video_processor"}}
{"timestamp": "2026-02-09T21:12:40.024210Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "component": "video_generator"}}
{"timestamp": "2026-02-09T21:12:40.035769Z", "level": "INFO", "logger": "app.services.infrastructure.orchestration.lifecycle", "message": "Startup runtime checks complete", "module": "lifecycle", "function": "run_startup", "line": 52, "extra": {"runtime_report": {"directories": {"output": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "writable": true}, "upload": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads", "writable": true}}, "tools": {"required": ["ffmpeg", "ffprobe", "manim"], "missing": []}, "ok": true}, "service": "lifecycle"}}
{"timestamp": "2026-02-09T21:12:40.075558Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T21:12:40.086370Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T21:16:14.439970Z", "level": "INFO", "logger": "app.main", "message": "Starting MathViz Backend API", "module": "main", "function": "<module>", "line": 65, "extra": {"log_level": "INFO", "json_logs": false, "service": "api"}}
{"timestamp": "2026-02-09T21:16:14.439970Z", "level": "INFO", "logger": "app.main", "message": "Authentication mode", "module": "main", "function": "<module>", "line": 70, "extra": {"auth_enabled": false, "public_paths": {"exact": ["/", "/auth/login", "/auth/logout", "/auth/session", "/docs", "/health", "/openapi.json", "/redoc"], "prefixes": ["/docs/", "/redoc/", "/static/", "/outputs/"]}, "service": "api"}}
{"timestamp": "2026-02-09T21:16:26.224388Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "extra": {"component": "video_processor"}}
{"timestamp": "2026-02-09T21:16:26.224388Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "component": "video_generator"}}
{"timestamp": "2026-02-09T21:16:26.243537Z", "level": "INFO", "logger": "app.services.infrastructure.orchestration.lifecycle", "message": "Startup runtime checks complete", "module": "lifecycle", "function": "run_startup", "line": 52, "extra": {"runtime_report": {"directories": {"output": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "writable": true}, "upload": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads", "writable": true}}, "tools": {"required": ["ffmpeg", "ffprobe", "manim"], "missing": []}, "ok": true}, "service": "lifecycle"}}
{"timestamp": "2026-02-09T21:16:26.273374Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T21:16:26.295532Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T21:16:54.308908Z", "level": "INFO", "logger": "app.main", "message": "GET /auth/session", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "25389a7f-3671-4b0e-9627-218977b48ea0", "extra": {"method": "GET", "path": "/auth/session", "client": "127.0.0.1", "request_id": "25389a7f-3671-4b0e-9627-218977b48ea0", "service": "api"}}
{"timestamp": "2026-02-09T21:16:54.310910Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "25389a7f-3671-4b0e-9627-218977b48ea0", "extra": {"status_code": 200, "method": "GET", "path": "/auth/session", "request_id": "25389a7f-3671-4b0e-9627-218977b48ea0", "service": "api"}}
{"timestamp": "2026-02-09T21:16:54.314026Z", "level": "INFO", "logger": "app.main", "message": "GET /auth/session", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "26476bba-56d0-44e3-8fd1-9a039713bafb", "extra": {"method": "GET", "path": "/auth/session", "client": "127.0.0.1", "request_id": "26476bba-56d0-44e3-8fd1-9a039713bafb", "service": "api"}}
{"timestamp": "2026-02-09T21:16:54.314026Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "26476bba-56d0-44e3-8fd1-9a039713bafb", "extra": {"status_code": 200, "method": "GET", "path": "/auth/session", "request_id": "26476bba-56d0-44e3-8fd1-9a039713bafb", "service": "api"}}
{"timestamp": "2026-02-09T21:17:04.966229Z", "level": "INFO", "logger": "app.main", "message": "Starting MathViz Backend API", "module": "main", "function": "<module>", "line": 65, "extra": {"log_level": "INFO", "json_logs": false, "service": "api"}}
{"timestamp": "2026-02-09T21:17:04.966229Z", "level": "INFO", "logger": "app.main", "message": "Authentication mode", "module": "main", "function": "<module>", "line": 70, "extra": {"auth_enabled": true, "public_paths": {"exact": ["/", "/auth/login", "/auth/logout", "/auth/session", "/docs", "/health", "/openapi.json", "/redoc"], "prefixes": ["/docs/", "/redoc/", "/static/", "/outputs/"]}, "service": "api"}}
{"timestamp": "2026-02-09T21:17:14.918015Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "extra": {"component": "video_processor"}}
{"timestamp": "2026-02-09T21:17:14.918015Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "component": "video_generator"}}
{"timestamp": "2026-02-09T21:17:14.929666Z", "level": "INFO", "logger": "app.services.infrastructure.orchestration.lifecycle", "message": "Startup runtime checks complete", "module": "lifecycle", "function": "run_startup", "line": 52, "extra": {"runtime_report": {"directories": {"output": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "writable": true}, "upload": {"path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads", "writable": true}}, "tools": {"required": ["ffmpeg", "ffprobe", "manim"], "missing": []}, "ok": true}, "service": "lifecycle"}}
{"timestamp": "2026-02-09T21:17:14.966496Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T21:17:14.987039Z", "level": "INFO", "logger": "app.services.infrastructure.storage.output_cleanup", "message": "Output cleanup pass complete", "module": "output_cleanup", "function": "run_once", "line": 303, "extra": {"enabled": true, "keep_only_final": true, "upload_cleanup_enabled": true, "deleted_output_dirs": 0, "pruned_artifacts": 0, "deleted_uploads": 0, "deleted_job_records": 0, "errors": 0, "component": "output_cleanup"}}
{"timestamp": "2026-02-09T21:17:20.352425Z", "level": "INFO", "logger": "app.main", "message": "POST /upload", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "08a159bf-c3e6-41b4-9aab-ac2fd0f32939", "extra": {"method": "POST", "path": "/upload", "client": "127.0.0.1", "request_id": "08a159bf-c3e6-41b4-9aab-ac2fd0f32939", "service": "api"}}
{"timestamp": "2026-02-09T21:17:20.356936Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload initiated", "module": "upload", "function": "upload_file", "line": 48, "request_id": "08a159bf-c3e6-41b4-9aab-ac2fd0f32939", "extra": {"upload_filename": "photo_2026-02-09_21-41-04.jpg", "content_type": "image/jpeg", "request_id": "08a159bf-c3e6-41b4-9aab-ac2fd0f32939", "component": "upload_routes"}}
{"timestamp": "2026-02-09T21:17:20.360154Z", "level": "INFO", "logger": "app.routes.upload", "message": "File upload completed", "module": "upload", "function": "upload_file", "line": 58, "request_id": "08a159bf-c3e6-41b4-9aab-ac2fd0f32939", "extra": {"file_id": "f66e54d2-ab8d-4ff1-9893-1de726dea8c9", "upload_filename": "photo_2026-02-09_21-41-04.jpg", "request_id": "08a159bf-c3e6-41b4-9aab-ac2fd0f32939", "component": "upload_routes"}}
{"timestamp": "2026-02-09T21:17:20.360154Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "08a159bf-c3e6-41b4-9aab-ac2fd0f32939", "extra": {"status_code": 200, "method": "POST", "path": "/upload", "request_id": "08a159bf-c3e6-41b4-9aab-ac2fd0f32939", "service": "api"}}
{"timestamp": "2026-02-09T21:17:20.688014Z", "level": "INFO", "logger": "app.main", "message": "POST /analyze", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "4aaecef8-a7cb-41cd-83de-ccf4fb760fd8", "extra": {"method": "POST", "path": "/analyze", "client": "127.0.0.1", "request_id": "4aaecef8-a7cb-41cd-83de-ccf4fb760fd8", "service": "api"}}
{"timestamp": "2026-02-09T21:17:20.695015Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-flash-lite-latest | Prompt: 1614 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "4aaecef8-a7cb-41cd-83de-ccf4fb760fd8", "extra": {"event": "llm_request", "request_id": "2dd52131-3af9-4b69-849f-693e693d9596", "timestamp": "2026-02-09T21:17:20.693014Z", "model": "gemini-flash-lite-latest", "prompt": "You are an expert educator preparing COMPREHENSIVE educational video content.\n\nAnalyze this content from the image. Extract all text, equations, diagrams, concepts, code, or information visible.\nIMPORTANT: Detect the SUBJECT AREA (math, computer science, physics, economics, biology, engineering, general).\n\nCreate ONE comprehensive video that covers ALL the content in this image:\n- The video should... [truncated, total: 1614 chars]", "prompt_length": 1614, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"summary": {"type": "string"}, "main_subject": {"type": "string"}, "subject_area": {"type": "string", "enum": ["math", "cs", "physics", "economics", "biology", "engineering", "general"]}, "key_concepts": {"type": "array", "items": {"type": "string"}}, "detected_math_elements": {"type": "integer"}, "extracted_content": {"type": "array", "items": {"type": "string"}}, "suggested_topics": {"type": "array", "items": {"type": "object", "properties": {"index": {"type": "integer"}, "title": {"type": "string"}, "description": {"type": "string"}, "estimated_duration": {"type": "integer"}, "complexity": {"type": "string"}, "subject_area": {"type": "string"}, "subtopics": {"type": "array", "items": {"type": "string"}}, "prerequisites": {"type": "array", "items": {"type": "string"}}, "visual_ideas": {"type": "array", "items": {"type": "string"}}}, "required": ["index", "title", "description", "estimated_duration", "complexity"]}}, "estimated_total_videos": {"type": "integer"}}, "required": ["summary", "main_subject", "subject_area", "key_concepts", "suggested_topics", "estimated_total_videos"]}}, "system_instruction": null, "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:17:20.697533Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "4aaecef8-a7cb-41cd-83de-ccf4fb760fd8"}
{"timestamp": "2026-02-09T21:17:28.082257Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 7.39s | Length: 9427 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "4aaecef8-a7cb-41cd-83de-ccf4fb760fd8", "extra": {"event": "llm_response", "request_id": "2dd52131-3af9-4b69-849f-693e693d9596", "timestamp": "2026-02-09T21:17:28.081248Z", "response_text": "{\n    \"summary\": \"This comprehensive video will explore a collection of fundamental mathematical and physics equations and concepts displayed on a notebook page, juxtaposed with abstract 3D geometric shapes. We will break down each equation, starting with a potential differential equation (Helmholtz/Poisson type), an integral identity involving the Dirac delta function, a limit definition, the 2D ... [truncated, total: 9427 chars]", "duration_seconds": 7.387, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:17:28.089267Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "4aaecef8-a7cb-41cd-83de-ccf4fb760fd8", "extra": {"status_code": 200, "method": "POST", "path": "/analyze", "request_id": "4aaecef8-a7cb-41cd-83de-ccf4fb760fd8", "service": "api"}}
{"timestamp": "2026-02-09T21:17:31.990089Z", "level": "INFO", "logger": "app.main", "message": "GET /voices", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "ec0bee36-8fa7-414a-96ff-504ce3848f4b", "extra": {"method": "GET", "path": "/voices", "client": "127.0.0.1", "request_id": "ec0bee36-8fa7-414a-96ff-504ce3848f4b", "service": "api"}}
{"timestamp": "2026-02-09T21:17:31.992090Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/3b1b.png", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "23ff9d6c-ed6d-4e04-ba8a-9c7e6d5126b9", "extra": {"method": "GET", "path": "/static/style_previews/3b1b.png", "client": "127.0.0.1", "request_id": "23ff9d6c-ed6d-4e04-ba8a-9c7e6d5126b9", "service": "api"}}
{"timestamp": "2026-02-09T21:17:31.993090Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "ec0bee36-8fa7-414a-96ff-504ce3848f4b", "extra": {"status_code": 200, "method": "GET", "path": "/voices", "request_id": "ec0bee36-8fa7-414a-96ff-504ce3848f4b", "service": "api"}}
{"timestamp": "2026-02-09T21:17:31.996603Z", "level": "INFO", "logger": "app.main", "message": "GET /voices", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "47e0cfcd-8b4a-4da1-9ae9-096416b66426", "extra": {"method": "GET", "path": "/voices", "client": "127.0.0.1", "request_id": "47e0cfcd-8b4a-4da1-9ae9-096416b66426", "service": "api"}}
{"timestamp": "2026-02-09T21:17:31.997617Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "47e0cfcd-8b4a-4da1-9ae9-096416b66426", "extra": {"status_code": 200, "method": "GET", "path": "/voices", "request_id": "47e0cfcd-8b4a-4da1-9ae9-096416b66426", "service": "api"}}
{"timestamp": "2026-02-09T21:17:32.128018Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/clean.png", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "d7a1213f-f5ef-432c-9c65-8f98ec394176", "extra": {"method": "GET", "path": "/static/style_previews/clean.png", "client": "127.0.0.1", "request_id": "d7a1213f-f5ef-432c-9c65-8f98ec394176", "service": "api"}}
{"timestamp": "2026-02-09T21:17:32.129027Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "23ff9d6c-ed6d-4e04-ba8a-9c7e6d5126b9", "extra": {"status_code": 200, "method": "GET", "path": "/static/style_previews/3b1b.png", "request_id": "23ff9d6c-ed6d-4e04-ba8a-9c7e6d5126b9", "service": "api"}}
{"timestamp": "2026-02-09T21:17:32.132539Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "d7a1213f-f5ef-432c-9c65-8f98ec394176", "extra": {"status_code": 200, "method": "GET", "path": "/static/style_previews/clean.png", "request_id": "d7a1213f-f5ef-432c-9c65-8f98ec394176", "service": "api"}}
{"timestamp": "2026-02-09T21:17:32.132539Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/dracula.png", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "d8f1e5ea-3d39-47db-ba6d-50f15ca5272b", "extra": {"method": "GET", "path": "/static/style_previews/dracula.png", "client": "127.0.0.1", "request_id": "d8f1e5ea-3d39-47db-ba6d-50f15ca5272b", "service": "api"}}
{"timestamp": "2026-02-09T21:17:32.135551Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "d8f1e5ea-3d39-47db-ba6d-50f15ca5272b", "extra": {"status_code": 200, "method": "GET", "path": "/static/style_previews/dracula.png", "request_id": "d8f1e5ea-3d39-47db-ba6d-50f15ca5272b", "service": "api"}}
{"timestamp": "2026-02-09T21:17:32.137063Z", "level": "INFO", "logger": "app.main", "message": "GET /static/style_previews/nord.png", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "71b4257b-cc65-4999-9f7b-5f75d0e8674a", "extra": {"method": "GET", "path": "/static/style_previews/nord.png", "client": "127.0.0.1", "request_id": "71b4257b-cc65-4999-9f7b-5f75d0e8674a", "service": "api"}}
{"timestamp": "2026-02-09T21:17:32.139077Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "71b4257b-cc65-4999-9f7b-5f75d0e8674a", "extra": {"status_code": 200, "method": "GET", "path": "/static/style_previews/nord.png", "request_id": "71b4257b-cc65-4999-9f7b-5f75d0e8674a", "service": "api"}}
{"timestamp": "2026-02-09T21:17:39.582464Z", "level": "INFO", "logger": "app.main", "message": "POST /generate", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "extra": {"method": "POST", "path": "/generate", "client": "127.0.0.1", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.233202Z", "level": "INFO", "logger": "app.services.pipeline.assembly.processor", "message": "Initialized VideoProcessor", "module": "processor", "function": "__init__", "line": 33, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "component": "video_processor"}}
{"timestamp": "2026-02-09T21:17:53.233202Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Initialized VideoGenerator", "module": "video_generator", "function": "__init__", "line": 63, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "extra": {"output_base_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "component": "video_generator"}}
{"timestamp": "2026-02-09T21:17:53.235211Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "extra": {"status_code": 200, "method": "POST", "path": "/generate", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.237217Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Starting: generate_video (job: 436153d3)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "component": "video_generator"}}
{"timestamp": "2026-02-09T21:17:53.238215Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "Initialized ProgressTracker for job 436153d3", "module": "progress", "function": "__init__", "line": 115, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"job_id": "436153d3-5aba-4360-b76e-2165fef06565", "job_dir": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\436153d3-5aba-4360-b76e-2165fef06565", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "component": "progress_tracker"}}
{"timestamp": "2026-02-09T21:17:53.239214Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Starting video generation", "module": "video_generator", "function": "generate_video", "line": 195, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"job_id": "436153d3-5aba-4360-b76e-2165fef06565", "resume": false, "voice": "", "style": "3b1b", "language": "auto", "video_mode": "overview", "content_focus": "practice", "document_context": "auto", "max_concurrent": 3, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "component": "video_generator"}}
{"timestamp": "2026-02-09T21:17:53.240214Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "Found 0 completed sections", "module": "progress", "function": "check_existing_progress", "line": 185, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"completed_count": 0, "total_sections": 0, "completed_indices": [], "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "progress_tracker"}}
{"timestamp": "2026-02-09T21:17:53.240214Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Generating new script (video_mode: overview)", "module": "video_generator", "function": "generate_video", "line": 227, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "video_generator"}}
{"timestamp": "2026-02-09T21:17:53.241215Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[script] Generating script...", "module": "progress", "function": "report_stage_progress", "line": 232, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"stage": "script", "progress": 0, "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "component": "progress_tracker"}}
{"timestamp": "2026-02-09T21:17:53.242216Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Generating script from material", "module": "video_generator", "function": "_generate_script", "line": 392, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"material_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\uploads\\f66e54d2-ab8d-4ff1-9893-1de726dea8c9.jpg", "video_mode": "overview", "content_focus": "practice", "document_context": "auto", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "video_generator"}}
{"timestamp": "2026-02-09T21:17:53.243215Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-flash-lite-latest | Prompt: 128 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_request", "request_id": "cc8edec5-825d-4f8e-93b4-56017000b103", "timestamp": "2026-02-09T21:17:53.242216Z", "model": "gemini-flash-lite-latest", "prompt": "Detect the primary language of this text. Respond with ONLY the ISO 639-1 code (e.g., \"en\", \"fr\", \"es\").\n\nText:\n\n\nLanguage code:", "prompt_length": 128, "config": {"temperature": 0.1, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***"}, "system_instruction": null, "tools": null, "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:17:53.243724Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565"}
{"timestamp": "2026-02-09T21:17:53.250739Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "e66cead2-3a78-4acd-950c-ff1c9984a743", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "e66cead2-3a78-4acd-950c-ff1c9984a743", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.253737Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "3e133bc7-58b0-4ec2-99b6-ecb2a73f3328", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "3e133bc7-58b0-4ec2-99b6-ecb2a73f3328", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.254248Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "e66cead2-3a78-4acd-950c-ff1c9984a743", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "e66cead2-3a78-4acd-950c-ff1c9984a743", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.259296Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "3e133bc7-58b0-4ec2-99b6-ecb2a73f3328", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "3e133bc7-58b0-4ec2-99b6-ecb2a73f3328", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.260294Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "39e247c4-bd86-420e-8e10-1237492e57a9", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "39e247c4-bd86-420e-8e10-1237492e57a9", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.262298Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "82ef6e91-bbf0-417b-b3ee-48e66025ec78", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "82ef6e91-bbf0-417b-b3ee-48e66025ec78", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.263809Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "39e247c4-bd86-420e-8e10-1237492e57a9", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "39e247c4-bd86-420e-8e10-1237492e57a9", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.269037Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "82ef6e91-bbf0-417b-b3ee-48e66025ec78", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "82ef6e91-bbf0-417b-b3ee-48e66025ec78", "service": "api"}}
{"timestamp": "2026-02-09T21:17:53.640129Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 0.40s | Length: 2 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_response", "request_id": "cc8edec5-825d-4f8e-93b4-56017000b103", "timestamp": "2026-02-09T21:17:53.639508Z", "response_text": "en", "duration_seconds": 0.397, "success": true, "error": null, "metadata": null, "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:17:53.641136Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.generator", "message": "Using OVERVIEW mode", "module": "generator", "function": "generate_script", "line": 92, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"video_mode": "overview", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "script_generator"}}
{"timestamp": "2026-02-09T21:17:53.642138Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview generation constraints", "module": "overview_generator", "function": "generate_overview_script", "line": 135, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"overview_constraints": {"min_duration_seconds": 180, "max_duration_seconds": 420, "min_sections": 5, "max_sections": 8, "section_min_words": 80, "section_max_words": 170, "constraint_retry_count": 1}, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "overview_script_generator"}}
{"timestamp": "2026-02-09T21:17:53.642138Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview planning profile", "module": "overview_generator", "function": "_build_planning_profile", "line": 537, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"material_score": 3, "total_pages": null, "content_length": 0, "estimated_duration_hint": 83, "effective_min_sections": 6, "preferred_sections": 7, "preferred_duration_seconds": 384, "target_section_words": 153, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "overview_script_generator"}}
{"timestamp": "2026-02-09T21:17:53.644135Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 5342 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_request", "request_id": "5f1c6ff0-060e-4a9c-a5a7-a43c1d1b8e9e", "timestamp": "2026-02-09T21:17:53.643135Z", "model": "gemini-3-flash-preview", "prompt": "You are an expert educator creating a SHORT, ENGAGING overview video script.\nGenerate ALL content in English.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n                         OVERVIEW VIDEO REQUIREMENTS\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nGOAL: Create a 3-7 MINUTE overview video that introduces the key concepts.\n... [truncated, total: 5342 chars]", "prompt_length": 5342, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"title": {"type": "string", "description": "Engaging video title"}, "subject_area": {"type": "string", "description": "Subject area (math, cs, physics, etc.)"}, "overview": {"type": "string", "description": "2-3 sentence description of what viewers will learn"}, "learning_objectives": {"type": "array", "items": {"type": "string"}, "description": "2-4 key learning objectives"}, "sections": {"type": "array", "minItems": 5, "maxItems": 8, "items": {"type": "object", "properties": {"id": {"type": "string", "description": "Unique section identifier (e.g., intro, concept_1, conclusion)"}, "title": {"type": "string", "description": "Section title"}, "narration": {"type": "string", "description": "Complete spoken narration for this section (80-170 words)"}, "tts_narration": {"type": "string", "description": "TTS-ready narration with math spelled out"}, "supporting_data": {"type": "array", "items": {"type": "object", "properties": {"type": {"type": "string"}, "label": {"type": "string"}, "value": {}, "notes": {"type": "string"}}, "required": ["type", "value"]}}}, "required": ["id", "title", "narration", "tts_narration"]}, "description": "5-8 sections for the video"}}, "required": ["title", "overview", "sections"]}}, "system_instruction": null, "tools": null, "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:17:53.644135Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565"}
{"timestamp": "2026-02-09T21:17:56.251871Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "6a43a645-ba94-4b38-901b-2dfd537977fc", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "6a43a645-ba94-4b38-901b-2dfd537977fc", "service": "api"}}
{"timestamp": "2026-02-09T21:17:56.255084Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "0c2d5190-600d-4f02-ab9f-fc488f2bee2b", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "0c2d5190-600d-4f02-ab9f-fc488f2bee2b", "service": "api"}}
{"timestamp": "2026-02-09T21:17:56.257156Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "6a43a645-ba94-4b38-901b-2dfd537977fc", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "6a43a645-ba94-4b38-901b-2dfd537977fc", "service": "api"}}
{"timestamp": "2026-02-09T21:17:56.258157Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "0c2d5190-600d-4f02-ab9f-fc488f2bee2b", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "0c2d5190-600d-4f02-ab9f-fc488f2bee2b", "service": "api"}}
{"timestamp": "2026-02-09T21:17:59.253438Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "a89776e4-12d5-47bb-8ad9-3ca248111da0", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "a89776e4-12d5-47bb-8ad9-3ca248111da0", "service": "api"}}
{"timestamp": "2026-02-09T21:17:59.255959Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "c873e62e-abb7-4910-8628-5cb44d11270f", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "c873e62e-abb7-4910-8628-5cb44d11270f", "service": "api"}}
{"timestamp": "2026-02-09T21:17:59.259958Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "a89776e4-12d5-47bb-8ad9-3ca248111da0", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "a89776e4-12d5-47bb-8ad9-3ca248111da0", "service": "api"}}
{"timestamp": "2026-02-09T21:17:59.260960Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "c873e62e-abb7-4910-8628-5cb44d11270f", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "c873e62e-abb7-4910-8628-5cb44d11270f", "service": "api"}}
{"timestamp": "2026-02-09T21:18:02.259518Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "277a093c-08ea-47cb-9f5a-cc775ad76775", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "277a093c-08ea-47cb-9f5a-cc775ad76775", "service": "api"}}
{"timestamp": "2026-02-09T21:18:02.260515Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "13768fcf-532f-4f03-b9a0-92726a4f76de", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "13768fcf-532f-4f03-b9a0-92726a4f76de", "service": "api"}}
{"timestamp": "2026-02-09T21:18:02.263517Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "277a093c-08ea-47cb-9f5a-cc775ad76775", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "277a093c-08ea-47cb-9f5a-cc775ad76775", "service": "api"}}
{"timestamp": "2026-02-09T21:18:02.266047Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "13768fcf-532f-4f03-b9a0-92726a4f76de", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "13768fcf-532f-4f03-b9a0-92726a4f76de", "service": "api"}}
{"timestamp": "2026-02-09T21:18:05.252566Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "0ed79841-74b8-4948-aea3-fd2f73b3e5c8", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "0ed79841-74b8-4948-aea3-fd2f73b3e5c8", "service": "api"}}
{"timestamp": "2026-02-09T21:18:05.253820Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "cb5f7f6a-b36a-4f6b-8a8f-b50a327191b6", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "cb5f7f6a-b36a-4f6b-8a8f-b50a327191b6", "service": "api"}}
{"timestamp": "2026-02-09T21:18:05.255823Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "0ed79841-74b8-4948-aea3-fd2f73b3e5c8", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "0ed79841-74b8-4948-aea3-fd2f73b3e5c8", "service": "api"}}
{"timestamp": "2026-02-09T21:18:05.256821Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "cb5f7f6a-b36a-4f6b-8a8f-b50a327191b6", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "cb5f7f6a-b36a-4f6b-8a8f-b50a327191b6", "service": "api"}}
{"timestamp": "2026-02-09T21:18:08.257527Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "feb525d5-5ba0-470c-ad69-b787ca2f4635", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "feb525d5-5ba0-470c-ad69-b787ca2f4635", "service": "api"}}
{"timestamp": "2026-02-09T21:18:08.258573Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "8c6a9aa0-ba24-4c16-88bc-b14d4604d246", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "8c6a9aa0-ba24-4c16-88bc-b14d4604d246", "service": "api"}}
{"timestamp": "2026-02-09T21:18:08.260539Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "feb525d5-5ba0-470c-ad69-b787ca2f4635", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "feb525d5-5ba0-470c-ad69-b787ca2f4635", "service": "api"}}
{"timestamp": "2026-02-09T21:18:08.261537Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "8c6a9aa0-ba24-4c16-88bc-b14d4604d246", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "8c6a9aa0-ba24-4c16-88bc-b14d4604d246", "service": "api"}}
{"timestamp": "2026-02-09T21:18:11.256172Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "f760b8f6-2513-4fc0-8f3b-152294b330ed", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "f760b8f6-2513-4fc0-8f3b-152294b330ed", "service": "api"}}
{"timestamp": "2026-02-09T21:18:11.258471Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "eb8e680b-870c-4e9f-adb9-e1de25a63b6d", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "eb8e680b-870c-4e9f-adb9-e1de25a63b6d", "service": "api"}}
{"timestamp": "2026-02-09T21:18:11.258471Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "f760b8f6-2513-4fc0-8f3b-152294b330ed", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "f760b8f6-2513-4fc0-8f3b-152294b330ed", "service": "api"}}
{"timestamp": "2026-02-09T21:18:11.276611Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "eb8e680b-870c-4e9f-adb9-e1de25a63b6d", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "eb8e680b-870c-4e9f-adb9-e1de25a63b6d", "service": "api"}}
{"timestamp": "2026-02-09T21:18:14.264679Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "1b07292c-6699-4de0-8723-f2a3ebccd501", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "1b07292c-6699-4de0-8723-f2a3ebccd501", "service": "api"}}
{"timestamp": "2026-02-09T21:18:14.265676Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "44e6ffa5-3077-4634-bd44-c66d10a00f96", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "44e6ffa5-3077-4634-bd44-c66d10a00f96", "service": "api"}}
{"timestamp": "2026-02-09T21:18:14.267681Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "1b07292c-6699-4de0-8723-f2a3ebccd501", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "1b07292c-6699-4de0-8723-f2a3ebccd501", "service": "api"}}
{"timestamp": "2026-02-09T21:18:14.269182Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "44e6ffa5-3077-4634-bd44-c66d10a00f96", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "44e6ffa5-3077-4634-bd44-c66d10a00f96", "service": "api"}}
{"timestamp": "2026-02-09T21:18:17.252359Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "bdc0a06e-8c90-4a96-a90c-aaa8c3d347e4", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "bdc0a06e-8c90-4a96-a90c-aaa8c3d347e4", "service": "api"}}
{"timestamp": "2026-02-09T21:18:17.253358Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "cccdc45d-9820-4364-8062-1308b5d8760b", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "cccdc45d-9820-4364-8062-1308b5d8760b", "service": "api"}}
{"timestamp": "2026-02-09T21:18:17.256359Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "bdc0a06e-8c90-4a96-a90c-aaa8c3d347e4", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "bdc0a06e-8c90-4a96-a90c-aaa8c3d347e4", "service": "api"}}
{"timestamp": "2026-02-09T21:18:17.257357Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "cccdc45d-9820-4364-8062-1308b5d8760b", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "cccdc45d-9820-4364-8062-1308b5d8760b", "service": "api"}}
{"timestamp": "2026-02-09T21:18:20.253258Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "1251a8ff-ad38-45c3-bab9-ca0bdd9d2f04", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "1251a8ff-ad38-45c3-bab9-ca0bdd9d2f04", "service": "api"}}
{"timestamp": "2026-02-09T21:18:20.254264Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "ef09435f-8be7-44bc-9f1a-8056de08b353", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "ef09435f-8be7-44bc-9f1a-8056de08b353", "service": "api"}}
{"timestamp": "2026-02-09T21:18:20.257766Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "1251a8ff-ad38-45c3-bab9-ca0bdd9d2f04", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "1251a8ff-ad38-45c3-bab9-ca0bdd9d2f04", "service": "api"}}
{"timestamp": "2026-02-09T21:18:20.257766Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "ef09435f-8be7-44bc-9f1a-8056de08b353", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "ef09435f-8be7-44bc-9f1a-8056de08b353", "service": "api"}}
{"timestamp": "2026-02-09T21:18:23.262178Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "045e121d-142c-4c01-9755-059eca4ad01c", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "045e121d-142c-4c01-9755-059eca4ad01c", "service": "api"}}
{"timestamp": "2026-02-09T21:18:23.263690Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "a560e089-d94e-40b4-b4b3-9f875264e31b", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "a560e089-d94e-40b4-b4b3-9f875264e31b", "service": "api"}}
{"timestamp": "2026-02-09T21:18:23.267203Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "045e121d-142c-4c01-9755-059eca4ad01c", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "045e121d-142c-4c01-9755-059eca4ad01c", "service": "api"}}
{"timestamp": "2026-02-09T21:18:23.270066Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "a560e089-d94e-40b4-b4b3-9f875264e31b", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "a560e089-d94e-40b4-b4b3-9f875264e31b", "service": "api"}}
{"timestamp": "2026-02-09T21:18:24.814731Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 31.17s | Length: 17779 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_response", "request_id": "5f1c6ff0-060e-4a9c-a5a7-a43c1d1b8e9e", "timestamp": "2026-02-09T21:18:24.813670Z", "response_text": "{\n  \"title\": \"The Language of the Universe: From Calculus to Quantum Mechanics\",\n  \"subject_area\": \"math\",\n  \"overview\": \"This video provides a high-level overview of the mathematical tools used to describe the physical world, ranging from classical vector calculus and geometry to the quantum mechanics of the Schr\u00f6dinger equation. Viewers will explore how derivatives, integrals, and differential e... [truncated, total: 17779 chars]", "duration_seconds": 31.171, "success": true, "error": null, "metadata": null, "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:18:24.820801Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script metrics", "module": "overview_generator", "function": "_log_script_metrics", "line": 638, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"attempt": 1, "metrics": {"section_count": 7, "total_words": 1043, "estimated_duration_seconds": 492, "section_word_counts": [150, 147, 155, 150, 147, 145, 149]}, "violations": ["duration_too_high"], "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "overview_script_generator"}}
{"timestamp": "2026-02-09T21:18:24.821803Z", "level": "WARNING", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script constraints missed; retrying generation", "module": "overview_generator", "function": "generate_overview_script", "line": 224, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"attempt": 1, "max_attempts": 2, "violations": ["duration_too_high"], "metrics": {"section_count": 7, "section_word_counts": [150, 147, 155, 150, 147, 145, 149], "total_words": 1043, "estimated_duration_seconds": 492}, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "overview_script_generator"}}
{"timestamp": "2026-02-09T21:18:24.823799Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 5844 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_request", "request_id": "83f70a7a-7358-42b7-884b-74a3771b602d", "timestamp": "2026-02-09T21:18:24.822802Z", "model": "gemini-3-flash-preview", "prompt": "You are an expert educator creating a SHORT, ENGAGING overview video script.\nGenerate ALL content in English.\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n                         OVERVIEW VIDEO REQUIREMENTS\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nGOAL: Create a 3-7 MINUTE overview video that introduces the key concepts.\n... [truncated, total: 5844 chars]", "prompt_length": 5844, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "response_mime_type": "application/json", "response_schema": {"type": "object", "properties": {"title": {"type": "string", "description": "Engaging video title"}, "subject_area": {"type": "string", "description": "Subject area (math, cs, physics, etc.)"}, "overview": {"type": "string", "description": "2-3 sentence description of what viewers will learn"}, "learning_objectives": {"type": "array", "items": {"type": "string"}, "description": "2-4 key learning objectives"}, "sections": {"type": "array", "minItems": 5, "maxItems": 8, "items": {"type": "object", "properties": {"id": {"type": "string", "description": "Unique section identifier (e.g., intro, concept_1, conclusion)"}, "title": {"type": "string", "description": "Section title"}, "narration": {"type": "string", "description": "Complete spoken narration for this section (80-170 words)"}, "tts_narration": {"type": "string", "description": "TTS-ready narration with math spelled out"}, "supporting_data": {"type": "array", "items": {"type": "object", "properties": {"type": {"type": "string"}, "label": {"type": "string"}, "value": {}, "notes": {"type": "string"}}, "required": ["type", "value"], "property_ordering": ["type", "label", "value", "notes"]}}}, "required": ["id", "title", "narration", "tts_narration"], "property_ordering": ["id", "title", "narration", "tts_narration", "supporting_data"]}, "description": "5-8 sections for the video"}}, "required": ["title", "overview", "sections"]}}, "system_instruction": null, "tools": null, "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:18:24.825434Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565"}
{"timestamp": "2026-02-09T21:18:26.253166Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "06156cf7-4992-479a-9801-5312e0cca367", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "06156cf7-4992-479a-9801-5312e0cca367", "service": "api"}}
{"timestamp": "2026-02-09T21:18:26.254162Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "620ceabf-78fe-4c83-884a-53fb748a30b7", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "620ceabf-78fe-4c83-884a-53fb748a30b7", "service": "api"}}
{"timestamp": "2026-02-09T21:18:26.255162Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "06156cf7-4992-479a-9801-5312e0cca367", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "06156cf7-4992-479a-9801-5312e0cca367", "service": "api"}}
{"timestamp": "2026-02-09T21:18:26.261379Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "620ceabf-78fe-4c83-884a-53fb748a30b7", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "620ceabf-78fe-4c83-884a-53fb748a30b7", "service": "api"}}
{"timestamp": "2026-02-09T21:18:29.254477Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "86e35cbb-8cad-4d8c-b454-4762fe92476d", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "86e35cbb-8cad-4d8c-b454-4762fe92476d", "service": "api"}}
{"timestamp": "2026-02-09T21:18:29.255486Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "e6d43769-ac48-445d-9003-ced91e48f994", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "e6d43769-ac48-445d-9003-ced91e48f994", "service": "api"}}
{"timestamp": "2026-02-09T21:18:29.257998Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "86e35cbb-8cad-4d8c-b454-4762fe92476d", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "86e35cbb-8cad-4d8c-b454-4762fe92476d", "service": "api"}}
{"timestamp": "2026-02-09T21:18:29.258998Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "e6d43769-ac48-445d-9003-ced91e48f994", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "e6d43769-ac48-445d-9003-ced91e48f994", "service": "api"}}
{"timestamp": "2026-02-09T21:18:32.252318Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "92bf5489-b2fe-45a4-8e4e-7e05c3e10db3", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "92bf5489-b2fe-45a4-8e4e-7e05c3e10db3", "service": "api"}}
{"timestamp": "2026-02-09T21:18:32.253328Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "5fbf20d2-6272-43ab-a0a8-92a453b6cd43", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "5fbf20d2-6272-43ab-a0a8-92a453b6cd43", "service": "api"}}
{"timestamp": "2026-02-09T21:18:32.255328Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "92bf5489-b2fe-45a4-8e4e-7e05c3e10db3", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "92bf5489-b2fe-45a4-8e4e-7e05c3e10db3", "service": "api"}}
{"timestamp": "2026-02-09T21:18:32.256329Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "5fbf20d2-6272-43ab-a0a8-92a453b6cd43", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "5fbf20d2-6272-43ab-a0a8-92a453b6cd43", "service": "api"}}
{"timestamp": "2026-02-09T21:18:35.261488Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "87df924f-5b34-436b-933f-25231f9b4c88", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "87df924f-5b34-436b-933f-25231f9b4c88", "service": "api"}}
{"timestamp": "2026-02-09T21:18:35.262999Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "86324f08-7276-4d9a-a7ba-9de487ce5d21", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "86324f08-7276-4d9a-a7ba-9de487ce5d21", "service": "api"}}
{"timestamp": "2026-02-09T21:18:35.265521Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "87df924f-5b34-436b-933f-25231f9b4c88", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "87df924f-5b34-436b-933f-25231f9b4c88", "service": "api"}}
{"timestamp": "2026-02-09T21:18:35.266524Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "86324f08-7276-4d9a-a7ba-9de487ce5d21", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "86324f08-7276-4d9a-a7ba-9de487ce5d21", "service": "api"}}
{"timestamp": "2026-02-09T21:18:38.252233Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "13303b2c-b1fa-40f7-aee1-ab71642a1eb9", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "13303b2c-b1fa-40f7-aee1-ab71642a1eb9", "service": "api"}}
{"timestamp": "2026-02-09T21:18:38.253740Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "1b678f36-2511-458b-9864-857cb5988fa1", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "1b678f36-2511-458b-9864-857cb5988fa1", "service": "api"}}
{"timestamp": "2026-02-09T21:18:38.256769Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "13303b2c-b1fa-40f7-aee1-ab71642a1eb9", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "13303b2c-b1fa-40f7-aee1-ab71642a1eb9", "service": "api"}}
{"timestamp": "2026-02-09T21:18:38.257780Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "1b678f36-2511-458b-9864-857cb5988fa1", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "1b678f36-2511-458b-9864-857cb5988fa1", "service": "api"}}
{"timestamp": "2026-02-09T21:18:41.249786Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "e28e3f04-4cdb-4043-9768-5a0a274ffe9f", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "e28e3f04-4cdb-4043-9768-5a0a274ffe9f", "service": "api"}}
{"timestamp": "2026-02-09T21:18:41.250959Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "be684434-ab71-4b8b-aa53-8e3906e8fa41", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "be684434-ab71-4b8b-aa53-8e3906e8fa41", "service": "api"}}
{"timestamp": "2026-02-09T21:18:41.256005Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "e28e3f04-4cdb-4043-9768-5a0a274ffe9f", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "e28e3f04-4cdb-4043-9768-5a0a274ffe9f", "service": "api"}}
{"timestamp": "2026-02-09T21:18:41.257013Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "be684434-ab71-4b8b-aa53-8e3906e8fa41", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "be684434-ab71-4b8b-aa53-8e3906e8fa41", "service": "api"}}
{"timestamp": "2026-02-09T21:18:44.262765Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "b323b6e1-7d5d-4f05-a4f0-662d4d0f6806", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "b323b6e1-7d5d-4f05-a4f0-662d4d0f6806", "service": "api"}}
{"timestamp": "2026-02-09T21:18:44.263781Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "988d93b3-c065-4df6-a883-c1d3d1dd5e8f", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "988d93b3-c065-4df6-a883-c1d3d1dd5e8f", "service": "api"}}
{"timestamp": "2026-02-09T21:18:44.266163Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "b323b6e1-7d5d-4f05-a4f0-662d4d0f6806", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "b323b6e1-7d5d-4f05-a4f0-662d4d0f6806", "service": "api"}}
{"timestamp": "2026-02-09T21:18:44.266163Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "988d93b3-c065-4df6-a883-c1d3d1dd5e8f", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "988d93b3-c065-4df6-a883-c1d3d1dd5e8f", "service": "api"}}
{"timestamp": "2026-02-09T21:18:47.262727Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "9c324090-d258-4ea4-aeab-749ca84ef74e", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "9c324090-d258-4ea4-aeab-749ca84ef74e", "service": "api"}}
{"timestamp": "2026-02-09T21:18:47.263741Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "b0b6a740-643a-4cbb-bbd6-367c74fb73b2", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "b0b6a740-643a-4cbb-bbd6-367c74fb73b2", "service": "api"}}
{"timestamp": "2026-02-09T21:18:47.266701Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "9c324090-d258-4ea4-aeab-749ca84ef74e", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "9c324090-d258-4ea4-aeab-749ca84ef74e", "service": "api"}}
{"timestamp": "2026-02-09T21:18:47.267206Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "b0b6a740-643a-4cbb-bbd6-367c74fb73b2", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "b0b6a740-643a-4cbb-bbd6-367c74fb73b2", "service": "api"}}
{"timestamp": "2026-02-09T21:18:50.253145Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "6c793593-fec4-47b8-97d3-b55d23e95616", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "6c793593-fec4-47b8-97d3-b55d23e95616", "service": "api"}}
{"timestamp": "2026-02-09T21:18:50.254145Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "9f3e23cb-0fb3-4c56-a84e-05fb7e7ea0db", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "9f3e23cb-0fb3-4c56-a84e-05fb7e7ea0db", "service": "api"}}
{"timestamp": "2026-02-09T21:18:50.257598Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "6c793593-fec4-47b8-97d3-b55d23e95616", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "6c793593-fec4-47b8-97d3-b55d23e95616", "service": "api"}}
{"timestamp": "2026-02-09T21:18:50.258604Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "9f3e23cb-0fb3-4c56-a84e-05fb7e7ea0db", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "9f3e23cb-0fb3-4c56-a84e-05fb7e7ea0db", "service": "api"}}
{"timestamp": "2026-02-09T21:18:52.474417Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 27.65s | Length: 15337 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_response", "request_id": "83f70a7a-7358-42b7-884b-74a3771b602d", "timestamp": "2026-02-09T21:18:52.474417Z", "response_text": "{\n  \"title\": \"The Language of the Universe: From Calculus to Quantum Mechanics\",\n  \"subject_area\": \"math\",\n  \"overview\": \"Discover the mathematical foundations that describe our physical world, from the curviness of fields to the behavior of subatomic particles. This video provides an intuitive overview of vector calculus, differential equations, and the fundamental principles of analysis.\",\n  \"le... [truncated, total: 15337 chars]", "duration_seconds": 27.652, "success": true, "error": null, "metadata": null, "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:18:52.479941Z", "level": "INFO", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script metrics", "module": "overview_generator", "function": "_log_script_metrics", "line": 638, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"attempt": 2, "metrics": {"section_count": 7, "total_words": 917, "estimated_duration_seconds": 432, "section_word_counts": [132, 134, 136, 136, 122, 126, 131]}, "violations": ["duration_too_high"], "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "overview_script_generator"}}
{"timestamp": "2026-02-09T21:18:52.479941Z", "level": "WARNING", "logger": "app.services.pipeline.script_generation.overview_generator", "message": "Overview script constraints still missed after retries; returning best effort", "module": "overview_generator", "function": "generate_overview_script", "line": 235, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"violations": ["duration_too_high"], "metrics": {"section_count": 7, "section_word_counts": [132, 134, 136, 136, 122, 126, 131], "total_words": 917, "estimated_duration_seconds": 432}, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "overview_script_generator"}}
{"timestamp": "2026-02-09T21:18:52.485453Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[script] Script generated", "module": "progress", "function": "report_stage_progress", "line": 232, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"stage": "script", "progress": 100, "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "component": "progress_tracker"}}
{"timestamp": "2026-02-09T21:18:52.488558Z", "level": "INFO", "logger": "app.services.pipeline.assembly.video_generator", "message": "Processing 7 sections", "module": "video_generator", "function": "generate_video", "line": 258, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"section_count": 7, "effective_language": "en", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "video_generator"}}
{"timestamp": "2026-02-09T21:18:52.488558Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Initialized SectionOrchestrator", "module": "orchestrator", "function": "__init__", "line": 79, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"max_concurrent": 3, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_orchestrator"}}
{"timestamp": "2026-02-09T21:18:52.489557Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Starting: process_sections_parallel (7 sections)", "module": "logging", "function": "__enter__", "line": 332, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_orchestrator"}}
{"timestamp": "2026-02-09T21:18:52.489557Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "Starting parallel section processing", "module": "orchestrator", "function": "process_sections_parallel", "line": 121, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"total_sections": 7, "max_concurrent": 3, "resume": false, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_orchestrator"}}
{"timestamp": "2026-02-09T21:18:52.490556Z", "level": "INFO", "logger": "app.services.pipeline.assembly.progress", "message": "[sections] Processing 7 sections (max 3 concurrent)...", "module": "progress", "function": "report_stage_progress", "line": 232, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"stage": "sections", "progress": 0, "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "component": "progress_tracker"}}
{"timestamp": "2026-02-09T21:18:52.491557Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 1/7: The Curviness of Fields: The Laplacian", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"section_index": 0, "total_sections": 7, "title": "The Curviness of Fields: The Laplacian", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_orchestrator"}}
{"timestamp": "2026-02-09T21:18:52.492557Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Processing 6 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_processor"}}
{"timestamp": "2026-02-09T21:18:52.909267Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 2/7: Symmetry in Time: Fourier and the Delta Function", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"section_index": 1, "total_sections": 7, "title": "Symmetry in Time: Fourier and the Delta Function", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_orchestrator"}}
{"timestamp": "2026-02-09T21:18:52.909267Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_processor"}}
{"timestamp": "2026-02-09T21:18:53.274712Z", "level": "INFO", "logger": "app.services.pipeline.assembly.orchestrator", "message": "[Parallel] Starting section 3/7: Convergence and Geometry", "module": "orchestrator", "function": "_process_single_section", "line": 258, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"section_index": 2, "total_sections": 7, "title": "Convergence and Geometry", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_orchestrator"}}
{"timestamp": "2026-02-09T21:18:53.275713Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Processing 7 segments (audio-first, per-segment)", "module": "sections", "function": "process_segments_audio_first", "line": 1246, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_processor"}}
{"timestamp": "2026-02-09T21:18:53.647212Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "65ca0304-ac8f-414e-abf9-1799dd693a64", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "65ca0304-ac8f-414e-abf9-1799dd693a64", "service": "api"}}
{"timestamp": "2026-02-09T21:18:53.747748Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "0a0a676c-44c5-48fd-ae84-5705c5049496", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "0a0a676c-44c5-48fd-ae84-5705c5049496", "service": "api"}}
{"timestamp": "2026-02-09T21:18:53.756762Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "65ca0304-ac8f-414e-abf9-1799dd693a64", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "65ca0304-ac8f-414e-abf9-1799dd693a64", "service": "api"}}
{"timestamp": "2026-02-09T21:18:53.757772Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "0a0a676c-44c5-48fd-ae84-5705c5049496", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "0a0a676c-44c5-48fd-ae84-5705c5049496", "service": "api"}}
{"timestamp": "2026-02-09T21:18:56.916414Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "3170e4b7-89e5-4615-9aa9-6a5525d26cd0", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "3170e4b7-89e5-4615-9aa9-6a5525d26cd0", "service": "api"}}
{"timestamp": "2026-02-09T21:18:56.917417Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "44fc3e06-f519-4dc6-b448-ada7f91a971f", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "44fc3e06-f519-4dc6-b448-ada7f91a971f", "service": "api"}}
{"timestamp": "2026-02-09T21:18:56.923439Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "3170e4b7-89e5-4615-9aa9-6a5525d26cd0", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "3170e4b7-89e5-4615-9aa9-6a5525d26cd0", "service": "api"}}
{"timestamp": "2026-02-09T21:18:56.924442Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "44fc3e06-f519-4dc6-b448-ada7f91a971f", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "44fc3e06-f519-4dc6-b448-ada7f91a971f", "service": "api"}}
{"timestamp": "2026-02-09T21:18:59.601632Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "11cf4135-416f-47b4-85b4-3a4e9013fe13", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "11cf4135-416f-47b4-85b4-3a4e9013fe13", "service": "api"}}
{"timestamp": "2026-02-09T21:18:59.602638Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "63fba006-e9b5-4592-a368-f358bd019466", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "63fba006-e9b5-4592-a368-f358bd019466", "service": "api"}}
{"timestamp": "2026-02-09T21:18:59.607146Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "11cf4135-416f-47b4-85b4-3a4e9013fe13", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "11cf4135-416f-47b4-85b4-3a4e9013fe13", "service": "api"}}
{"timestamp": "2026-02-09T21:18:59.608146Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "63fba006-e9b5-4592-a368-f358bd019466", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "63fba006-e9b5-4592-a368-f358bd019466", "service": "api"}}
{"timestamp": "2026-02-09T21:19:02.770307Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "56aa4de8-08e0-4a63-955f-1205fbbd4574", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "56aa4de8-08e0-4a63-955f-1205fbbd4574", "service": "api"}}
{"timestamp": "2026-02-09T21:19:02.771321Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "0df89b19-729f-493e-a67c-776300c91a29", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "0df89b19-729f-493e-a67c-776300c91a29", "service": "api"}}
{"timestamp": "2026-02-09T21:19:02.782083Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "56aa4de8-08e0-4a63-955f-1205fbbd4574", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "56aa4de8-08e0-4a63-955f-1205fbbd4574", "service": "api"}}
{"timestamp": "2026-02-09T21:19:02.783085Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "0df89b19-729f-493e-a67c-776300c91a29", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "0df89b19-729f-493e-a67c-776300c91a29", "service": "api"}}
{"timestamp": "2026-02-09T21:19:05.663557Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "80dfa785-c799-442d-ba69-4617ef61abd5", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "80dfa785-c799-442d-ba69-4617ef61abd5", "service": "api"}}
{"timestamp": "2026-02-09T21:19:05.664558Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "737e01ba-238b-48b5-bdd8-b330f299238c", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "737e01ba-238b-48b5-bdd8-b330f299238c", "service": "api"}}
{"timestamp": "2026-02-09T21:19:05.672084Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "80dfa785-c799-442d-ba69-4617ef61abd5", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "80dfa785-c799-442d-ba69-4617ef61abd5", "service": "api"}}
{"timestamp": "2026-02-09T21:19:05.673123Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "737e01ba-238b-48b5-bdd8-b330f299238c", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "737e01ba-238b-48b5-bdd8-b330f299238c", "service": "api"}}
{"timestamp": "2026-02-09T21:19:05.855378Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Total audio duration = 44.8s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_processor"}}
{"timestamp": "2026-02-09T21:19:06.571025Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Total audio duration = 44.1s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_processor"}}
{"timestamp": "2026-02-09T21:19:06.683696Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 0: Generating unified video using NEW Pipeline (44.1s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_processor"}}
{"timestamp": "2026-02-09T21:19:06.685266Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 0 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "manim_generator"}}
{"timestamp": "2026-02-09T21:19:06.685888Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'The Curviness of Fields: The Laplacian'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-09T21:19:06.688899Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10915 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "choreography", "request_id": "485de47c-2b81-4e39-9d41-e66509e948d8", "timestamp": "2026-02-09T21:19:06.686899Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: The Curviness of Fields: The Laplacian\n**Duration**: 44.06400000000001s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: English\n**Visual Strateg... [truncated, total: 10915 chars]", "prompt_length": 10915, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"anyOf": [{"type": "string"}, {"type": "null"}]}, "relation": {"anyOf": [{"type": "string", "enum": ["above", "below", "left_of", "right_of"]}, {"type": "null"}]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:19:06.691897Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565"}
{"timestamp": "2026-02-09T21:19:06.694403Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 1: Generating unified video using NEW Pipeline (44.8s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_processor"}}
{"timestamp": "2026-02-09T21:19:06.696414Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 1 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "manim_generator"}}
{"timestamp": "2026-02-09T21:19:06.697412Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Symmetry in Time: Fourier and the Delta Function'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-09T21:19:06.699413Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 9819 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_request", "section_index": 1, "job_id": "unknown", "stage": "choreography", "request_id": "1b871077-9b77-4257-9087-9180d99c712b", "timestamp": "2026-02-09T21:19:06.698414Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Symmetry in Time: Fourier and the Delta Function\n**Duration**: 44.832s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: English\n**Visual Strategy... [truncated, total: 9819 chars]", "prompt_length": 9819, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "property_ordering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "property_ordering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "property_ordering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:19:06.702017Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565"}
{"timestamp": "2026-02-09T21:19:06.853821Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Total audio duration = 45.3s", "module": "sections", "function": "process_segments_audio_first", "line": 1276, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_processor"}}
{"timestamp": "2026-02-09T21:19:06.930090Z", "level": "INFO", "logger": "app.services.pipeline.assembly.sections", "message": "Section 2: Generating unified video using NEW Pipeline (45.3s total)", "module": "sections", "function": "process_segments_audio_first", "line": 1348, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "section_processor"}}
{"timestamp": "2026-02-09T21:19:06.931089Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Starting animation pipeline for section 2 (Job: None)", "module": "generator", "function": "generate_animation", "line": 112, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "manim_generator"}}
{"timestamp": "2026-02-09T21:19:06.932594Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 1: Choreography for 'Convergence and Geometry'", "module": "orchestrator", "function": "_execute_pipeline", "line": 187, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-09T21:19:06.935180Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 10977 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "choreography", "request_id": "3db1a431-cb7a-4f59-8545-ade89d86b6aa", "timestamp": "2026-02-09T21:19:06.933596Z", "model": "gemini-3-flash-preview", "prompt": "Create a detailed Visual Choreography Plan for this educational content.\n\n## CONTENT\n**Title**: Convergence and Geometry\n**Duration**: 45.264s\n**Theme**: 3Blue1Brown Dark; background=#171717; primary_text=#FFFFFF; secondary_text=#AFC6FF; accents=[#58C4DD, #83C167, #FFC857, #FF6B6B]; notes=High-contrast dark style with vibrant accents.\n**Language**: English\n**Visual Strategy**:\nMode=comprehensive; ... [truncated, total: 10977 chars]", "prompt_length": 10977, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "response_schema": {"type": "object", "properties": {"scene_type": {"type": "string", "description": "Scene type: 2D or 3D"}, "objects": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "type": {"type": "string"}, "text": {"type": "string"}, "latex": {"type": "string"}, "appears_at": {"type": "number"}, "removed_at": {"type": "number"}, "notes": {"type": "string"}, "visual_description": {"type": "string"}, "layout_zone": {"type": "string", "enum": ["top_left", "top_center", "top_right", "mid_left", "center", "mid_right", "bottom_left", "bottom_center", "bottom_right"]}, "relative_to": {"nullable": true, "type": "string"}, "relation": {"nullable": true, "type": "string", "enum": ["above", "below", "left_of", "right_of"]}, "spacing": {"type": "number"}}, "required": ["id", "type", "appears_at", "removed_at", "layout_zone"], "propertyOrdering": ["id", "type", "text", "latex", "appears_at", "removed_at", "notes", "visual_description", "layout_zone", "relative_to", "relation", "spacing"]}}, "segments": {"type": "array", "items": {"type": "object", "properties": {"segment_index": {"type": "integer"}, "start_time": {"type": "number"}, "end_time": {"type": "number"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"time": {"type": "number"}, "action": {"type": "string"}, "target": {"type": "string"}, "source": {"type": "string"}, "position": {"type": "string", "enum": ["center", "left", "right", "up", "down", "upper_left", "upper_right", "lower_left", "lower_right", "x,y"]}, "duration": {"type": "number"}, "notes": {"type": "string"}, "visual_change": {"type": "string"}, "narration_cue": {"type": "string"}, "data_binding": {"type": "string"}}, "required": ["time", "action", "visual_change", "narration_cue"], "propertyOrdering": ["time", "action", "target", "source", "position", "duration", "notes", "visual_change", "narration_cue", "data_binding"]}}}, "required": ["segment_index", "start_time", "end_time", "steps"], "propertyOrdering": ["segment_index", "start_time", "end_time", "steps"]}}}, "required": ["scene_type", "objects", "segments"]}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation style (Create, FadeIn, Transform, etc.)\n- Spatial positioning (center, left, up, etc.)\n- Scene type: 2D or 3D (only allow 3D objects when scene_type is \"3D\")\n\n## VISUAL RICHNESS EXPECTATION\n- Avoid \"text-only storyboard\" plans unless the concept is inherently textual.\n- Prefer mixed visual vocabulary: text + diagrams/graphs/tables/arrows/highlights.\n- Plan visible state transitions (not just replacing whole screens of text).\n- For quantitative/process content, explicitly include visual state objects that evolve over time.\n- Every step should include explicit `visual_change` and `narration_cue` fields so\n  implementation can follow concrete on-screen intent, not just action verbs.\n- When narration cites Figure/Table/Equation/Appendix, include bound visual\n  objects that recreate the cited artifact on screen.\n- Do NOT invent external image/file assets. Use `asset_path` only if a real path\n  is already supplied in the section data.\n\n## SPATIAL LAYOUT RULES (CRITICAL)\n- Define \"relative_to\" + \"relation\" for every object that co-exists with another.\n- Anchor objects use \"relative_to\": null with explicit position.\n- Subsequent objects MUST reference an anchor: e.g. \"relative_to\": \"title\", \"relation\": \"below\".\n- Spacing between 0.3 and 1.0 (larger for distinct sections).\n- Treat touching objects as overlap defects. Keep visible separation margins:\n  text-text >= 0.4, text-shape >= 0.3, shape-shape >= 0.2.\n- NEVER schedule two Text objects without spatial separation.\n- ALWAYS include FadeOut steps when an object is no longer needed \u2014 stale objects\n  left on screen are the #1 cause of overlap bugs.\n- Maximum ~8 visible objects at any time to avoid clutter.\n- Prefer Transform/ReplacementTransform over delete+recreate for smooth transitions.\n- For tables/grids: always note \"scale to fit screen\" in the plan.\n- For text near edges: always note \"keep margin from screen boundary\".\n\n## LAYOUT PLANNING PROTOCOL (MANDATORY)\n- Assign each object a `layout_zone` from a 3x3 screen grid:\n  top_left, top_center, top_right, mid_left, center, mid_right,\n  bottom_left, bottom_center, bottom_right.\n- Objects that are visible at the same time should use distinct zones unless a\n  transform explicitly replaces one object with another.\n- If two co-visible objects share a zone, include enough `relation` + `spacing`\n  detail to keep them non-overlapping.\n- Avoid defaulting many objects to `center`. Reserve `center` for the primary\n  focus object in a moment.\n\nOutput must be STRICT JSON following the user-provided schema."}, "system_instruction": "You are an Expert Animation Director specializing in educational content.\n\nYour role is to create detailed Visual Choreography Plans that describe:\n- What visual elements to show\n- When they appear/disappear (precise timing)\n- How they animate and transition\n- How they support the narration\n\nThink like a 3Blue1Brown director: every animation should serve the educational goal.\n\nBe specific about:\n- Object names and types (Circle, Text, Axes, etc.)\n- Exact timing (start time, duration)\n- Animation... [truncated, total: 3034 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:19:06.938196Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565"}
{"timestamp": "2026-02-09T21:19:08.253955Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "f41bce5c-5298-4d8b-9268-773002341e14", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "f41bce5c-5298-4d8b-9268-773002341e14", "service": "api"}}
{"timestamp": "2026-02-09T21:19:08.255304Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "24ab573d-24f4-4376-bfe6-1efd912dec83", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "24ab573d-24f4-4376-bfe6-1efd912dec83", "service": "api"}}
{"timestamp": "2026-02-09T21:19:08.263372Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "f41bce5c-5298-4d8b-9268-773002341e14", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "f41bce5c-5298-4d8b-9268-773002341e14", "service": "api"}}
{"timestamp": "2026-02-09T21:19:08.264372Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "24ab573d-24f4-4376-bfe6-1efd912dec83", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "24ab573d-24f4-4376-bfe6-1efd912dec83", "service": "api"}}
{"timestamp": "2026-02-09T21:19:08.479453Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/section/0", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "0beca28a-679c-4dd7-90fe-0b4c6ff0890a", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/section/0", "client": "127.0.0.1", "request_id": "0beca28a-679c-4dd7-90fe-0b4c6ff0890a", "service": "api"}}
{"timestamp": "2026-02-09T21:19:08.484445Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "0beca28a-679c-4dd7-90fe-0b4c6ff0890a", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/section/0", "request_id": "0beca28a-679c-4dd7-90fe-0b4c6ff0890a", "service": "api"}}
{"timestamp": "2026-02-09T21:19:11.250408Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "7b560f76-0e8c-4441-93ff-431e9d09c3fe", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "7b560f76-0e8c-4441-93ff-431e9d09c3fe", "service": "api"}}
{"timestamp": "2026-02-09T21:19:11.252570Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "e5c54d3c-0106-4cd8-85e5-13bb36e0c449", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "e5c54d3c-0106-4cd8-85e5-13bb36e0c449", "service": "api"}}
{"timestamp": "2026-02-09T21:19:11.264599Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "7b560f76-0e8c-4441-93ff-431e9d09c3fe", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "7b560f76-0e8c-4441-93ff-431e9d09c3fe", "service": "api"}}
{"timestamp": "2026-02-09T21:19:11.266639Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "e5c54d3c-0106-4cd8-85e5-13bb36e0c449", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "e5c54d3c-0106-4cd8-85e5-13bb36e0c449", "service": "api"}}
{"timestamp": "2026-02-09T21:19:14.257268Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "15dd4059-370f-4cd8-99c9-712cae319b63", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "15dd4059-370f-4cd8-99c9-712cae319b63", "service": "api"}}
{"timestamp": "2026-02-09T21:19:14.258269Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "ed734441-0731-4497-a86f-5c32368cf04b", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "ed734441-0731-4497-a86f-5c32368cf04b", "service": "api"}}
{"timestamp": "2026-02-09T21:19:14.266850Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "15dd4059-370f-4cd8-99c9-712cae319b63", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "15dd4059-370f-4cd8-99c9-712cae319b63", "service": "api"}}
{"timestamp": "2026-02-09T21:19:14.267848Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "ed734441-0731-4497-a86f-5c32368cf04b", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "ed734441-0731-4497-a86f-5c32368cf04b", "service": "api"}}
{"timestamp": "2026-02-09T21:19:17.251628Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "ff975c37-4fff-44cc-9444-14b666c2702c", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "ff975c37-4fff-44cc-9444-14b666c2702c", "service": "api"}}
{"timestamp": "2026-02-09T21:19:17.253630Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "745a1dc0-71e5-4b57-a582-c7fdfafd449d", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "745a1dc0-71e5-4b57-a582-c7fdfafd449d", "service": "api"}}
{"timestamp": "2026-02-09T21:19:17.262144Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "ff975c37-4fff-44cc-9444-14b666c2702c", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "ff975c37-4fff-44cc-9444-14b666c2702c", "service": "api"}}
{"timestamp": "2026-02-09T21:19:17.263818Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "745a1dc0-71e5-4b57-a582-c7fdfafd449d", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "745a1dc0-71e5-4b57-a582-c7fdfafd449d", "service": "api"}}
{"timestamp": "2026-02-09T21:19:20.251404Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "3c26daad-3b48-43d0-b755-256a06d8e507", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "3c26daad-3b48-43d0-b755-256a06d8e507", "service": "api"}}
{"timestamp": "2026-02-09T21:19:20.252406Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "3c1f4304-f640-453d-a8e2-77a9219c5604", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "3c1f4304-f640-453d-a8e2-77a9219c5604", "service": "api"}}
{"timestamp": "2026-02-09T21:19:20.258978Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "3c26daad-3b48-43d0-b755-256a06d8e507", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "3c26daad-3b48-43d0-b755-256a06d8e507", "service": "api"}}
{"timestamp": "2026-02-09T21:19:20.259991Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "3c1f4304-f640-453d-a8e2-77a9219c5604", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "3c1f4304-f640-453d-a8e2-77a9219c5604", "service": "api"}}
{"timestamp": "2026-02-09T21:19:23.260062Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "0873f10a-570e-4c4c-931b-06c6597181bb", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "0873f10a-570e-4c4c-931b-06c6597181bb", "service": "api"}}
{"timestamp": "2026-02-09T21:19:23.261062Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "6a78def1-c093-45a3-8547-4eb546e5a415", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "6a78def1-c093-45a3-8547-4eb546e5a415", "service": "api"}}
{"timestamp": "2026-02-09T21:19:23.270236Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "0873f10a-570e-4c4c-931b-06c6597181bb", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "0873f10a-570e-4c4c-931b-06c6597181bb", "service": "api"}}
{"timestamp": "2026-02-09T21:19:23.271238Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "6a78def1-c093-45a3-8547-4eb546e5a415", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "6a78def1-c093-45a3-8547-4eb546e5a415", "service": "api"}}
{"timestamp": "2026-02-09T21:19:26.252461Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "1ba77de4-5d74-4f4c-8b13-0e6b295884ce", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "1ba77de4-5d74-4f4c-8b13-0e6b295884ce", "service": "api"}}
{"timestamp": "2026-02-09T21:19:26.254462Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "9f1dbd56-376c-45f9-8b5d-c0e280d722b8", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "9f1dbd56-376c-45f9-8b5d-c0e280d722b8", "service": "api"}}
{"timestamp": "2026-02-09T21:19:26.260978Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "1ba77de4-5d74-4f4c-8b13-0e6b295884ce", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "1ba77de4-5d74-4f4c-8b13-0e6b295884ce", "service": "api"}}
{"timestamp": "2026-02-09T21:19:26.261978Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "9f1dbd56-376c-45f9-8b5d-c0e280d722b8", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "9f1dbd56-376c-45f9-8b5d-c0e280d722b8", "service": "api"}}
{"timestamp": "2026-02-09T21:19:29.260535Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "38c8039b-c17c-45e2-a3c1-3b347113f023", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "38c8039b-c17c-45e2-a3c1-3b347113f023", "service": "api"}}
{"timestamp": "2026-02-09T21:19:29.262536Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "213b6725-c826-4660-985f-7c433d1ba7be", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "213b6725-c826-4660-985f-7c433d1ba7be", "service": "api"}}
{"timestamp": "2026-02-09T21:19:29.269576Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "38c8039b-c17c-45e2-a3c1-3b347113f023", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "38c8039b-c17c-45e2-a3c1-3b347113f023", "service": "api"}}
{"timestamp": "2026-02-09T21:19:29.269576Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "213b6725-c826-4660-985f-7c433d1ba7be", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "213b6725-c826-4660-985f-7c433d1ba7be", "service": "api"}}
{"timestamp": "2026-02-09T21:19:32.258453Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "e4021b42-29c7-4311-acab-a0a5309a6107", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "e4021b42-29c7-4311-acab-a0a5309a6107", "service": "api"}}
{"timestamp": "2026-02-09T21:19:32.259449Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "3e65e739-60b1-4971-89b3-8d98e47f5540", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "3e65e739-60b1-4971-89b3-8d98e47f5540", "service": "api"}}
{"timestamp": "2026-02-09T21:19:32.264972Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "e4021b42-29c7-4311-acab-a0a5309a6107", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "e4021b42-29c7-4311-acab-a0a5309a6107", "service": "api"}}
{"timestamp": "2026-02-09T21:19:32.265973Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "3e65e739-60b1-4971-89b3-8d98e47f5540", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "3e65e739-60b1-4971-89b3-8d98e47f5540", "service": "api"}}
{"timestamp": "2026-02-09T21:19:32.348132Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 25.41s | Length: 9365 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_response", "section_index": 2, "job_id": "unknown", "stage": "choreography", "request_id": "3db1a431-cb7a-4f59-8545-ade89d86b6aa", "timestamp": "2026-02-09T21:19:32.347131Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Convergence and Geometry\",\n      \"appears_at\": 0.5,\n      \"removed_at\": 7.0,\n      \"notes\": \"Main title for introduction.\",\n      \"visual_description\": \"Bold white text at top of screen.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n ... [truncated, total: 9365 chars]", "duration_seconds": 25.413, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:19:32.349716Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (9365 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "animation_choreographer"}}
{"timestamp": "2026-02-09T21:19:32.351725Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\436153d3-5aba-4360-b76e-2165fef06565\\sections\\2\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "animation_file_manager"}}
{"timestamp": "2026-02-09T21:19:32.351725Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"section_index": 2, "attempt": 1, "plan_chars": 9365, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\436153d3-5aba-4360-b76e-2165fef06565\\sections\\2\\choreography_plan.json", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "manim_generator"}}
{"timestamp": "2026-02-09T21:19:32.351725Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'Convergence and Geometry'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-09T21:19:32.354234Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 25160 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_request", "section_index": 2, "job_id": "unknown", "stage": "implementation", "request_id": "076e8b80-6e00-49d9-bd3f-d6aacaa4bca9", "timestamp": "2026-02-09T21:19:32.352724Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"Convergence and Geometry\",\n      \"appears_at\": 0.5,\n      \"removed_at\": 7.0,\n      \"notes\": \"Main title for introduction.\",\n      \"visual_description\": \"Bold white... [truncated, total: 25160 chars]", "prompt_length": 25160, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:19:32.356243Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565"}
{"timestamp": "2026-02-09T21:19:35.253263Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "04bf6f7d-6e61-40c8-ac1f-c534c6e10271", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "04bf6f7d-6e61-40c8-ac1f-c534c6e10271", "service": "api"}}
{"timestamp": "2026-02-09T21:19:35.254262Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "027a82b4-130b-4460-a116-6f8822817725", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "027a82b4-130b-4460-a116-6f8822817725", "service": "api"}}
{"timestamp": "2026-02-09T21:19:35.261303Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "04bf6f7d-6e61-40c8-ac1f-c534c6e10271", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "04bf6f7d-6e61-40c8-ac1f-c534c6e10271", "service": "api"}}
{"timestamp": "2026-02-09T21:19:35.262301Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "027a82b4-130b-4460-a116-6f8822817725", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "027a82b4-130b-4460-a116-6f8822817725", "service": "api"}}
{"timestamp": "2026-02-09T21:19:38.253211Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "6db03f1b-1625-41f6-8321-06996a493e7a", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "6db03f1b-1625-41f6-8321-06996a493e7a", "service": "api"}}
{"timestamp": "2026-02-09T21:19:38.254222Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "2cb2856b-0d3a-49d9-8d3f-2b31879c943e", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "2cb2856b-0d3a-49d9-8d3f-2b31879c943e", "service": "api"}}
{"timestamp": "2026-02-09T21:19:38.260737Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "6db03f1b-1625-41f6-8321-06996a493e7a", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "6db03f1b-1625-41f6-8321-06996a493e7a", "service": "api"}}
{"timestamp": "2026-02-09T21:19:38.262736Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "2cb2856b-0d3a-49d9-8d3f-2b31879c943e", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "2cb2856b-0d3a-49d9-8d3f-2b31879c943e", "service": "api"}}
{"timestamp": "2026-02-09T21:19:41.253566Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "50ed2fd0-54c5-4c34-9054-c1b0f4bea9e5", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "50ed2fd0-54c5-4c34-9054-c1b0f4bea9e5", "service": "api"}}
{"timestamp": "2026-02-09T21:19:41.253566Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "f8bec497-95d0-4bcd-92f0-d86dbdadb05b", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "f8bec497-95d0-4bcd-92f0-d86dbdadb05b", "service": "api"}}
{"timestamp": "2026-02-09T21:19:41.260085Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "50ed2fd0-54c5-4c34-9054-c1b0f4bea9e5", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "50ed2fd0-54c5-4c34-9054-c1b0f4bea9e5", "service": "api"}}
{"timestamp": "2026-02-09T21:19:41.261082Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "f8bec497-95d0-4bcd-92f0-d86dbdadb05b", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "f8bec497-95d0-4bcd-92f0-d86dbdadb05b", "service": "api"}}
{"timestamp": "2026-02-09T21:19:44.250542Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "89d7bbbe-489f-409f-a5e6-2c640246ffe6", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "client": "127.0.0.1", "request_id": "89d7bbbe-489f-409f-a5e6-2c640246ffe6", "service": "api"}}
{"timestamp": "2026-02-09T21:19:44.251553Z", "level": "INFO", "logger": "app.main", "message": "GET /job/436153d3-5aba-4360-b76e-2165fef06565/details", "module": "main", "function": "add_request_correlation", "line": 111, "request_id": "bb9313cb-f732-45cc-9174-b3deb28e2b9a", "extra": {"method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "client": "127.0.0.1", "request_id": "bb9313cb-f732-45cc-9174-b3deb28e2b9a", "service": "api"}}
{"timestamp": "2026-02-09T21:19:44.259158Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "89d7bbbe-489f-409f-a5e6-2c640246ffe6", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565", "request_id": "89d7bbbe-489f-409f-a5e6-2c640246ffe6", "service": "api"}}
{"timestamp": "2026-02-09T21:19:44.261675Z", "level": "INFO", "logger": "app.main", "message": "Response: 200", "module": "main", "function": "add_request_correlation", "line": 155, "request_id": "bb9313cb-f732-45cc-9174-b3deb28e2b9a", "extra": {"status_code": 200, "method": "GET", "path": "/job/436153d3-5aba-4360-b76e-2165fef06565/details", "request_id": "bb9313cb-f732-45cc-9174-b3deb28e2b9a", "service": "api"}}
{"timestamp": "2026-02-09T21:19:44.616461Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Response | Duration: 37.93s | Length: 8366 chars", "module": "llm_logger", "function": "log_response", "line": 481, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_response", "section_index": 0, "job_id": "unknown", "stage": "choreography", "request_id": "485de47c-2b81-4e39-9d41-e66509e948d8", "timestamp": "2026-02-09T21:19:44.614351Z", "response_text": "{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Curviness of Fields\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 6.816,\n      \"notes\": \"Main title for the introduction.\",\n      \"visual_description\": \"Large white bold text.\",\n      \"layout_zone\": \"top_center\",\n      \"relative_to\": null,\n      \"relation\": null,\n      \"spacing\": 0.0\n    },\n... [truncated, total: 8366 chars]", "duration_seconds": 37.926, "success": true, "error": null, "metadata": null, "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:19:44.618472Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.stages.choreographer", "message": "Generated choreography plan (8366 chars)", "module": "choreographer", "function": "plan", "line": 123, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "animation_choreographer"}}
{"timestamp": "2026-02-09T21:19:44.622809Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.core.file_manager", "message": "Choreography plan written: C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\436153d3-5aba-4360-b76e-2165fef06565\\sections\\0\\choreography_plan.json", "module": "file_manager", "function": "prepare_choreography_plan_file", "line": 79, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "animation_file_manager"}}
{"timestamp": "2026-02-09T21:19:44.623820Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.generator", "message": "Choreography plan generated", "module": "generator", "function": "on_choreography_plan", "line": 137, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"section_index": 0, "attempt": 1, "plan_chars": 8366, "pipeline_stage": "choreography_generated", "choreography_plan_path": "C:\\Users\\gagik\\Documents\\projects\\EduViz-main\\backend\\outputs\\436153d3-5aba-4360-b76e-2165fef06565\\sections\\0\\choreography_plan.json", "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "manim_generator"}}
{"timestamp": "2026-02-09T21:19:44.625440Z", "level": "INFO", "logger": "app.services.pipeline.animation.generation.orchestrator", "message": "Stage 2: Implementation for 'The Curviness of Fields: The Laplacian'", "module": "orchestrator", "function": "_execute_pipeline", "line": 200, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "component": "animation_orchestrator"}}
{"timestamp": "2026-02-09T21:19:44.629473Z", "level": "INFO", "logger": "app.core.llm_logger", "message": "LLM Request | Model: gemini-3-flash-preview | Prompt: 24165 chars", "module": "llm_logger", "function": "log_request", "line": 380, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565", "extra": {"event": "llm_request", "section_index": 0, "job_id": "unknown", "stage": "implementation", "request_id": "44d0587a-8ee2-4a07-82f1-25b7266405be", "timestamp": "2026-02-09T21:19:44.625440Z", "model": "gemini-3-flash-preview", "prompt": "Implement the COMPLETE Manim animation based on this choreography plan.\n\n## CHOREOGRAPHY PLAN (notes may be omitted in compact plans)\n{\n  \"scene_type\": \"2D\",\n  \"objects\": [\n    {\n      \"id\": \"title\",\n      \"type\": \"Text\",\n      \"text\": \"The Curviness of Fields\",\n      \"appears_at\": 0.0,\n      \"removed_at\": 6.816,\n      \"notes\": \"Main title for the introduction.\",\n      \"visual_description\": \"Large... [truncated, total: 24165 chars]", "prompt_length": 24165, "config": {"temperature": 0.7, "top_p": 0.95, "top_k": 40, "max_output_tokens": "***REDACTED***", "thinking_config": {"thinking_level": "HIGH"}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timing Precision**: Use self.wait() to sync animations with narration exactly\n\n## SPATIAL CONSTRAINTS (CRITICAL \u2014 VIOLATIONS CAUSE VISIBLE DEFECTS)\n- **X-AXIS LIMIT**: MUST be between -7.1 and 7.1. (X > 7.1 or X < -7.1 is a CRITICAL ERROR).\n- **Y-AXIS LIMIT**: MUST be between -4.0 and 4.0. (Y > 4.0 or Y < -4.0 is a CRITICAL ERROR).\n- **SAFE ZONE**: Best practice is to keep content within X [-5.5, 5.5], Y [-3.0, 3.0].\n- **TEXT EDGE MARGIN**: Text MUST have \u22650.5 units margin from screen edges. Partially clipped text (e.g. \"D\u00e9g\u00e9n\u00e9rescenc\" instead of \"D\u00e9g\u00e9n\u00e9rescence\") is a CRITICAL defect.\n- **OVERLAPS**: Do NOT overlap Text/Tex objects. This is a CRITICAL ERROR.\n- **VISIBILITY**: Do NOT set object color equal/similar to current background color. This is a CRITICAL ERROR.\n- **OUTLINES/CONTAINERS**: If using boxes, rounded rectangles, highlights, or frames, ensure the text/element is fully inside with padding. Use .next_to(..., buff=...) or .scale_to_fit_width/height and avoid clipping.\n- Use .scale() to ensure objects fit within bounds.\n- Avoid 3D objects (ThreeDScene, ThreeDVMobject) - use 2D representations.\n- Test positioning with .move_to() before animating.\n\n## TABLE / GROUP LAYOUT (MANDATORY \u2014 #1 SOURCE OF LAYOUT BUGS)\n- **ALWAYS call .scale_to_fit_width(11)** on Table, MobjectTable, VGroup, or any large\n  composite object IMMEDIATELY after creation, BEFORE positioning.\n- Tables with 4+ columns WILL overflow the screen without scaling.\n- After scaling, center with `.move_to(ORIGIN)` or `.to_edge(UP)`.\n- **Row labels**: If adding labels next to a table, use `.next_to(table, LEFT, buff=0.3)`.\n  NEVER position row labels independently \u2014 they WILL misalign.\n- **Column headers**: Use `.next_to(table, UP, buff=0.2)` to keep them attached.\n- When highlighting table cells, use `SurroundingRectangle` with\n  `fill_opacity=0, stroke_width=2` to avoid covering digits. NEVER use filled\n  highlight rectangles over table cells \u2014 they make numbers unreadable.\n- For tabular data with row/column/cell highlights, use `MathTable` or\n  `MobjectTable`. DO NOT build tables as `MathTex(r\"\\begin{array}...\")` and\n  then position highlights with hardcoded `.shift(...)`.\n- Do NOT draw extra decorative `Line(...)` separators over tables that already\n  provide grid lines. This causes random duplicate strokes in renders.\n\n## HIGHLIGHT RECTANGLES & BOXES (CRITICAL)\n- **SurroundingRectangle for highlights**: ALWAYS use `fill_opacity=0, stroke_width=2-3`.\n  A filled rectangle placed over text makes the text invisible.\n- **BackgroundRectangle**: Only for creating contrast behind text over complex scenes.\n  Never layer a filled rectangle on top of text.\n- Green/colored highlight boxes that cover digits are a CRITICAL visual defect.\n\n## LAYOUT DISCIPLINE (MANDATORY)\n- **Relative Positioning**: ALWAYS use .next_to(anchor, direction, buff=...) for objects\n  that co-exist on screen. NEVER place two objects at the same absolute position.\n- **Clean Transitions**: ALWAYS FadeOut or remove objects before placing new ones at the\n  same screen position. This is the #1 cause of text-on-text overlaps.\n- **Content Lifecycle**: Track which objects are on screen. Before adding new content,\n  explicitly clean up objects from the previous step.\n- **Title/Subtitle Pattern**: Title at .to_edge(UP), content in center, labels with\n  .next_to(target, DOWN, buff=0.3).\n- **Scale Before Place**: For complex object groups (VGroup of many items), call\n  .scale_to_fit_width(11) BEFORE positioning to ensure they fit on screen.\n- **Maximum Objects Per Frame**: Limit to ~8-10 visible objects at any time.\n  More causes clutter and overlaps.\n- **Long Text**: For text wider than 10 units, either:\n  (a) Reduce font_size, or\n  (b) Split into multiple lines with `\\n`, or\n  (c) Call `.scale_to_fit_width(10)` after creation.\n\n\n## CRITICAL RULES & COMMON PITFALLS (STRICT ADHERENCE REQUIRED)\n\n[CRITICAL_WARNING] MOST FREQUENT ERROR: FORGETTING TO CLEAN UP OLD OBJECTS\n   - You often forget to remove objects before adding new ones at the same position.\n   - **Visual Result**: Unreadable text overlaps and cluttered scenes.\n   - **Fix**: ALWAYS use `FadeOut()`, `ReplacementTransform()`, or `self.remove()` before placing new content.\n\n1. **ValueTracker.number** - WRONG! Use `tracker.get_value()` instead\n   - [WRONG] `tracker.number`\n   - [CORRECT] `tracker.get_value()`\n\n2. **ease_in_expo, exponential** - Not standard rate functions\n   - [WRONG] `rate_func=ease_in_expo`\n   - [CORRECT] `rate_func=smooth` or `rate_func=linear`\n\n3. **self.wait(0)** - Zero-duration waits cause CRASHES\n   - [WRONG] `self.wait(0)` - CRASHES with duration error\n   - [WRONG] `self.wait(52.5 - 52.66 if 52.5 > 52.66 else 0)` - CRASHES when condition is False\n   - [WRONG] `self.wait(target - current if target > current else 0)` - CRASHES when target <= current\n   - [CORRECT] Skip the wait entirely if time has passed\n   - [CORRECT] Use `max(0.01, target - current)` if you must have minimum duration\n   - **WHY THIS CRASHES**: Manim's wait() validates duration > 0. Any conditional that CAN evaluate to 0 will eventually crash.\n\n4. **Undefined colors** - See \"Valid Manim Colors\" section above\n\n5. **scale() on groups** - Must use animate syntax for groups\n   - [WRONG] `group.scale(2)` (doesn't animate)\n   - [CORRECT] `group.animate.scale(2)`\n\n6. **Missing imports** - Always start with `from manim import *`\n\n7. **Forgetting background** - Always set dark background\n   - [CORRECT] `self.camera.background_color = \"#171717\"`\n\n8. **Animating lists** - `Animation` only works on Mobjects, not lists\n   - [WRONG] `self.play(FadeOut(self.mobjects))` (Crash! list not Mobject)\n   - [CORRECT] `self.play(*[FadeOut(m) for m in self.mobjects])` (animate each)\n   \n9. **VGroup vs Group** - VGroup only accepts VMobjects, Group accepts any Mobject\n   - [WRONG] `VGroup(Group(...))` (Crash! Group inside VGroup)\n   - [CORRECT] `Group(*self.mobjects)` for mixed mobjects\n   - [CORRECT] `VGroup(*[m for m in self.mobjects if isinstance(m, VMobject)])` for VMobjects only\n\n10. **CENTER doesn't exist** - Use ORIGIN for center position\n    - [WRONG] `obj.move_to(CENTER)` (Crash!)\n    - [CORRECT] `obj.move_to(ORIGIN)`\n\n11. **Camera.frame doesn't exist on regular Camera** - MovingCameraScene uses self.camera differently\n    - [WRONG] `self.camera.frame.scale(2)` (Crash on regular Scene!)\n    - [CORRECT] For MovingCameraScene: `self.camera.frame.animate.scale(2)` \n    - [CORRECT] For regular Scene: Use `self.play(self.camera.frame.animate.scale(2))` ONLY if using MovingCameraScene\n\n12. **Mobject init kwargs** - Don't pass unexpected keyword arguments\n    - [WRONG] `Circle(size=2)` (Crash! no 'size' param)\n    - [CORRECT] `Circle(radius=2)`\n    - [WRONG] `Text(\"hi\", size=24)` (Crash! no 'size' param)\n    - [CORRECT] `Text(\"hi\", font_size=24)`\n\n13. **Forgetting to remove old objects** - Clean up before placing new items\n    - [WRONG] Creating new text without removing old \u2192 Text overlaps!\n    - [CORRECT] `self.play(FadeOut(old_text)); self.play(FadeIn(new_text))`\n    - [CORRECT] `self.play(ReplacementTransform(old_obj, new_obj))`\n    - [CORRECT] `self.remove(old_obj)` before adding new at same position\n\n14. **Text/label overlapping** - Always position labels to avoid overlaps\n    - [WRONG] Multiple labels at same position \u2192 Unreadable!\n    - [CORRECT] Use `.next_to(obj, direction, buff=0.3)` to position labels\n    - [CORRECT] Use `.shift(UP * 0.5)` to offset overlapping items\n    - [CORRECT] For axis labels, use `.to_edge(DOWN)` or `.to_corner()`\n\n15. **Objects going out of frame** - Keep everything visible\n    - [WRONG] Objects positioned at edges get cut off\n    - [WRONG] Text at X=6.5 with width 2.0 \u2192 right edge at X=7.5, clipped!\n    - [CORRECT] Use `.scale(0.8)` to shrink large groups\n    - [CORRECT] Check positions with `.move_to(ORIGIN)` then shift\n    - [CORRECT] X range: -6 to 6, Y range: -3.5 to 3.5 (visible area)\n    - [CORRECT] Text needs \u22650.5 units margin from screen edges\n    - **WHY THIS MATTERS**: Even 0.1 units past the screen edge clips text characters visibly.\n\n16. **Common Undefined Names & Hallucinations (DO NOT USE)**\n    - [WRONG] `CYAN` (causes crash). Use `BLUE_C` or `TEAL` instead.\n    - [WRONG] `CENTER` (causes crash). Use `ORIGIN` instead.\n    - [WRONG] `create_neural_net()`, `NeuralNetwork()`, `Axes2D()` - These are NOT in Manim Community.\n    - [FIX] Build complex objects from primitives: Circles for neurons, Lines for synapses, Axes for plots.\n\n17. **ManimGL vs Community Syntax**\n    - [WRONG] `self.add(obj.set_color(RED))` (ManimGL style)\n    - [CORRECT] `obj.set_color(RED); self.add(obj)` (Community style)\n    - [WRONG] `self.play(obj.animate.scale(2))` inside `self.add_foreground_mobject`\n    - [CORRECT] Keep animations and additions separate.\n\n18. **Tables and large groups MUST be scaled** (CRITICAL)\n    - [WRONG] `table = MobjectTable(...)` then positioning without scaling \u2192 TABLE OVERFLOWS SCREEN\n    - [WRONG] `table = Table(...)` without `.scale_to_fit_width(11)` \u2192 columns push off-screen\n    - [CORRECT] `table = MobjectTable(...); table.scale_to_fit_width(11); table.move_to(ORIGIN)`\n    - [CORRECT] Any VGroup with 4+ items: `.scale_to_fit_width(11)` after creation\n    - **WHY THIS CRASHES**: Tables with 4+ columns are typically 15-20 units wide. Screen is only 14.2 units.\n\n19. **Highlight rectangles MUST be stroke-only** (CRITICAL)\n    - [WRONG] `SurroundingRectangle(cell, color=GREEN)` \u2192 filled green box COVERS digits!\n    - [WRONG] `Rectangle(fill_opacity=0.5).move_to(text)` \u2192 text becomes unreadable\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0, stroke_width=2)`\n    - [CORRECT] `SurroundingRectangle(cell, color=GREEN, fill_opacity=0.1, stroke_width=3)` (very light fill OK)\n    - **WHY THIS MATTERS**: The default SurroundingRectangle has fill_opacity that covers the text.\n\n20. **Row labels MUST be attached to table** (CRITICAL for tables)\n    - [WRONG] Creating Text labels and positioning them independently \u2192 labels misalign from rows\n    - [CORRECT] Use `table.add_highlighted_cell()` or `table.get_rows()` to reference cells\n    - [CORRECT] `label.next_to(table.get_rows()[i], LEFT, buff=0.3)` to attach label to row\n    - **WHY THIS MATTERS**: Independently positioned labels won't track if table is scaled/moved.\n\n21. **Do NOT fake tables with MathTex array + manual shifts** (CRITICAL)\n    - [WRONG] `table = MathTex(r\"\\begin{{array}}...\")` with highlights positioned by\n      `.stretch_to_fit_width(table.width/8)` and `.shift(RIGHT * 3.3)` \u2192 unstable/misaligned pivots\n    - [CORRECT] `table = MathTable(...)` or `MobjectTable(...)`, then use\n      `table.get_rows()`, `table.get_columns()`, `table.get_cell()` for highlights\n    - **WHY THIS MATTERS**: hardcoded shifts break when text metrics change and cause repeated visual defects.\n\n\n\n## Valid Manim Colors (USE ONLY THESE)\n\n### Primary Colors\nWHITE, BLACK, RED, GREEN, BLUE, YELLOW, ORANGE, PINK, PURPLE, TEAL, GOLD, GRAY, GREY\n\n### Color Variants (lighter to darker with _A through _E)\n- RED_A, RED_B, RED_C, RED_D, RED_E\n- BLUE_A, BLUE_B, BLUE_C, BLUE_D, BLUE_E  \n- GREEN_A, GREEN_B, GREEN_C, GREEN_D, GREEN_E\n- YELLOW_A, YELLOW_B, YELLOW_C, YELLOW_D, YELLOW_E\n- GRAY_A, GRAY_B, GRAY_C, GRAY_D, GRAY_E (also GREY_*)\n\n### Special Colors\nMAROON, LIGHT_GRAY, DARK_GRAY, DARK_BLUE, LIGHT_PINK, DARK_BROWN\n\n### COLORS THAT DO NOT EXIST (will crash!)\n[WRONG] CYAN - Use TEAL instead\n[WRONG] MAGENTA - Use PINK or PURPLE instead  \n[WRONG] LIGHT_BLUE - Use BLUE_A or BLUE_B instead\n[WRONG] DARK_RED - Use RED_E or MAROON instead\n[WRONG] AQUA - Use TEAL instead\n\n\n\n## Valid Manim Animations (USE ONLY THESE)\n\n### Creation Animations\n- `Create(mobject)` - Draw lines/shapes progressively\n- `Write(text)` - Write text character by character\n- `FadeIn(mobject)` - Fade in from transparent\n- `FadeOut(mobject)` - Fade out to transparent\n- `GrowFromCenter(mobject)` - Grow from center point\n- `GrowFromPoint(mobject, point)` - Grow from a specific point\n- `DrawBorderThenFill(mobject)` - Draw outline then fill\n\n### Transform Animations  \n- `Transform(source, target)` - Morph one mobject into another\n- `ReplacementTransform(source, target)` - Transform and replace\n- `TransformMatchingTex(source, target)` - Transform matching LaTeX parts\n- `TransformMatchingShapes(source, target)` - Transform matching shapes\n- `MoveToTarget(mobject)` - Move to mobject.target (set with .generate_target())\n\n### Movement Animations\n- `Rotate(mobject, angle)` - Rotate by angle in radians\n- `Circumscribe(mobject)` - Circle around a mobject\n- `Indicate(mobject)` - Briefly highlight\n- `Flash(point)` - Flash at a point\n- `Wiggle(mobject)` - Wiggle in place\n- `ApplyWave(mobject)` - Wave effect\n\n### Group Animations\n- `LaggedStart(*animations, lag_ratio=0.1)` - Stagger animations\n- `AnimationGroup(*animations)` - Play animations together\n- `Succession(*animations)` - Play animations in sequence\n\n### ANIMATIONS THAT DO NOT EXIST (will crash!)\n[WRONG] Shake - Use Wiggle instead\n[WRONG] Pulse - Use Indicate instead\n[WRONG] Blink - Use Flash instead\n[WRONG] Appear - Use FadeIn instead\n[WRONG] Disappear - Use FadeOut instead\n[WRONG] Morph - Use Transform instead\n[WRONG] Slide - Use mobject.animate.shift() instead\n\n### API Gotchas\n- `Create(mobject)` - Takes ONLY the mobject, no other positional args\n- `Write(text)` - Takes ONLY the text object\n- Use `run_time=X` as keyword arg: `self.play(Create(obj), run_time=2)`\n\n\n\n## Available Manim Rate Functions\n\nUse ONLY these rate functions:\n- `linear` - Constant speed\n- `smooth` - Smooth ease in/out (default, good for most animations)\n- `rush_into` - Fast start, slow end\n- `rush_from` - Slow start, fast end\n- `there_and_back` - Goes forward then returns\n- `double_smooth` - Extra smooth transitions\n- `lingering` - Slows down at the end\n\nDO NOT use: ease_in, ease_out, exponential, ease_in_expo (these don't exist)\n\n\n\n## Direction Constants (USE ONLY THESE)\n\n- `UP`, `DOWN`, `LEFT`, `RIGHT`\n- `UL`, `UR`, `DL`, `DR`\n- `IN`, `OUT`, `ORIGIN`\n\nDO NOT use: `TOP`, `BOTTOM`, `UPPER`, `LOWER`\n\n\n\n## OUTPUT\nReturn a complete, runnable Manim scene inside a python code block.\nThe code must define exactly ONE scene class with a construct() method."}, "system_instruction": "You are an Expert Educational Animator and Manim Developer.\nYour goal is to transform educational narration into clear, beautiful animations.\n\n\n## VERSION: Manim Community v0.19.2 (REQUIRED)\n- Use ONLY syntax compatible with Manim Community v0.19.2.\n- DO NOT use legacy manimlib or ManimGL syntax.\n\n## ANIMATION PRINCIPLES\n- **Theme Fidelity**: Follow the exact theme from user prompt (background, text colors, accents)\n- **Mathematical Clarity**: Use MathTex for all formulas and equations\n- **Timin... [truncated, total: 14735 chars]", "tools": null, "component": "llm_logger"}}
{"timestamp": "2026-02-09T21:19:44.632476Z", "level": "INFO", "logger": "google_genai.models", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 5466, "request_id": "8b01f3eb-3a83-4b44-a9eb-fbf642a61c93", "job_id": "436153d3-5aba-4360-b76e-2165fef06565"}

# =============================================================================
# AI Backend Configuration
# =============================================================================

# Choose AI backend: 'false' for Gemini API (default), 'true' for Vertex AI
USE_VERTEX_AI=false

# Gemini API Configuration (when USE_VERTEX_AI=false)
# Get your API key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# Vertex AI Configuration (when USE_VERTEX_AI=true)
# Required when using Vertex AI
GCP_PROJECT_ID=your_gcp_project_id
GCP_LOCATION=us-central1

# Note: When using Vertex AI, you also need to authenticate:
# Option 1: gcloud auth application-default login
# Option 2: Set GOOGLE_APPLICATION_CREDENTIALS to service account key path
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# =============================================================================
# Storage / Retention
# =============================================================================

# Keep only final videos in completed output directories
OUTPUT_KEEP_ONLY_FINAL=true

# Cleanup loop controls
OUTPUT_CLEANUP_ENABLED=true
OUTPUT_CLEANUP_INTERVAL_MINUTES=60
OUTPUT_CLEANUP_MAX_DELETIONS=100

# Output retention (hours)
OUTPUT_RETENTION_HOURS=168
FAILED_OUTPUT_RETENTION_HOURS=48
ORPHAN_OUTPUT_RETENTION_HOURS=24
JOB_METADATA_RETENTION_HOURS=168

# Upload retention
UPLOAD_CLEANUP_ENABLED=true
UPLOAD_RETENTION_HOURS=168
UPLOAD_CLEANUP_MAX_DELETIONS=100

# Job manager in-memory cache size
JOB_MANAGER_CACHE_LIMIT=200

# =============================================================================
# Logging / Rotation
# =============================================================================

# App log rotation
LOG_MAX_BYTES=20971520
LOG_BACKUP_COUNT=5

# LLM log controls
LLM_LOG_MAX_PROMPT_LENGTH=4000
LLM_LOG_MAX_RESPONSE_LENGTH=4000
LLM_LOG_MAX_SYSTEM_LENGTH=500
LLM_LOG_MAX_BYTES=20971520
LLM_LOG_BACKUP_COUNT=5

# =============================================================================
# Runtime Hardening
# =============================================================================

# Fail startup when required runtime tools (ffmpeg/ffprobe/manim) are missing.
# Recommended true in production.
STARTUP_STRICT_RUNTIME_CHECKS=false

# API middleware limits
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=600
RATE_LIMIT_WINDOW_SECONDS=60
MAX_REQUEST_BODY_BYTES=2097152
